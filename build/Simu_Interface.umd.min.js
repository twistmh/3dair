!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Simu_Interface=t()}(this,(function(){"use strict";
/**
	 * @license
	 * Copyright 2010-2022 Three.js Authors
	 * SPDX-License-Identifier: MIT
	 */const e="138",t=0,i=1,n=2,r=0,s=1,o=2,l=1,c=2,h=3,d=0,u=1,p=2,m=0,f=1,g=2,y=3,v=4,x=5,M=100,w=101,S=102,b=103,A=104,E=200,T=201,C=202,L=203,R=204,V=205,I=206,P=207,U=208,D=209,B=210,N=0,_=1,k=2,q=3,O=4,z=5,F=6,G=7,W=0,H=1,j=2,Y=0,J=1,K=2,Z=3,Q=4,X=5,$=301,ee=302,te=303,ie=304,ne=306,re=307,se=1e3,ae=1001,oe=1002,le=1003,ce=1004,he=1005,de=1006,ue=1007,pe=1008,me=1009,fe=1010,ge=1011,ye=1012,ve=1013,xe=1014,Me=1015,we=1016,Se=1017,be=1018,Ae=1020,Ee=1021,Te=1022,Ce=1023,Le=1024,Re=1025,Ve=1026,Ie=1027,Pe=1028,Ue=1029,De=1030,Be=1031,Ne=1033,_e=33776,ke=33777,qe=33778,Oe=33779,ze=35840,Fe=35841,Ge=35842,We=35843,He=36196,je=37492,Ye=37496,Je=37808,Ke=37809,Ze=37810,Qe=37811,Xe=37812,$e=37813,et=37814,tt=37815,it=37816,nt=37817,rt=37818,st=37819,at=37820,ot=37821,lt=36492,ct=2201,ht=2300,dt=2301,ut=2302,pt=2400,mt=2401,ft=2402,gt=2500,yt=3e3,vt=3001,xt=3201,Mt=0,wt=1,St=7680,bt=35044,At=35048,Et="300 es",Tt=1035;class Ct{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const i=this._listeners[e];if(void 0!==i){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const i=t.slice(0);for(let t=0,n=i.length;t<n;t++)i[t].call(this,e);e.target=null}}}const Lt=[];for(let e=0;e<256;e++)Lt[e]=(e<16?"0":"")+e.toString(16);let Rt=1234567;const Vt=Math.PI/180,It=180/Math.PI;function Pt(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(Lt[255&e]+Lt[e>>8&255]+Lt[e>>16&255]+Lt[e>>24&255]+"-"+Lt[255&t]+Lt[t>>8&255]+"-"+Lt[t>>16&15|64]+Lt[t>>24&255]+"-"+Lt[63&i|128]+Lt[i>>8&255]+"-"+Lt[i>>16&255]+Lt[i>>24&255]+Lt[255&n]+Lt[n>>8&255]+Lt[n>>16&255]+Lt[n>>24&255]).toUpperCase()}function Ut(e,t,i){return Math.max(t,Math.min(i,e))}function Dt(e,t){return(e%t+t)%t}function Bt(e,t,i){return(1-i)*e+i*t}function Nt(e){return!(e&e-1)&&0!==e}function _t(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var kt=Object.freeze({__proto__:null,DEG2RAD:Vt,RAD2DEG:It,generateUUID:Pt,clamp:Ut,euclideanModulo:Dt,mapLinear:function(e,t,i,n,r){return n+(e-t)*(r-n)/(i-t)},inverseLerp:function(e,t,i){return e!==t?(i-e)/(t-e):0},lerp:Bt,damp:function(e,t,i,n){return Bt(e,t,1-Math.exp(-i*n))},pingpong:function(e,t=1){return t-Math.abs(Dt(e,2*t)-t)},smoothstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*(3-2*e)},smootherstep:function(e,t,i){return e<=t?0:e>=i?1:(e=(e-t)/(i-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(Rt=e%2147483647),Rt=16807*Rt%2147483647,(Rt-1)/2147483646},degToRad:function(e){return e*Vt},radToDeg:function(e){return e*It},isPowerOfTwo:Nt,ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:_t,setQuaternionFromProperEuler:function(e,t,i,n,r){const s=Math.cos,a=Math.sin,o=s(i/2),l=a(i/2),c=s((t+n)/2),h=a((t+n)/2),d=s((t-n)/2),u=a((t-n)/2),p=s((n-t)/2),m=a((n-t)/2);switch(r){case"XYX":e.set(o*h,l*d,l*u,o*c);break;case"YZY":e.set(l*u,o*h,l*d,o*c);break;case"ZXZ":e.set(l*d,l*u,o*h,o*c);break;case"XZX":e.set(o*h,l*m,l*p,o*c);break;case"YXY":e.set(l*p,o*h,l*m,o*c);break;case"ZYZ":e.set(l*m,l*p,o*h,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}});class qt{constructor(e=0,t=0){this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,n=e.elements;return this.x=n[0]*t+n[3]*i+n[6],this.y=n[1]*t+n[4]*i+n[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),n=Math.sin(t),r=this.x-e.x,s=this.y-e.y;return this.x=r*i-s*n+e.x,this.y=r*n+s*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}qt.prototype.isVector2=!0;class Ot{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,n,r,s,a,o,l){const c=this.elements;return c[0]=e,c[1]=n,c[2]=a,c[3]=t,c[4]=r,c[5]=o,c[6]=i,c[7]=s,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,n=t.elements,r=this.elements,s=i[0],a=i[3],o=i[6],l=i[1],c=i[4],h=i[7],d=i[2],u=i[5],p=i[8],m=n[0],f=n[3],g=n[6],y=n[1],v=n[4],x=n[7],M=n[2],w=n[5],S=n[8];return r[0]=s*m+a*y+o*M,r[3]=s*f+a*v+o*w,r[6]=s*g+a*x+o*S,r[1]=l*m+c*y+h*M,r[4]=l*f+c*v+h*w,r[7]=l*g+c*x+h*S,r[2]=d*m+u*y+p*M,r[5]=d*f+u*v+p*w,r[8]=d*g+u*x+p*S,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8];return t*s*c-t*a*l-i*r*c+i*a*o+n*r*l-n*s*o}invert(){const e=this.elements,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],h=c*s-a*l,d=a*o-c*r,u=l*r-s*o,p=t*h+i*d+n*u;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return e[0]=h*m,e[1]=(n*l-c*i)*m,e[2]=(a*i-n*s)*m,e[3]=d*m,e[4]=(c*t-n*o)*m,e[5]=(n*r-a*t)*m,e[6]=u*m,e[7]=(i*o-l*t)*m,e[8]=(s*t-i*r)*m,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,n,r,s,a){const o=Math.cos(r),l=Math.sin(r);return this.set(i*o,i*l,-i*(o*s+l*a)+s+e,-n*l,n*o,-n*(-l*s+o*a)+a+t,0,0,1),this}scale(e,t){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=t,i[4]*=t,i[7]*=t,this}rotate(e){const t=Math.cos(e),i=Math.sin(e),n=this.elements,r=n[0],s=n[3],a=n[6],o=n[1],l=n[4],c=n[7];return n[0]=t*r+i*o,n[3]=t*s+i*l,n[6]=t*a+i*c,n[1]=-i*r+t*o,n[4]=-i*s+t*l,n[7]=-i*a+t*c,this}translate(e,t){const i=this.elements;return i[0]+=e*i[2],i[3]+=e*i[5],i[6]+=e*i[8],i[1]+=t*i[2],i[4]+=t*i[5],i[7]+=t*i[8],this}equals(e){const t=this.elements,i=e.elements;for(let e=0;e<9;e++)if(t[e]!==i[e])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}function zt(e){for(let t=e.length-1;t>=0;--t)if(e[t]>65535)return!0;return!1}function Ft(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}Ot.prototype.isMatrix3=!0;const Gt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Wt={h:0,s:0,l:0},Ht={h:0,s:0,l:0};function jt(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+6*(t-e)*(2/3-i):e}function Yt(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Jt(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}class Kt{constructor(e,t,i){return void 0===t&&void 0===i?this.set(e):this.setRGB(e,t,i)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,t,i){return this.r=e,this.g=t,this.b=i,this}setHSL(e,t,i){if(e=Dt(e,1),t=Ut(t,0,1),i=Ut(i,0,1),0===t)this.r=this.g=this.b=i;else{const n=i<=.5?i*(1+t):i+t-i*t,r=2*i-n;this.r=jt(r,n,e+1/3),this.g=jt(r,n,e),this.b=jt(r,n,e-1/3)}return this}setStyle(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let e;const n=i[1],r=i[2];switch(n){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,t(e[4]),this;if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,t(e[4]),this;break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r)){const i=parseFloat(e[1])/360,n=parseInt(e[2],10)/100,r=parseInt(e[3],10)/100;return t(e[4]),this.setHSL(i,n,r)}}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=i[1],t=e.length;if(3===t)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,this;if(6===t)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=Gt[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Yt(e.r),this.g=Yt(e.g),this.b=Yt(e.b),this}copyLinearToSRGB(e){return this.r=Jt(e.r),this.g=Jt(e.g),this.b=Jt(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const t=this.r,i=this.g,n=this.b,r=Math.max(t,i,n),s=Math.min(t,i,n);let a,o;const l=(s+r)/2;if(s===r)a=0,o=0;else{const e=r-s;switch(o=l<=.5?e/(r+s):e/(2-r-s),r){case t:a=(i-n)/e+(i<n?6:0);break;case i:a=(n-t)/e+2;break;case n:a=(t-i)/e+4}a/=6}return e.h=a,e.s=o,e.l=l,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,t,i){return this.getHSL(Wt),Wt.h+=e,Wt.s+=t,Wt.l+=i,this.setHSL(Wt.h,Wt.s,Wt.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Wt),e.getHSL(Ht);const i=Bt(Wt.h,Ht.h,t),n=Bt(Wt.s,Ht.s,t),r=Bt(Wt.l,Ht.l,t);return this.setHSL(i,n,r),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}let Zt;Kt.NAMES=Gt,Kt.prototype.isColor=!0,Kt.prototype.r=1,Kt.prototype.g=1,Kt.prototype.b=1;class Qt{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Zt&&(Zt=Ft("canvas")),Zt.width=e.width,Zt.height=e.height;const i=Zt.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Zt}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=Ft("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const n=i.getImageData(0,0,e.width,e.height),r=n.data;for(let e=0;e<r.length;e++)r[e]=255*Yt(r[e]/255);return i.putImageData(n,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*Yt(t[e]/255)):t[e]=Yt(t[e]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class Xt{constructor(e=null){this.uuid=Pt(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},n=this.data;if(null!==n){let e;if(Array.isArray(n)){e=[];for(let t=0,i=n.length;t<i;t++)n[t].isDataTexture?e.push($t(n[t].image)):e.push($t(n[t]))}else e=$t(n);i.url=e}return t||(e.images[this.uuid]=i),i}}function $t(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?Qt.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Xt.prototype.isSource=!0;let ei=0;class ti extends Ct{constructor(e=ti.DEFAULT_IMAGE,t=ti.DEFAULT_MAPPING,i=ae,n=ae,r=de,s=pe,a=Ce,o=me,l=1,c=yt){super(),Object.defineProperty(this,"id",{value:ei++}),this.uuid=Pt(),this.name="",this.source=new Xt(e),this.mipmaps=[],this.mapping=t,this.wrapS=i,this.wrapT=n,this.magFilter=r,this.minFilter=s,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=o,this.offset=new qt(0,0),this.repeat=new qt(1,1),this.center=new qt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ot,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case se:e.x=e.x-Math.floor(e.x);break;case ae:e.x=e.x<0?0:1;break;case oe:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case se:e.y=e.y-Math.floor(e.y);break;case ae:e.y=e.y<0?0:1;break;case oe:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}ti.DEFAULT_IMAGE=null,ti.DEFAULT_MAPPING=300,ti.prototype.isTexture=!0;class ii{constructor(e=0,t=0,i=0,n=1){this.x=e,this.y=t,this.z=i,this.w=n}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,n=this.z,r=this.w,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*n+s[12]*r,this.y=s[1]*t+s[5]*i+s[9]*n+s[13]*r,this.z=s[2]*t+s[6]*i+s[10]*n+s[14]*r,this.w=s[3]*t+s[7]*i+s[11]*n+s[15]*r,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,n,r;const s=.01,a=.1,o=e.elements,l=o[0],c=o[4],h=o[8],d=o[1],u=o[5],p=o[9],m=o[2],f=o[6],g=o[10];if(Math.abs(c-d)<s&&Math.abs(h-m)<s&&Math.abs(p-f)<s){if(Math.abs(c+d)<a&&Math.abs(h+m)<a&&Math.abs(p+f)<a&&Math.abs(l+u+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,o=(u+1)/2,y=(g+1)/2,v=(c+d)/4,x=(h+m)/4,M=(p+f)/4;return e>o&&e>y?e<s?(i=0,n=.707106781,r=.707106781):(i=Math.sqrt(e),n=v/i,r=x/i):o>y?o<s?(i=.707106781,n=0,r=.707106781):(n=Math.sqrt(o),i=v/n,r=M/n):y<s?(i=.707106781,n=.707106781,r=0):(r=Math.sqrt(y),i=x/r,n=M/r),this.set(i,n,r,t),this}let y=Math.sqrt((f-p)*(f-p)+(h-m)*(h-m)+(d-c)*(d-c));return Math.abs(y)<.001&&(y=1),this.x=(f-p)/y,this.y=(h-m)/y,this.z=(d-c)/y,this.w=Math.acos((l+u+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,i){return void 0!==i&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}ii.prototype.isVector4=!0;class ni extends Ct{constructor(e,t,i={}){super(),this.width=e,this.height=t,this.depth=1,this.scissor=new ii(0,0,e,t),this.scissorTest=!1,this.viewport=new ii(0,0,e,t);const n={width:e,height:t,depth:1};this.texture=new ti(n,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:de,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(e,t,i=1){this.width===e&&this.height===t&&this.depth===i||(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}ni.prototype.isWebGLRenderTarget=!0;class ri extends ti{constructor(e=null,t=1,i=1,n=1){super(null),this.image={data:e,width:t,height:i,depth:n},this.magFilter=le,this.minFilter=le,this.wrapR=ae,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}ri.prototype.isDataArrayTexture=!0;(class extends ni{constructor(e,t,i){super(e,t),this.depth=i,this.texture=new ri(null,e,t,i),this.texture.isRenderTargetTexture=!0}}).prototype.isWebGLArrayRenderTarget=!0;class si extends ti{constructor(e=null,t=1,i=1,n=1){super(null),this.image={data:e,width:t,height:i,depth:n},this.magFilter=le,this.minFilter=le,this.wrapR=ae,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}si.prototype.isData3DTexture=!0;(class extends ni{constructor(e,t,i){super(e,t),this.depth=i,this.texture=new si(null,e,t,i),this.texture.isRenderTargetTexture=!0}}).prototype.isWebGL3DRenderTarget=!0;(class extends ni{constructor(e,t,i,n={}){super(e,t,n);const r=this.texture;this.texture=[];for(let e=0;e<i;e++)this.texture[e]=r.clone(),this.texture[e].isRenderTargetTexture=!0}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let n=0,r=this.texture.length;n<r;n++)this.texture[n].image.width=e,this.texture[n].image.height=t,this.texture[n].image.depth=i;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(let t=0,i=e.texture.length;t<i;t++)this.texture[t]=e.texture[t].clone();return this}}).prototype.isWebGLMultipleRenderTargets=!0;class ai{constructor(e=0,t=0,i=0,n=1){this._x=e,this._y=t,this._z=i,this._w=n}static slerp(e,t,i,n){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),i.slerpQuaternions(e,t,n)}static slerpFlat(e,t,i,n,r,s,a){let o=i[n+0],l=i[n+1],c=i[n+2],h=i[n+3];const d=r[s+0],u=r[s+1],p=r[s+2],m=r[s+3];if(0===a)return e[t+0]=o,e[t+1]=l,e[t+2]=c,void(e[t+3]=h);if(1===a)return e[t+0]=d,e[t+1]=u,e[t+2]=p,void(e[t+3]=m);if(h!==m||o!==d||l!==u||c!==p){let e=1-a;const t=o*d+l*u+c*p+h*m,i=t>=0?1:-1,n=1-t*t;if(n>Number.EPSILON){const r=Math.sqrt(n),s=Math.atan2(r,t*i);e=Math.sin(e*s)/r,a=Math.sin(a*s)/r}const r=a*i;if(o=o*e+d*r,l=l*e+u*r,c=c*e+p*r,h=h*e+m*r,e===1-a){const e=1/Math.sqrt(o*o+l*l+c*c+h*h);o*=e,l*=e,c*=e,h*=e}}e[t]=o,e[t+1]=l,e[t+2]=c,e[t+3]=h}static multiplyQuaternionsFlat(e,t,i,n,r,s){const a=i[n],o=i[n+1],l=i[n+2],c=i[n+3],h=r[s],d=r[s+1],u=r[s+2],p=r[s+3];return e[t]=a*p+c*h+o*u-l*d,e[t+1]=o*p+c*d+l*h-a*u,e[t+2]=l*p+c*u+a*d-o*h,e[t+3]=c*p-a*h-o*d-l*u,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=e._x,n=e._y,r=e._z,s=e._order,a=Math.cos,o=Math.sin,l=a(i/2),c=a(n/2),h=a(r/2),d=o(i/2),u=o(n/2),p=o(r/2);switch(s){case"XYZ":this._x=d*c*h+l*u*p,this._y=l*u*h-d*c*p,this._z=l*c*p+d*u*h,this._w=l*c*h-d*u*p;break;case"YXZ":this._x=d*c*h+l*u*p,this._y=l*u*h-d*c*p,this._z=l*c*p-d*u*h,this._w=l*c*h+d*u*p;break;case"ZXY":this._x=d*c*h-l*u*p,this._y=l*u*h+d*c*p,this._z=l*c*p+d*u*h,this._w=l*c*h-d*u*p;break;case"ZYX":this._x=d*c*h-l*u*p,this._y=l*u*h+d*c*p,this._z=l*c*p-d*u*h,this._w=l*c*h+d*u*p;break;case"YZX":this._x=d*c*h+l*u*p,this._y=l*u*h+d*c*p,this._z=l*c*p-d*u*h,this._w=l*c*h-d*u*p;break;case"XZY":this._x=d*c*h-l*u*p,this._y=l*u*h-d*c*p,this._z=l*c*p+d*u*h,this._w=l*c*h+d*u*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,n=Math.sin(i);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],n=t[4],r=t[8],s=t[1],a=t[5],o=t[9],l=t[2],c=t[6],h=t[10],d=i+a+h;if(d>0){const e=.5/Math.sqrt(d+1);this._w=.25/e,this._x=(c-o)*e,this._y=(r-l)*e,this._z=(s-n)*e}else if(i>a&&i>h){const e=2*Math.sqrt(1+i-a-h);this._w=(c-o)/e,this._x=.25*e,this._y=(n+s)/e,this._z=(r+l)/e}else if(a>h){const e=2*Math.sqrt(1+a-i-h);this._w=(r-l)/e,this._x=(n+s)/e,this._y=.25*e,this._z=(o+c)/e}else{const e=2*Math.sqrt(1+h-i-a);this._w=(s-n)/e,this._x=(r+l)/e,this._y=(o+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ut(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const n=Math.min(1,t/i);return this.slerp(e,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,n=e._y,r=e._z,s=e._w,a=t._x,o=t._y,l=t._z,c=t._w;return this._x=i*c+s*a+n*l-r*o,this._y=n*c+s*o+r*a-i*l,this._z=r*c+s*l+i*o-n*a,this._w=s*c-i*a-n*o-r*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,n=this._y,r=this._z,s=this._w;let a=s*e._w+i*e._x+n*e._y+r*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=s,this._x=i,this._y=n,this._z=r,this;const o=1-a*a;if(o<=Number.EPSILON){const e=1-t;return this._w=e*s+t*this._w,this._x=e*i+t*this._x,this._y=e*n+t*this._y,this._z=e*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(o),c=Math.atan2(l,a),h=Math.sin((1-t)*c)/l,d=Math.sin(t*c)/l;return this._w=s*h+this._w*d,this._x=i*h+this._x*d,this._y=n*h+this._y*d,this._z=r*h+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),n=2*Math.PI*Math.random(),r=2*Math.PI*Math.random();return this.set(t*Math.cos(n),i*Math.sin(r),i*Math.cos(r),t*Math.sin(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}ai.prototype.isQuaternion=!0;class oi{constructor(e=0,t=0,i=0){this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ci.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ci.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*n,this.y=r[1]*t+r[4]*i+r[7]*n,this.z=r[2]*t+r[5]*i+r[8]*n,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,n=this.z,r=e.elements,s=1/(r[3]*t+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*n+r[12])*s,this.y=(r[1]*t+r[5]*i+r[9]*n+r[13])*s,this.z=(r[2]*t+r[6]*i+r[10]*n+r[14])*s,this}applyQuaternion(e){const t=this.x,i=this.y,n=this.z,r=e.x,s=e.y,a=e.z,o=e.w,l=o*t+s*n-a*i,c=o*i+a*t-r*n,h=o*n+r*i-s*t,d=-r*t-s*i-a*n;return this.x=l*o+d*-r+c*-a-h*-s,this.y=c*o+d*-s+h*-r-l*-a,this.z=h*o+d*-a+l*-s-c*-r,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*n,this.y=r[1]*t+r[5]*i+r[9]*n,this.z=r[2]*t+r[6]*i+r[10]*n,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,n=e.y,r=e.z,s=t.x,a=t.y,o=t.z;return this.x=n*o-r*a,this.y=r*s-i*o,this.z=i*a-n*s,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return li.copy(this).projectOnVector(e),this.sub(li)}reflect(e){return this.sub(li.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ut(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,n=this.z-e.z;return t*t+i*i+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const n=Math.sin(t)*e;return this.x=n*Math.sin(i),this.y=Math.cos(t)*e,this.z=n*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=n,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}oi.prototype.isVector3=!0;const li=new oi,ci=new ai;class hi{constructor(e=new oi(1/0,1/0,1/0),t=new oi(-1/0,-1/0,-1/0)){this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,i=1/0,n=1/0,r=-1/0,s=-1/0,a=-1/0;for(let o=0,l=e.length;o<l;o+=3){const l=e[o],c=e[o+1],h=e[o+2];l<t&&(t=l),c<i&&(i=c),h<n&&(n=h),l>r&&(r=l),c>s&&(s=c),h>a&&(a=h)}return this.min.set(t,i,n),this.max.set(r,s,a),this}setFromBufferAttribute(e){let t=1/0,i=1/0,n=1/0,r=-1/0,s=-1/0,a=-1/0;for(let o=0,l=e.count;o<l;o++){const l=e.getX(o),c=e.getY(o),h=e.getZ(o);l<t&&(t=l),c<i&&(i=c),h<n&&(n=h),l>r&&(r=l),c>s&&(s=c),h>a&&(a=h)}return this.min.set(t,i,n),this.max.set(r,s,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ui.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(void 0!==i)if(t&&null!=i.attributes&&void 0!==i.attributes.position){const t=i.attributes.position;for(let i=0,n=t.count;i<n;i++)ui.fromBufferAttribute(t,i).applyMatrix4(e.matrixWorld),this.expandByPoint(ui)}else null===i.boundingBox&&i.computeBoundingBox(),pi.copy(i.boundingBox),pi.applyMatrix4(e.matrixWorld),this.union(pi);const n=e.children;for(let e=0,i=n.length;e<i;e++)this.expandByObject(n[e],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ui),ui.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Mi),wi.subVectors(this.max,Mi),mi.subVectors(e.a,Mi),fi.subVectors(e.b,Mi),gi.subVectors(e.c,Mi),yi.subVectors(fi,mi),vi.subVectors(gi,fi),xi.subVectors(mi,gi);let t=[0,-yi.z,yi.y,0,-vi.z,vi.y,0,-xi.z,xi.y,yi.z,0,-yi.x,vi.z,0,-vi.x,xi.z,0,-xi.x,-yi.y,yi.x,0,-vi.y,vi.x,0,-xi.y,xi.x,0];return!!Ai(t,mi,fi,gi,wi)&&(t=[1,0,0,0,1,0,0,0,1],!!Ai(t,mi,fi,gi,wi)&&(Si.crossVectors(yi,vi),t=[Si.x,Si.y,Si.z],Ai(t,mi,fi,gi,wi)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return ui.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=.5*this.getSize(ui).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(di[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),di[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),di[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),di[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),di[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),di[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),di[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),di[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(di)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}hi.prototype.isBox3=!0;const di=[new oi,new oi,new oi,new oi,new oi,new oi,new oi,new oi],ui=new oi,pi=new hi,mi=new oi,fi=new oi,gi=new oi,yi=new oi,vi=new oi,xi=new oi,Mi=new oi,wi=new oi,Si=new oi,bi=new oi;function Ai(e,t,i,n,r){for(let s=0,a=e.length-3;s<=a;s+=3){bi.fromArray(e,s);const a=r.x*Math.abs(bi.x)+r.y*Math.abs(bi.y)+r.z*Math.abs(bi.z),o=t.dot(bi),l=i.dot(bi),c=n.dot(bi);if(Math.max(-Math.max(o,l,c),Math.min(o,l,c))>a)return!1}return!0}const Ei=new hi,Ti=new oi,Ci=new oi,Li=new oi;class Ri{constructor(e=new oi,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):Ei.setFromPoints(e).getCenter(i);let n=0;for(let t=0,r=e.length;t<r;t++)n=Math.max(n,i.distanceToSquared(e[t]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){Li.subVectors(e,this.center);const t=Li.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),i=.5*(e-this.radius);this.center.add(Li.multiplyScalar(i/e)),this.radius+=i}return this}union(e){return!0===this.center.equals(e.center)?Ci.set(0,0,1).multiplyScalar(e.radius):Ci.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(Ti.copy(e.center).add(Ci)),this.expandByPoint(Ti.copy(e.center).sub(Ci)),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Vi=new oi,Ii=new oi,Pi=new oi,Ui=new oi,Di=new oi,Bi=new oi,Ni=new oi;class _i{constructor(e=new oi,t=new oi(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Vi)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Vi.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Vi.copy(this.direction).multiplyScalar(t).add(this.origin),Vi.distanceToSquared(e))}distanceSqToSegment(e,t,i,n){Ii.copy(e).add(t).multiplyScalar(.5),Pi.copy(t).sub(e).normalize(),Ui.copy(this.origin).sub(Ii);const r=.5*e.distanceTo(t),s=-this.direction.dot(Pi),a=Ui.dot(this.direction),o=-Ui.dot(Pi),l=Ui.lengthSq(),c=Math.abs(1-s*s);let h,d,u,p;if(c>0)if(h=s*o-a,d=s*a-o,p=r*c,h>=0)if(d>=-p)if(d<=p){const e=1/c;h*=e,d*=e,u=h*(h+s*d+2*a)+d*(s*h+d+2*o)+l}else d=r,h=Math.max(0,-(s*d+a)),u=-h*h+d*(d+2*o)+l;else d=-r,h=Math.max(0,-(s*d+a)),u=-h*h+d*(d+2*o)+l;else d<=-p?(h=Math.max(0,-(-s*r+a)),d=h>0?-r:Math.min(Math.max(-r,-o),r),u=-h*h+d*(d+2*o)+l):d<=p?(h=0,d=Math.min(Math.max(-r,-o),r),u=d*(d+2*o)+l):(h=Math.max(0,-(s*r+a)),d=h>0?r:Math.min(Math.max(-r,-o),r),u=-h*h+d*(d+2*o)+l);else d=s>0?-r:r,h=Math.max(0,-(s*d+a)),u=-h*h+d*(d+2*o)+l;return i&&i.copy(this.direction).multiplyScalar(h).add(this.origin),n&&n.copy(Pi).multiplyScalar(d).add(Ii),u}intersectSphere(e,t){Vi.subVectors(e.center,this.origin);const i=Vi.dot(this.direction),n=Vi.dot(Vi)-i*i,r=e.radius*e.radius;if(n>r)return null;const s=Math.sqrt(r-n),a=i-s,o=i+s;return a<0&&o<0?null:a<0?this.at(o,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,n,r,s,a,o;const l=1/this.direction.x,c=1/this.direction.y,h=1/this.direction.z,d=this.origin;return l>=0?(i=(e.min.x-d.x)*l,n=(e.max.x-d.x)*l):(i=(e.max.x-d.x)*l,n=(e.min.x-d.x)*l),c>=0?(r=(e.min.y-d.y)*c,s=(e.max.y-d.y)*c):(r=(e.max.y-d.y)*c,s=(e.min.y-d.y)*c),i>s||r>n?null:((r>i||i!=i)&&(i=r),(s<n||n!=n)&&(n=s),h>=0?(a=(e.min.z-d.z)*h,o=(e.max.z-d.z)*h):(a=(e.max.z-d.z)*h,o=(e.min.z-d.z)*h),i>o||a>n?null:((a>i||i!=i)&&(i=a),(o<n||n!=n)&&(n=o),n<0?null:this.at(i>=0?i:n,t)))}intersectsBox(e){return null!==this.intersectBox(e,Vi)}intersectTriangle(e,t,i,n,r){Di.subVectors(t,e),Bi.subVectors(i,e),Ni.crossVectors(Di,Bi);let s,a=this.direction.dot(Ni);if(a>0){if(n)return null;s=1}else{if(!(a<0))return null;s=-1,a=-a}Ui.subVectors(this.origin,e);const o=s*this.direction.dot(Bi.crossVectors(Ui,Bi));if(o<0)return null;const l=s*this.direction.dot(Di.cross(Ui));if(l<0)return null;if(o+l>a)return null;const c=-s*Ui.dot(Ni);return c<0?null:this.at(c/a,r)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class ki{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,i,n,r,s,a,o,l,c,h,d,u,p,m,f){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=n,g[1]=r,g[5]=s,g[9]=a,g[13]=o,g[2]=l,g[6]=c,g[10]=h,g[14]=d,g[3]=u,g[7]=p,g[11]=m,g[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new ki).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,n=1/qi.setFromMatrixColumn(e,0).length(),r=1/qi.setFromMatrixColumn(e,1).length(),s=1/qi.setFromMatrixColumn(e,2).length();return t[0]=i[0]*n,t[1]=i[1]*n,t[2]=i[2]*n,t[3]=0,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[7]=0,t[8]=i[8]*s,t[9]=i[9]*s,t[10]=i[10]*s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,i=e.x,n=e.y,r=e.z,s=Math.cos(i),a=Math.sin(i),o=Math.cos(n),l=Math.sin(n),c=Math.cos(r),h=Math.sin(r);if("XYZ"===e.order){const e=s*c,i=s*h,n=a*c,r=a*h;t[0]=o*c,t[4]=-o*h,t[8]=l,t[1]=i+n*l,t[5]=e-r*l,t[9]=-a*o,t[2]=r-e*l,t[6]=n+i*l,t[10]=s*o}else if("YXZ"===e.order){const e=o*c,i=o*h,n=l*c,r=l*h;t[0]=e+r*a,t[4]=n*a-i,t[8]=s*l,t[1]=s*h,t[5]=s*c,t[9]=-a,t[2]=i*a-n,t[6]=r+e*a,t[10]=s*o}else if("ZXY"===e.order){const e=o*c,i=o*h,n=l*c,r=l*h;t[0]=e-r*a,t[4]=-s*h,t[8]=n+i*a,t[1]=i+n*a,t[5]=s*c,t[9]=r-e*a,t[2]=-s*l,t[6]=a,t[10]=s*o}else if("ZYX"===e.order){const e=s*c,i=s*h,n=a*c,r=a*h;t[0]=o*c,t[4]=n*l-i,t[8]=e*l+r,t[1]=o*h,t[5]=r*l+e,t[9]=i*l-n,t[2]=-l,t[6]=a*o,t[10]=s*o}else if("YZX"===e.order){const e=s*o,i=s*l,n=a*o,r=a*l;t[0]=o*c,t[4]=r-e*h,t[8]=n*h+i,t[1]=h,t[5]=s*c,t[9]=-a*c,t[2]=-l*c,t[6]=i*h+n,t[10]=e-r*h}else if("XZY"===e.order){const e=s*o,i=s*l,n=a*o,r=a*l;t[0]=o*c,t[4]=-h,t[8]=l*c,t[1]=e*h+r,t[5]=s*c,t[9]=i*h-n,t[2]=n*h-i,t[6]=a*c,t[10]=r*h+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(zi,e,Fi)}lookAt(e,t,i){const n=this.elements;return Hi.subVectors(e,t),0===Hi.lengthSq()&&(Hi.z=1),Hi.normalize(),Gi.crossVectors(i,Hi),0===Gi.lengthSq()&&(1===Math.abs(i.z)?Hi.x+=1e-4:Hi.z+=1e-4,Hi.normalize(),Gi.crossVectors(i,Hi)),Gi.normalize(),Wi.crossVectors(Hi,Gi),n[0]=Gi.x,n[4]=Wi.x,n[8]=Hi.x,n[1]=Gi.y,n[5]=Wi.y,n[9]=Hi.y,n[2]=Gi.z,n[6]=Wi.z,n[10]=Hi.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,n=t.elements,r=this.elements,s=i[0],a=i[4],o=i[8],l=i[12],c=i[1],h=i[5],d=i[9],u=i[13],p=i[2],m=i[6],f=i[10],g=i[14],y=i[3],v=i[7],x=i[11],M=i[15],w=n[0],S=n[4],b=n[8],A=n[12],E=n[1],T=n[5],C=n[9],L=n[13],R=n[2],V=n[6],I=n[10],P=n[14],U=n[3],D=n[7],B=n[11],N=n[15];return r[0]=s*w+a*E+o*R+l*U,r[4]=s*S+a*T+o*V+l*D,r[8]=s*b+a*C+o*I+l*B,r[12]=s*A+a*L+o*P+l*N,r[1]=c*w+h*E+d*R+u*U,r[5]=c*S+h*T+d*V+u*D,r[9]=c*b+h*C+d*I+u*B,r[13]=c*A+h*L+d*P+u*N,r[2]=p*w+m*E+f*R+g*U,r[6]=p*S+m*T+f*V+g*D,r[10]=p*b+m*C+f*I+g*B,r[14]=p*A+m*L+f*P+g*N,r[3]=y*w+v*E+x*R+M*U,r[7]=y*S+v*T+x*V+M*D,r[11]=y*b+v*C+x*I+M*B,r[15]=y*A+v*L+x*P+M*N,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],n=e[8],r=e[12],s=e[1],a=e[5],o=e[9],l=e[13],c=e[2],h=e[6],d=e[10],u=e[14];return e[3]*(+r*o*h-n*l*h-r*a*d+i*l*d+n*a*u-i*o*u)+e[7]*(+t*o*u-t*l*d+r*s*d-n*s*u+n*l*c-r*o*c)+e[11]*(+t*l*h-t*a*u-r*s*h+i*s*u+r*a*c-i*l*c)+e[15]*(-n*a*c-t*o*h+t*a*d+n*s*h-i*s*d+i*o*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],n=e[2],r=e[3],s=e[4],a=e[5],o=e[6],l=e[7],c=e[8],h=e[9],d=e[10],u=e[11],p=e[12],m=e[13],f=e[14],g=e[15],y=h*f*l-m*d*l+m*o*u-a*f*u-h*o*g+a*d*g,v=p*d*l-c*f*l-p*o*u+s*f*u+c*o*g-s*d*g,x=c*m*l-p*h*l+p*a*u-s*m*u-c*a*g+s*h*g,M=p*h*o-c*m*o-p*a*d+s*m*d+c*a*f-s*h*f,w=t*y+i*v+n*x+r*M;if(0===w)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/w;return e[0]=y*S,e[1]=(m*d*r-h*f*r-m*n*u+i*f*u+h*n*g-i*d*g)*S,e[2]=(a*f*r-m*o*r+m*n*l-i*f*l-a*n*g+i*o*g)*S,e[3]=(h*o*r-a*d*r-h*n*l+i*d*l+a*n*u-i*o*u)*S,e[4]=v*S,e[5]=(c*f*r-p*d*r+p*n*u-t*f*u-c*n*g+t*d*g)*S,e[6]=(p*o*r-s*f*r-p*n*l+t*f*l+s*n*g-t*o*g)*S,e[7]=(s*d*r-c*o*r+c*n*l-t*d*l-s*n*u+t*o*u)*S,e[8]=x*S,e[9]=(p*h*r-c*m*r-p*i*u+t*m*u+c*i*g-t*h*g)*S,e[10]=(s*m*r-p*a*r+p*i*l-t*m*l-s*i*g+t*a*g)*S,e[11]=(c*a*r-s*h*r-c*i*l+t*h*l+s*i*u-t*a*u)*S,e[12]=M*S,e[13]=(c*m*n-p*h*n+p*i*d-t*m*d-c*i*f+t*h*f)*S,e[14]=(p*a*n-s*m*n-p*i*o+t*m*o+s*i*f-t*a*f)*S,e[15]=(s*h*n-c*a*n+c*i*o-t*h*o-s*i*d+t*a*d)*S,this}scale(e){const t=this.elements,i=e.x,n=e.y,r=e.z;return t[0]*=i,t[4]*=n,t[8]*=r,t[1]*=i,t[5]*=n,t[9]*=r,t[2]*=i,t[6]*=n,t[10]*=r,t[3]*=i,t[7]*=n,t[11]*=r,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,n))}makeTranslation(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),n=Math.sin(t),r=1-i,s=e.x,a=e.y,o=e.z,l=r*s,c=r*a;return this.set(l*s+i,l*a-n*o,l*o+n*a,0,l*a+n*o,c*a+i,c*o-n*s,0,l*o-n*a,c*o+n*s,r*o*o+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,n,r,s){return this.set(1,i,r,0,e,1,s,0,t,n,1,0,0,0,0,1),this}compose(e,t,i){const n=this.elements,r=t._x,s=t._y,a=t._z,o=t._w,l=r+r,c=s+s,h=a+a,d=r*l,u=r*c,p=r*h,m=s*c,f=s*h,g=a*h,y=o*l,v=o*c,x=o*h,M=i.x,w=i.y,S=i.z;return n[0]=(1-(m+g))*M,n[1]=(u+x)*M,n[2]=(p-v)*M,n[3]=0,n[4]=(u-x)*w,n[5]=(1-(d+g))*w,n[6]=(f+y)*w,n[7]=0,n[8]=(p+v)*S,n[9]=(f-y)*S,n[10]=(1-(d+m))*S,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}decompose(e,t,i){const n=this.elements;let r=qi.set(n[0],n[1],n[2]).length();const s=qi.set(n[4],n[5],n[6]).length(),a=qi.set(n[8],n[9],n[10]).length();this.determinant()<0&&(r=-r),e.x=n[12],e.y=n[13],e.z=n[14],Oi.copy(this);const o=1/r,l=1/s,c=1/a;return Oi.elements[0]*=o,Oi.elements[1]*=o,Oi.elements[2]*=o,Oi.elements[4]*=l,Oi.elements[5]*=l,Oi.elements[6]*=l,Oi.elements[8]*=c,Oi.elements[9]*=c,Oi.elements[10]*=c,t.setFromRotationMatrix(Oi),i.x=r,i.y=s,i.z=a,this}makePerspective(e,t,i,n,r,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,o=2*r/(t-e),l=2*r/(i-n),c=(t+e)/(t-e),h=(i+n)/(i-n),d=-(s+r)/(s-r),u=-2*s*r/(s-r);return a[0]=o,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=h,a[13]=0,a[2]=0,a[6]=0,a[10]=d,a[14]=u,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,i,n,r,s){const a=this.elements,o=1/(t-e),l=1/(i-n),c=1/(s-r),h=(t+e)*o,d=(i+n)*l,u=(s+r)*c;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-h,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-d,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-u,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let e=0;e<16;e++)if(t[e]!==i[e])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}ki.prototype.isMatrix4=!0;const qi=new oi,Oi=new ki,zi=new oi(0,0,0),Fi=new oi(1,1,1),Gi=new oi,Wi=new oi,Hi=new oi,ji=new ki,Yi=new ai;class Ji{constructor(e=0,t=0,i=0,n=Ji.DefaultOrder){this._x=e,this._y=t,this._z=i,this._order=n}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,n=this._order){return this._x=e,this._y=t,this._z=i,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const n=e.elements,r=n[0],s=n[4],a=n[8],o=n[1],l=n[5],c=n[9],h=n[2],d=n[6],u=n[10];switch(t){case"XYZ":this._y=Math.asin(Ut(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,u),this._z=Math.atan2(-s,r)):(this._x=Math.atan2(d,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Ut(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,u),this._z=Math.atan2(o,l)):(this._y=Math.atan2(-h,r),this._z=0);break;case"ZXY":this._x=Math.asin(Ut(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,u),this._z=Math.atan2(-s,l)):(this._y=0,this._z=Math.atan2(o,r));break;case"ZYX":this._y=Math.asin(-Ut(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,u),this._z=Math.atan2(o,r)):(this._x=0,this._z=Math.atan2(-s,l));break;case"YZX":this._z=Math.asin(Ut(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-h,r)):(this._x=0,this._y=Math.atan2(a,u));break;case"XZY":this._z=Math.asin(-Ut(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(d,l),this._y=Math.atan2(a,r)):(this._x=Math.atan2(-c,u),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===i&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return ji.makeRotationFromQuaternion(e),this.setFromRotationMatrix(ji,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Yi.setFromEuler(this),this.setFromQuaternion(Yi,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Ji.prototype.isEuler=!0,Ji.DefaultOrder="XYZ",Ji.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Ki{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return!!(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let Zi=0;const Qi=new oi,Xi=new ai,$i=new ki,en=new oi,tn=new oi,nn=new oi,rn=new ai,sn=new oi(1,0,0),an=new oi(0,1,0),on=new oi(0,0,1),ln={type:"added"},cn={type:"removed"};class hn extends Ct{constructor(){super(),Object.defineProperty(this,"id",{value:Zi++}),this.uuid=Pt(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=hn.DefaultUp.clone();const e=new oi,t=new Ji,i=new ai,n=new oi(1,1,1);t._onChange((function(){i.setFromEuler(t,!1)})),i._onChange((function(){t.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new ki},normalMatrix:{value:new Ot}}),this.matrix=new ki,this.matrixWorld=new ki,this.matrixAutoUpdate=hn.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ki,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Xi.setFromAxisAngle(e,t),this.quaternion.multiply(Xi),this}rotateOnWorldAxis(e,t){return Xi.setFromAxisAngle(e,t),this.quaternion.premultiply(Xi),this}rotateX(e){return this.rotateOnAxis(sn,e)}rotateY(e){return this.rotateOnAxis(an,e)}rotateZ(e){return this.rotateOnAxis(on,e)}translateOnAxis(e,t){return Qi.copy(e).applyQuaternion(this.quaternion),this.position.add(Qi.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(sn,e)}translateY(e){return this.translateOnAxis(an,e)}translateZ(e){return this.translateOnAxis(on,e)}localToWorld(e){return e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return e.applyMatrix4($i.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?en.copy(e):en.set(e,t,i);const n=this.parent;this.updateWorldMatrix(!0,!1),tn.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?$i.lookAt(tn,en,this.up):$i.lookAt(en,tn,this.up),this.quaternion.setFromRotationMatrix($i),n&&($i.extractRotation(n.matrixWorld),Xi.setFromRotationMatrix($i),this.quaternion.premultiply(Xi.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ln)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(cn)),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const t=this.children[e];t.parent=null,t.dispatchEvent(cn)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),$i.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),$i.multiply(e.parent.matrixWorld)),e.applyMatrix4($i),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,n=this.children.length;i<n;i++){const n=this.children[i].getObjectByProperty(e,t);if(void 0!==n)return n}}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tn,e,nn),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(tn,rn,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,n=t.length;i<n;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(!0===e&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,i=e.length;t<i;t++)e[t].updateWorldMatrix(!1,!0)}}toJSON(e){const t=void 0===e||"string"==typeof e,i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};function r(t,i){return void 0===t[i.uuid]&&(t[i.uuid]=i.toJSON(e)),i.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(n.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(n.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=r(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const i=t.shapes;if(Array.isArray(i))for(let t=0,n=i.length;t<n;t++){const n=i[t];r(e.shapes,n)}else r(e.shapes,i)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let i=0,n=this.material.length;i<n;i++)t.push(r(e.materials,this.material[i]));n.material=t}else n.material=r(e.materials,this.material);if(this.children.length>0){n.children=[];for(let t=0;t<this.children.length;t++)n.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(let t=0;t<this.animations.length;t++){const i=this.animations[t];n.animations.push(r(e.animations,i))}}if(t){const t=s(e.geometries),n=s(e.materials),r=s(e.textures),a=s(e.images),o=s(e.shapes),l=s(e.skeletons),c=s(e.animations),h=s(e.nodes);t.length>0&&(i.geometries=t),n.length>0&&(i.materials=n),r.length>0&&(i.textures=r),a.length>0&&(i.images=a),o.length>0&&(i.shapes=o),l.length>0&&(i.skeletons=l),c.length>0&&(i.animations=c),h.length>0&&(i.nodes=h)}return i.object=n,i;function s(e){const t=[];for(const i in e){const n=e[i];delete n.metadata,t.push(n)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){const i=e.children[t];this.add(i.clone())}return this}}hn.DefaultUp=new oi(0,1,0),hn.DefaultMatrixAutoUpdate=!0,hn.prototype.isObject3D=!0;const dn=new oi,un=new oi,pn=new oi,mn=new oi,fn=new oi,gn=new oi,yn=new oi,vn=new oi,xn=new oi,Mn=new oi;class wn{constructor(e=new oi,t=new oi,i=new oi){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,n){n.subVectors(i,t),dn.subVectors(e,t),n.cross(dn);const r=n.lengthSq();return r>0?n.multiplyScalar(1/Math.sqrt(r)):n.set(0,0,0)}static getBarycoord(e,t,i,n,r){dn.subVectors(n,t),un.subVectors(i,t),pn.subVectors(e,t);const s=dn.dot(dn),a=dn.dot(un),o=dn.dot(pn),l=un.dot(un),c=un.dot(pn),h=s*l-a*a;if(0===h)return r.set(-2,-1,-1);const d=1/h,u=(l*o-a*c)*d,p=(s*c-a*o)*d;return r.set(1-u-p,p,u)}static containsPoint(e,t,i,n){return this.getBarycoord(e,t,i,n,mn),mn.x>=0&&mn.y>=0&&mn.x+mn.y<=1}static getUV(e,t,i,n,r,s,a,o){return this.getBarycoord(e,t,i,n,mn),o.set(0,0),o.addScaledVector(r,mn.x),o.addScaledVector(s,mn.y),o.addScaledVector(a,mn.z),o}static isFrontFacing(e,t,i,n){return dn.subVectors(i,t),un.subVectors(e,t),dn.cross(un).dot(n)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,n){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[n]),this}setFromAttributeAndIndices(e,t,i,n){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return dn.subVectors(this.c,this.b),un.subVectors(this.a,this.b),.5*dn.cross(un).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return wn.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return wn.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,n,r){return wn.getUV(e,this.a,this.b,this.c,t,i,n,r)}containsPoint(e){return wn.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return wn.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,n=this.b,r=this.c;let s,a;fn.subVectors(n,i),gn.subVectors(r,i),vn.subVectors(e,i);const o=fn.dot(vn),l=gn.dot(vn);if(o<=0&&l<=0)return t.copy(i);xn.subVectors(e,n);const c=fn.dot(xn),h=gn.dot(xn);if(c>=0&&h<=c)return t.copy(n);const d=o*h-c*l;if(d<=0&&o>=0&&c<=0)return s=o/(o-c),t.copy(i).addScaledVector(fn,s);Mn.subVectors(e,r);const u=fn.dot(Mn),p=gn.dot(Mn);if(p>=0&&u<=p)return t.copy(r);const m=u*l-o*p;if(m<=0&&l>=0&&p<=0)return a=l/(l-p),t.copy(i).addScaledVector(gn,a);const f=c*p-u*h;if(f<=0&&h-c>=0&&u-p>=0)return yn.subVectors(r,n),a=(h-c)/(h-c+(u-p)),t.copy(n).addScaledVector(yn,a);const g=1/(f+m+d);return s=m*g,a=d*g,t.copy(i).addScaledVector(fn,s).addScaledVector(gn,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Sn=0;class bn extends Ct{constructor(){super(),Object.defineProperty(this,"id",{value:Sn++}),this.uuid=Pt(),this.name="",this.type="Material",this.fog=!0,this.blending=f,this.side=d,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=R,this.blendDst=V,this.blendEquation=M,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=q,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=St,this.stencilZFail=St,this.stencilZPass=St,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===i;continue}const n=this[t];void 0!==n?n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[t]=i:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(e){const t=[];for(const i in e){const n=e[i];delete n.metadata,t.push(n)}return t}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==f&&(i.blending=this.blending),this.side!==d&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),t){const t=n(e.textures),r=n(e.images);t.length>0&&(i.textures=t),r.length>0&&(i.images=r)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const e=t.length;i=new Array(e);for(let n=0;n!==e;++n)i[n]=t[n].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}bn.prototype.isMaterial=!0,bn.fromType=function(){return null};class An extends bn{constructor(e){super(),this.type="MeshBasicMaterial",this.color=new Kt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}An.prototype.isMeshBasicMaterial=!0;const En=new oi,Tn=new qt;class Cn{constructor(e,t,i){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===i,this.usage=bt,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let n=0,r=this.itemSize;n<r;n++)this.array[e+n]=t.array[i+n];return this}copyArray(e){return this.array.set(e),this}copyColorsArray(e){const t=this.array;let i=0;for(let n=0,r=e.length;n<r;n++){let r=e[n];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),r=new Kt),t[i++]=r.r,t[i++]=r.g,t[i++]=r.b}return this}copyVector2sArray(e){const t=this.array;let i=0;for(let n=0,r=e.length;n<r;n++){let r=e[n];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),r=new qt),t[i++]=r.x,t[i++]=r.y}return this}copyVector3sArray(e){const t=this.array;let i=0;for(let n=0,r=e.length;n<r;n++){let r=e[n];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),r=new oi),t[i++]=r.x,t[i++]=r.y,t[i++]=r.z}return this}copyVector4sArray(e){const t=this.array;let i=0;for(let n=0,r=e.length;n<r;n++){let r=e[n];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),r=new ii),t[i++]=r.x,t[i++]=r.y,t[i++]=r.z,t[i++]=r.w}return this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)Tn.fromBufferAttribute(this,t),Tn.applyMatrix3(e),this.setXY(t,Tn.x,Tn.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)En.fromBufferAttribute(this,t),En.applyMatrix3(e),this.setXYZ(t,En.x,En.y,En.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)En.x=this.getX(t),En.y=this.getY(t),En.z=this.getZ(t),En.applyMatrix4(e),this.setXYZ(t,En.x,En.y,En.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)En.x=this.getX(t),En.y=this.getY(t),En.z=this.getZ(t),En.applyNormalMatrix(e),this.setXYZ(t,En.x,En.y,En.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)En.x=this.getX(t),En.y=this.getY(t),En.z=this.getZ(t),En.transformDirection(e),this.setXYZ(t,En.x,En.y,En.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){return this.array[e*this.itemSize]}setX(e,t){return this.array[e*this.itemSize]=t,this}getY(e){return this.array[e*this.itemSize+1]}setY(e,t){return this.array[e*this.itemSize+1]=t,this}getZ(e){return this.array[e*this.itemSize+2]}setZ(e,t){return this.array[e*this.itemSize+2]=t,this}getW(e){return this.array[e*this.itemSize+3]}setW(e,t){return this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this}setXYZW(e,t,i,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this.array[e+3]=r,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==bt&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}Cn.prototype.isBufferAttribute=!0;class Ln extends Cn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Rn extends Cn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}(class extends Cn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}).prototype.isFloat16BufferAttribute=!0;class Vn extends Cn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let In=0;const Pn=new ki,Un=new hn,Dn=new oi,Bn=new hi,Nn=new hi,_n=new oi;class kn extends Ct{constructor(){super(),Object.defineProperty(this,"id",{value:In++}),this.uuid=Pt(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(zt(e)?Rn:Ln)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const t=(new Ot).getNormalMatrix(e);i.applyNormalMatrix(t),i.needsUpdate=!0}const n=this.attributes.tangent;return void 0!==n&&(n.transformDirection(e),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Pn.makeRotationFromQuaternion(e),this.applyMatrix4(Pn),this}rotateX(e){return Pn.makeRotationX(e),this.applyMatrix4(Pn),this}rotateY(e){return Pn.makeRotationY(e),this.applyMatrix4(Pn),this}rotateZ(e){return Pn.makeRotationZ(e),this.applyMatrix4(Pn),this}translate(e,t,i){return Pn.makeTranslation(e,t,i),this.applyMatrix4(Pn),this}scale(e,t,i){return Pn.makeScale(e,t,i),this.applyMatrix4(Pn),this}lookAt(e){return Un.lookAt(e),Un.updateMatrix(),this.applyMatrix4(Un.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Dn).negate(),this.translate(Dn.x,Dn.y,Dn.z),this}setFromPoints(e){const t=[];for(let i=0,n=e.length;i<n;i++){const n=e[i];t.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new Vn(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new hi);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new oi(-1/0,-1/0,-1/0),new oi(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const i=t[e];Bn.setFromBufferAttribute(i),this.morphTargetsRelative?(_n.addVectors(this.boundingBox.min,Bn.min),this.boundingBox.expandByPoint(_n),_n.addVectors(this.boundingBox.max,Bn.max),this.boundingBox.expandByPoint(_n)):(this.boundingBox.expandByPoint(Bn.min),this.boundingBox.expandByPoint(Bn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Ri);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new oi,1/0);if(e){const i=this.boundingSphere.center;if(Bn.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const i=t[e];Nn.setFromBufferAttribute(i),this.morphTargetsRelative?(_n.addVectors(Bn.min,Nn.min),Bn.expandByPoint(_n),_n.addVectors(Bn.max,Nn.max),Bn.expandByPoint(_n)):(Bn.expandByPoint(Nn.min),Bn.expandByPoint(Nn.max))}Bn.getCenter(i);let n=0;for(let t=0,r=e.count;t<r;t++)_n.fromBufferAttribute(e,t),n=Math.max(n,i.distanceToSquared(_n));if(t)for(let r=0,s=t.length;r<s;r++){const s=t[r],a=this.morphTargetsRelative;for(let t=0,r=s.count;t<r;t++)_n.fromBufferAttribute(s,t),a&&(Dn.fromBufferAttribute(e,t),_n.add(Dn)),n=Math.max(n,i.distanceToSquared(_n))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,n=t.position.array,r=t.normal.array,s=t.uv.array,a=n.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Cn(new Float32Array(4*a),4));const o=this.getAttribute("tangent").array,l=[],c=[];for(let e=0;e<a;e++)l[e]=new oi,c[e]=new oi;const h=new oi,d=new oi,u=new oi,p=new qt,m=new qt,f=new qt,g=new oi,y=new oi;function v(e,t,i){h.fromArray(n,3*e),d.fromArray(n,3*t),u.fromArray(n,3*i),p.fromArray(s,2*e),m.fromArray(s,2*t),f.fromArray(s,2*i),d.sub(h),u.sub(h),m.sub(p),f.sub(p);const r=1/(m.x*f.y-f.x*m.y);isFinite(r)&&(g.copy(d).multiplyScalar(f.y).addScaledVector(u,-m.y).multiplyScalar(r),y.copy(u).multiplyScalar(m.x).addScaledVector(d,-f.x).multiplyScalar(r),l[e].add(g),l[t].add(g),l[i].add(g),c[e].add(y),c[t].add(y),c[i].add(y))}let x=this.groups;0===x.length&&(x=[{start:0,count:i.length}]);for(let e=0,t=x.length;e<t;++e){const t=x[e],n=t.start;for(let e=n,r=n+t.count;e<r;e+=3)v(i[e+0],i[e+1],i[e+2])}const M=new oi,w=new oi,S=new oi,b=new oi;function A(e){S.fromArray(r,3*e),b.copy(S);const t=l[e];M.copy(t),M.sub(S.multiplyScalar(S.dot(t))).normalize(),w.crossVectors(b,t);const i=w.dot(c[e])<0?-1:1;o[4*e]=M.x,o[4*e+1]=M.y,o[4*e+2]=M.z,o[4*e+3]=i}for(let e=0,t=x.length;e<t;++e){const t=x[e],n=t.start;for(let e=n,r=n+t.count;e<r;e+=3)A(i[e+0]),A(i[e+1]),A(i[e+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new Cn(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let e=0,t=i.count;e<t;e++)i.setXYZ(e,0,0,0);const n=new oi,r=new oi,s=new oi,a=new oi,o=new oi,l=new oi,c=new oi,h=new oi;if(e)for(let d=0,u=e.count;d<u;d+=3){const u=e.getX(d+0),p=e.getX(d+1),m=e.getX(d+2);n.fromBufferAttribute(t,u),r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,m),c.subVectors(s,r),h.subVectors(n,r),c.cross(h),a.fromBufferAttribute(i,u),o.fromBufferAttribute(i,p),l.fromBufferAttribute(i,m),a.add(c),o.add(c),l.add(c),i.setXYZ(u,a.x,a.y,a.z),i.setXYZ(p,o.x,o.y,o.z),i.setXYZ(m,l.x,l.y,l.z)}else for(let e=0,a=t.count;e<a;e+=3)n.fromBufferAttribute(t,e+0),r.fromBufferAttribute(t,e+1),s.fromBufferAttribute(t,e+2),c.subVectors(s,r),h.subVectors(n,r),c.cross(h),i.setXYZ(e+0,c.x,c.y,c.z),i.setXYZ(e+1,c.x,c.y,c.z),i.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const n in i){if(void 0===e.attributes[n])continue;const r=i[n].array,s=e.attributes[n],a=s.array,o=s.itemSize*t,l=Math.min(a.length,r.length-o);for(let e=0,t=o;e<l;e++,t++)r[t]=a[e]}return this}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)_n.fromBufferAttribute(e,t),_n.normalize(),e.setXYZ(t,_n.x,_n.y,_n.z)}toNonIndexed(){function e(e,t){const i=e.array,n=e.itemSize,r=e.normalized,s=new i.constructor(t.length*n);let a=0,o=0;for(let r=0,l=t.length;r<l;r++){a=e.isInterleavedBufferAttribute?t[r]*e.data.stride+e.offset:t[r]*n;for(let e=0;e<n;e++)s[o++]=i[a++]}return new Cn(s,n,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new kn,i=this.index.array,n=this.attributes;for(const r in n){const s=e(n[r],i);t.setAttribute(r,s)}const r=this.morphAttributes;for(const n in r){const s=[],a=r[n];for(let t=0,n=a.length;t<n;t++){const n=e(a[t],i);s.push(n)}t.morphAttributes[n]=s}t.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let e=0,i=s.length;e<i;e++){const i=s[e];t.addGroup(i.start,i.count,i.materialIndex)}return t}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const i in t)void 0!==t[i]&&(e[i]=t[i]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const t in i){const n=i[t];e.data.attributes[t]=n.toJSON(e.data)}const n={};let r=!1;for(const t in this.morphAttributes){const i=this.morphAttributes[t],s=[];for(let t=0,n=i.length;t<n;t++){const n=i[t];s.push(n.toJSON(e.data))}s.length>0&&(n[t]=s,r=!0)}r&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(e.data.groups=JSON.parse(JSON.stringify(s)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const n=e.attributes;for(const e in n){const i=n[e];this.setAttribute(e,i.clone(t))}const r=e.morphAttributes;for(const e in r){const i=[],n=r[e];for(let e=0,r=n.length;e<r;e++)i.push(n[e].clone(t));this.morphAttributes[e]=i}this.morphTargetsRelative=e.morphTargetsRelative;const s=e.groups;for(let e=0,t=s.length;e<t;e++){const t=s[e];this.addGroup(t.start,t.count,t.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const o=e.boundingSphere;return null!==o&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}kn.prototype.isBufferGeometry=!0;const qn=new ki,On=new _i,zn=new Ri,Fn=new oi,Gn=new oi,Wn=new oi,Hn=new oi,jn=new oi,Yn=new oi,Jn=new oi,Kn=new oi,Zn=new oi,Qn=new qt,Xn=new qt,$n=new qt,er=new oi,tr=new oi;class ir extends hn{constructor(e=new kn,t=new An){super(),this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const e=t[i[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,i=e.length;t<i;t++){const i=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(e,t){const i=this.geometry,n=this.material,r=this.matrixWorld;if(void 0===n)return;if(null===i.boundingSphere&&i.computeBoundingSphere(),zn.copy(i.boundingSphere),zn.applyMatrix4(r),!1===e.ray.intersectsSphere(zn))return;if(qn.copy(r).invert(),On.copy(e.ray).applyMatrix4(qn),null!==i.boundingBox&&!1===On.intersectsBox(i.boundingBox))return;let s;if(i.isBufferGeometry){const r=i.index,a=i.attributes.position,o=i.morphAttributes.position,l=i.morphTargetsRelative,c=i.attributes.uv,h=i.attributes.uv2,d=i.groups,u=i.drawRange;if(null!==r)if(Array.isArray(n))for(let i=0,p=d.length;i<p;i++){const p=d[i],m=n[p.materialIndex];for(let i=Math.max(p.start,u.start),n=Math.min(r.count,Math.min(p.start+p.count,u.start+u.count));i<n;i+=3){const n=r.getX(i),d=r.getX(i+1),u=r.getX(i+2);s=nr(this,m,e,On,a,o,l,c,h,n,d,u),s&&(s.faceIndex=Math.floor(i/3),s.face.materialIndex=p.materialIndex,t.push(s))}}else{for(let i=Math.max(0,u.start),d=Math.min(r.count,u.start+u.count);i<d;i+=3){const d=r.getX(i),u=r.getX(i+1),p=r.getX(i+2);s=nr(this,n,e,On,a,o,l,c,h,d,u,p),s&&(s.faceIndex=Math.floor(i/3),t.push(s))}}else if(void 0!==a)if(Array.isArray(n))for(let i=0,r=d.length;i<r;i++){const r=d[i],p=n[r.materialIndex];for(let i=Math.max(r.start,u.start),n=Math.min(a.count,Math.min(r.start+r.count,u.start+u.count));i<n;i+=3){s=nr(this,p,e,On,a,o,l,c,h,i,i+1,i+2),s&&(s.faceIndex=Math.floor(i/3),s.face.materialIndex=r.materialIndex,t.push(s))}}else{for(let i=Math.max(0,u.start),r=Math.min(a.count,u.start+u.count);i<r;i+=3){s=nr(this,n,e,On,a,o,l,c,h,i,i+1,i+2),s&&(s.faceIndex=Math.floor(i/3),t.push(s))}}}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function nr(e,t,i,n,r,s,a,o,l,c,h,d){Fn.fromBufferAttribute(r,c),Gn.fromBufferAttribute(r,h),Wn.fromBufferAttribute(r,d);const m=e.morphTargetInfluences;if(s&&m){Jn.set(0,0,0),Kn.set(0,0,0),Zn.set(0,0,0);for(let e=0,t=s.length;e<t;e++){const t=m[e],i=s[e];0!==t&&(Hn.fromBufferAttribute(i,c),jn.fromBufferAttribute(i,h),Yn.fromBufferAttribute(i,d),a?(Jn.addScaledVector(Hn,t),Kn.addScaledVector(jn,t),Zn.addScaledVector(Yn,t)):(Jn.addScaledVector(Hn.sub(Fn),t),Kn.addScaledVector(jn.sub(Gn),t),Zn.addScaledVector(Yn.sub(Wn),t)))}Fn.add(Jn),Gn.add(Kn),Wn.add(Zn)}e.isSkinnedMesh&&(e.boneTransform(c,Fn),e.boneTransform(h,Gn),e.boneTransform(d,Wn));const f=function(e,t,i,n,r,s,a,o){let l;if(l=t.side===u?n.intersectTriangle(a,s,r,!0,o):n.intersectTriangle(r,s,a,t.side!==p,o),null===l)return null;tr.copy(o),tr.applyMatrix4(e.matrixWorld);const c=i.ray.origin.distanceTo(tr);return c<i.near||c>i.far?null:{distance:c,point:tr.clone(),object:e}}(e,t,i,n,Fn,Gn,Wn,er);if(f){o&&(Qn.fromBufferAttribute(o,c),Xn.fromBufferAttribute(o,h),$n.fromBufferAttribute(o,d),f.uv=wn.getUV(er,Fn,Gn,Wn,Qn,Xn,$n,new qt)),l&&(Qn.fromBufferAttribute(l,c),Xn.fromBufferAttribute(l,h),$n.fromBufferAttribute(l,d),f.uv2=wn.getUV(er,Fn,Gn,Wn,Qn,Xn,$n,new qt));const e={a:c,b:h,c:d,normal:new oi,materialIndex:0};wn.getNormal(Fn,Gn,Wn,e.normal),f.face=e}return f}ir.prototype.isMesh=!0;class rr extends kn{constructor(e=1,t=1,i=1,n=1,r=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:n,heightSegments:r,depthSegments:s};const a=this;n=Math.floor(n),r=Math.floor(r),s=Math.floor(s);const o=[],l=[],c=[],h=[];let d=0,u=0;function p(e,t,i,n,r,s,p,m,f,g,y){const v=s/f,x=p/g,M=s/2,w=p/2,S=m/2,b=f+1,A=g+1;let E=0,T=0;const C=new oi;for(let s=0;s<A;s++){const a=s*x-w;for(let o=0;o<b;o++){const d=o*v-M;C[e]=d*n,C[t]=a*r,C[i]=S,l.push(C.x,C.y,C.z),C[e]=0,C[t]=0,C[i]=m>0?1:-1,c.push(C.x,C.y,C.z),h.push(o/f),h.push(1-s/g),E+=1}}for(let e=0;e<g;e++)for(let t=0;t<f;t++){const i=d+t+b*e,n=d+t+b*(e+1),r=d+(t+1)+b*(e+1),s=d+(t+1)+b*e;o.push(i,n,s),o.push(n,r,s),T+=6}a.addGroup(u,T,y),u+=T,d+=E}p("z","y","x",-1,-1,i,t,e,s,r,0),p("z","y","x",1,-1,i,t,-e,s,r,1),p("x","z","y",1,1,e,i,t,n,s,2),p("x","z","y",1,-1,e,i,-t,n,s,3),p("x","y","z",1,-1,e,t,i,n,r,4),p("x","y","z",-1,-1,e,t,-i,n,r,5),this.setIndex(o),this.setAttribute("position",new Vn(l,3)),this.setAttribute("normal",new Vn(c,3)),this.setAttribute("uv",new Vn(h,2))}static fromJSON(e){return new rr(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function sr(e){const t={};for(const i in e){t[i]={};for(const n in e[i]){const r=e[i][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?t[i][n]=r.clone():Array.isArray(r)?t[i][n]=r.slice():t[i][n]=r}}return t}function ar(e){const t={};for(let i=0;i<e.length;i++){const n=sr(e[i]);for(const e in n)t[e]=n[e]}return t}const or={clone:sr,merge:ar};class lr extends bn{constructor(e){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=sr(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const n=this.uniforms[i].value;n&&n.isTexture?t.uniforms[i]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[i]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[i]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[i]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[i]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[i]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[i]={type:"m4",value:n.toArray()}:t.uniforms[i]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const i={};for(const e in this.extensions)!0===this.extensions[e]&&(i[e]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}lr.prototype.isShaderMaterial=!0;class cr extends hn{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new ki,this.projectionMatrix=new ki,this.projectionMatrixInverse=new ki}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}cr.prototype.isCamera=!0;class hr extends cr{constructor(e=50,t=1,i=.1,n=2e3){super(),this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=n,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*It*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Vt*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*It*Math.atan(Math.tan(.5*Vt*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,n,r,s){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Vt*this.fov)/this.zoom,i=2*t,n=this.aspect*i,r=-.5*n;const s=this.view;if(null!==this.view&&this.view.enabled){const e=s.fullWidth,a=s.fullHeight;r+=s.offsetX*n/e,t-=s.offsetY*i/a,n*=s.width/e,i*=s.height/a}const a=this.filmOffset;0!==a&&(r+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,t,t-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}hr.prototype.isPerspectiveCamera=!0;const dr=90;class ur extends hn{constructor(e,t,i){if(super(),this.type="CubeCamera",!0!==i.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=i;const n=new hr(dr,1,e,t);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new oi(1,0,0)),this.add(n);const r=new hr(dr,1,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new oi(-1,0,0)),this.add(r);const s=new hr(dr,1,e,t);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new oi(0,1,0)),this.add(s);const a=new hr(dr,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new oi(0,-1,0)),this.add(a);const o=new hr(dr,1,e,t);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new oi(0,0,1)),this.add(o);const l=new hr(dr,1,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new oi(0,0,-1)),this.add(l)}update(e,t){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget,[n,r,s,a,o,l]=this.children,c=e.xr.enabled,h=e.getRenderTarget();e.xr.enabled=!1;const d=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,n),e.setRenderTarget(i,1),e.render(t,r),e.setRenderTarget(i,2),e.render(t,s),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,o),i.texture.generateMipmaps=d,e.setRenderTarget(i,5),e.render(t,l),e.setRenderTarget(h),e.xr.enabled=c,i.texture.needsPMREMUpdate=!0}}class pr extends ti{constructor(e,t,i,n,r,s,a,o,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:$,i,n,r,s,a,o,l,c),this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}pr.prototype.isCubeTexture=!0;class mr extends ni{constructor(e,t={}){super(e,e,t);const i={width:e,height:e,depth:1},n=[i,i,i,i,i,i];this.texture=new pr(n,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:de}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.format=Ce,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},n=new rr(5,5,5),r=new lr({name:"CubemapFromEquirect",uniforms:sr(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:u,blending:m});r.uniforms.tEquirect.value=t;const s=new ir(n,r),a=t.minFilter;t.minFilter===pe&&(t.minFilter=de);return new ur(1,10,this).update(e,s),t.minFilter=a,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,i,n){const r=e.getRenderTarget();for(let r=0;r<6;r++)e.setRenderTarget(this,r),e.clear(t,i,n);e.setRenderTarget(r)}}mr.prototype.isWebGLCubeRenderTarget=!0;const fr=new oi,gr=new oi,yr=new Ot;class vr{constructor(e=new oi(1,0,0),t=0){this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,n){return this.normal.set(e,t,i),this.constant=n,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const n=fr.subVectors(i,t).cross(gr.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){const i=e.delta(fr),n=this.normal.dot(i);if(0===n)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const r=-(e.start.dot(this.normal)+this.constant)/n;return r<0||r>1?null:t.copy(i).multiplyScalar(r).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||yr.getNormalMatrix(e),n=this.coplanarPoint(fr).applyMatrix4(e),r=this.normal.applyMatrix3(i).normalize();return this.constant=-n.dot(r),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}vr.prototype.isPlane=!0;const xr=new Ri,Mr=new oi;class wr{constructor(e=new vr,t=new vr,i=new vr,n=new vr,r=new vr,s=new vr){this.planes=[e,t,i,n,r,s]}set(e,t,i,n,r,s){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(n),a[4].copy(r),a[5].copy(s),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const t=this.planes,i=e.elements,n=i[0],r=i[1],s=i[2],a=i[3],o=i[4],l=i[5],c=i[6],h=i[7],d=i[8],u=i[9],p=i[10],m=i[11],f=i[12],g=i[13],y=i[14],v=i[15];return t[0].setComponents(a-n,h-o,m-d,v-f).normalize(),t[1].setComponents(a+n,h+o,m+d,v+f).normalize(),t[2].setComponents(a+r,h+l,m+u,v+g).normalize(),t[3].setComponents(a-r,h-l,m-u,v-g).normalize(),t[4].setComponents(a-s,h-c,m-p,v-y).normalize(),t[5].setComponents(a+s,h+c,m+p,v+y).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),xr.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(xr)}intersectsSprite(e){return xr.center.set(0,0,0),xr.radius=.7071067811865476,xr.applyMatrix4(e.matrixWorld),this.intersectsSphere(xr)}intersectsSphere(e){const t=this.planes,i=e.center,n=-e.radius;for(let e=0;e<6;e++){if(t[e].distanceToPoint(i)<n)return!1}return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const n=t[i];if(Mr.x=n.normal.x>0?e.max.x:e.min.x,Mr.y=n.normal.y>0?e.max.y:e.min.y,Mr.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(Mr)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Sr(){let e=null,t=!1,i=null,n=null;function r(t,s){i(t,s),n=e.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==i&&(n=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(e){i=e},setContext:function(t){e=t}}}function br(e,t){const i=t.isWebGL2,n=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),n.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const i=n.get(t);i&&(e.deleteBuffer(i.buffer),n.delete(t))},update:function(t,r){if(t.isGLBufferAttribute){const e=n.get(t);return void((!e||e.version<t.version)&&n.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const s=n.get(t);void 0===s?n.set(t,function(t,n){const r=t.array,s=t.usage,a=e.createBuffer();let o;if(e.bindBuffer(n,a),e.bufferData(n,r,s),t.onUploadCallback(),r instanceof Float32Array)o=5126;else if(r instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!i)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");o=5131}else o=5123;else if(r instanceof Int16Array)o=5122;else if(r instanceof Uint32Array)o=5125;else if(r instanceof Int32Array)o=5124;else if(r instanceof Int8Array)o=5120;else if(r instanceof Uint8Array)o=5121;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);o=5121}return{buffer:a,type:o,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(t,r)):s.version<t.version&&(!function(t,n,r){const s=n.array,a=n.updateRange;e.bindBuffer(r,t),-1===a.count?e.bufferSubData(r,0,s):(i?e.bufferSubData(r,a.offset*s.BYTES_PER_ELEMENT,s,a.offset,a.count):e.bufferSubData(r,a.offset*s.BYTES_PER_ELEMENT,s.subarray(a.offset,a.offset+a.count)),a.count=-1)}(s.buffer,t,r),s.version=t.version)}}}class Ar extends kn{constructor(e=1,t=1,i=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n};const r=e/2,s=t/2,a=Math.floor(i),o=Math.floor(n),l=a+1,c=o+1,h=e/a,d=t/o,u=[],p=[],m=[],f=[];for(let e=0;e<c;e++){const t=e*d-s;for(let i=0;i<l;i++){const n=i*h-r;p.push(n,-t,0),m.push(0,0,1),f.push(i/a),f.push(1-e/o)}}for(let e=0;e<o;e++)for(let t=0;t<a;t++){const i=t+l*e,n=t+l*(e+1),r=t+1+l*(e+1),s=t+1+l*e;u.push(i,n,s),u.push(n,r,s)}this.setIndex(u),this.setAttribute("position",new Vn(p,3)),this.setAttribute("normal",new Vn(m,3)),this.setAttribute("uv",new Vn(f,2))}static fromJSON(e){return new Ar(e.width,e.height,e.widthSegments,e.heightSegments)}}const Er={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ]\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform vec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tfloat texelIndex = float( vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset );\n\t\t\tfloat y = floor( texelIndex / morphTargetsTextureSize.x );\n\t\t\tfloat x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tvec3 morphUV = vec3( ( x + 0.5 ) / morphTargetsTextureSize.x, y / morphTargetsTextureSize.y, morphTargetIndex );\n\t\t\treturn texture( morphTargetsTexture, morphUV );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},Tr={common:{diffuse:{value:new Kt(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Ot},uv2Transform:{value:new Ot},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new qt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Kt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Kt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ot}},sprite:{diffuse:{value:new Kt(16777215)},opacity:{value:1},center:{value:new qt(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Ot}}},Cr={basic:{uniforms:ar([Tr.common,Tr.specularmap,Tr.envmap,Tr.aomap,Tr.lightmap,Tr.fog]),vertexShader:Er.meshbasic_vert,fragmentShader:Er.meshbasic_frag},lambert:{uniforms:ar([Tr.common,Tr.specularmap,Tr.envmap,Tr.aomap,Tr.lightmap,Tr.emissivemap,Tr.fog,Tr.lights,{emissive:{value:new Kt(0)}}]),vertexShader:Er.meshlambert_vert,fragmentShader:Er.meshlambert_frag},phong:{uniforms:ar([Tr.common,Tr.specularmap,Tr.envmap,Tr.aomap,Tr.lightmap,Tr.emissivemap,Tr.bumpmap,Tr.normalmap,Tr.displacementmap,Tr.fog,Tr.lights,{emissive:{value:new Kt(0)},specular:{value:new Kt(1118481)},shininess:{value:30}}]),vertexShader:Er.meshphong_vert,fragmentShader:Er.meshphong_frag},standard:{uniforms:ar([Tr.common,Tr.envmap,Tr.aomap,Tr.lightmap,Tr.emissivemap,Tr.bumpmap,Tr.normalmap,Tr.displacementmap,Tr.roughnessmap,Tr.metalnessmap,Tr.fog,Tr.lights,{emissive:{value:new Kt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Er.meshphysical_vert,fragmentShader:Er.meshphysical_frag},toon:{uniforms:ar([Tr.common,Tr.aomap,Tr.lightmap,Tr.emissivemap,Tr.bumpmap,Tr.normalmap,Tr.displacementmap,Tr.gradientmap,Tr.fog,Tr.lights,{emissive:{value:new Kt(0)}}]),vertexShader:Er.meshtoon_vert,fragmentShader:Er.meshtoon_frag},matcap:{uniforms:ar([Tr.common,Tr.bumpmap,Tr.normalmap,Tr.displacementmap,Tr.fog,{matcap:{value:null}}]),vertexShader:Er.meshmatcap_vert,fragmentShader:Er.meshmatcap_frag},points:{uniforms:ar([Tr.points,Tr.fog]),vertexShader:Er.points_vert,fragmentShader:Er.points_frag},dashed:{uniforms:ar([Tr.common,Tr.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Er.linedashed_vert,fragmentShader:Er.linedashed_frag},depth:{uniforms:ar([Tr.common,Tr.displacementmap]),vertexShader:Er.depth_vert,fragmentShader:Er.depth_frag},normal:{uniforms:ar([Tr.common,Tr.bumpmap,Tr.normalmap,Tr.displacementmap,{opacity:{value:1}}]),vertexShader:Er.meshnormal_vert,fragmentShader:Er.meshnormal_frag},sprite:{uniforms:ar([Tr.sprite,Tr.fog]),vertexShader:Er.sprite_vert,fragmentShader:Er.sprite_frag},background:{uniforms:{uvTransform:{value:new Ot},t2D:{value:null}},vertexShader:Er.background_vert,fragmentShader:Er.background_frag},cube:{uniforms:ar([Tr.envmap,{opacity:{value:1}}]),vertexShader:Er.cube_vert,fragmentShader:Er.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Er.equirect_vert,fragmentShader:Er.equirect_frag},distanceRGBA:{uniforms:ar([Tr.common,Tr.displacementmap,{referencePosition:{value:new oi},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Er.distanceRGBA_vert,fragmentShader:Er.distanceRGBA_frag},shadow:{uniforms:ar([Tr.lights,Tr.fog,{color:{value:new Kt(0)},opacity:{value:1}}]),vertexShader:Er.shadow_vert,fragmentShader:Er.shadow_frag}};function Lr(e,t,i,n,r,s){const a=new Kt(0);let o,l,c=!0===r?0:1,h=null,p=0,m=null;function f(e,t){i.buffers.color.setClear(e.r,e.g,e.b,t,s)}return{getClearColor:function(){return a},setClearColor:function(e,t=1){a.set(e),c=t,f(a,c)},getClearAlpha:function(){return c},setClearAlpha:function(e){c=e,f(a,c)},render:function(i,r){let s=!1,g=!0===r.isScene?r.background:null;g&&g.isTexture&&(g=t.get(g));const y=e.xr,v=y.getSession&&y.getSession();v&&"additive"===v.environmentBlendMode&&(g=null),null===g?f(a,c):g&&g.isColor&&(f(g,1),s=!0),(e.autoClear||s)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),g&&(g.isCubeTexture||g.mapping===ne)?(void 0===l&&(l=new ir(new rr(1,1,1),new lr({name:"BackgroundCubeMaterial",uniforms:sr(Cr.cube.uniforms),vertexShader:Cr.cube.vertexShader,fragmentShader:Cr.cube.fragmentShader,side:u,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(l)),l.material.uniforms.envMap.value=g,l.material.uniforms.flipEnvMap.value=g.isCubeTexture&&!1===g.isRenderTargetTexture?-1:1,h===g&&p===g.version&&m===e.toneMapping||(l.material.needsUpdate=!0,h=g,p=g.version,m=e.toneMapping),i.unshift(l,l.geometry,l.material,0,0,null)):g&&g.isTexture&&(void 0===o&&(o=new ir(new Ar(2,2),new lr({name:"BackgroundMaterial",uniforms:sr(Cr.background.uniforms),vertexShader:Cr.background.vertexShader,fragmentShader:Cr.background.fragmentShader,side:d,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(o)),o.material.uniforms.t2D.value=g,!0===g.matrixAutoUpdate&&g.updateMatrix(),o.material.uniforms.uvTransform.value.copy(g.matrix),h===g&&p===g.version&&m===e.toneMapping||(o.material.needsUpdate=!0,h=g,p=g.version,m=e.toneMapping),i.unshift(o,o.geometry,o.material,0,0,null))}}}function Rr(e,t,i,n){const r=e.getParameter(34921),s=n.isWebGL2?null:t.get("OES_vertex_array_object"),a=n.isWebGL2||null!==s,o={},l=u(null);let c=l;function h(t){return n.isWebGL2?e.bindVertexArray(t):s.bindVertexArrayOES(t)}function d(t){return n.isWebGL2?e.deleteVertexArray(t):s.deleteVertexArrayOES(t)}function u(e){const t=[],i=[],n=[];for(let e=0;e<r;e++)t[e]=0,i[e]=0,n[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:i,attributeDivisors:n,object:e,attributes:{},index:null}}function p(){const e=c.newAttributes;for(let t=0,i=e.length;t<i;t++)e[t]=0}function m(e){f(e,0)}function f(i,r){const s=c.newAttributes,a=c.enabledAttributes,o=c.attributeDivisors;if(s[i]=1,0===a[i]&&(e.enableVertexAttribArray(i),a[i]=1),o[i]!==r){(n.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,r),o[i]=r}}function g(){const t=c.newAttributes,i=c.enabledAttributes;for(let n=0,r=i.length;n<r;n++)i[n]!==t[n]&&(e.disableVertexAttribArray(n),i[n]=0)}function y(t,i,r,s,a,o){!0!==n.isWebGL2||5124!==r&&5125!==r?e.vertexAttribPointer(t,i,r,s,a,o):e.vertexAttribIPointer(t,i,r,a,o)}function v(){x(),c!==l&&(c=l,h(c.object))}function x(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,d,v,x){let M=!1;if(a){const t=function(t,i,r){const a=!0===r.wireframe;let l=o[t.id];void 0===l&&(l={},o[t.id]=l);let c=l[i.id];void 0===c&&(c={},l[i.id]=c);let h=c[a];void 0===h&&(h=u(n.isWebGL2?e.createVertexArray():s.createVertexArrayOES()),c[a]=h);return h}(v,d,l);c!==t&&(c=t,h(c.object)),M=function(e,t){const i=c.attributes,n=e.attributes;let r=0;for(const e in n){const t=i[e],s=n[e];if(void 0===t)return!0;if(t.attribute!==s)return!0;if(t.data!==s.data)return!0;r++}return c.attributesNum!==r||c.index!==t}(v,x),M&&function(e,t){const i={},n=e.attributes;let r=0;for(const e in n){const t=n[e],s={};s.attribute=t,t.data&&(s.data=t.data),i[e]=s,r++}c.attributes=i,c.attributesNum=r,c.index=t}(v,x)}else{const e=!0===l.wireframe;c.geometry===v.id&&c.program===d.id&&c.wireframe===e||(c.geometry=v.id,c.program=d.id,c.wireframe=e,M=!0)}!0===r.isInstancedMesh&&(M=!0),null!==x&&i.update(x,34963),M&&(!function(r,s,a,o){if(!1===n.isWebGL2&&(r.isInstancedMesh||o.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();const l=o.attributes,c=a.getAttributes(),h=s.defaultAttributeValues;for(const t in c){const n=c[t];if(n.location>=0){let s=l[t];if(void 0===s&&("instanceMatrix"===t&&r.instanceMatrix&&(s=r.instanceMatrix),"instanceColor"===t&&r.instanceColor&&(s=r.instanceColor)),void 0!==s){const t=s.normalized,a=s.itemSize,l=i.get(s);if(void 0===l)continue;const c=l.buffer,h=l.type,d=l.bytesPerElement;if(s.isInterleavedBufferAttribute){const i=s.data,l=i.stride,u=s.offset;if(i.isInstancedInterleavedBuffer){for(let e=0;e<n.locationSize;e++)f(n.location+e,i.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let e=0;e<n.locationSize;e++)m(n.location+e);e.bindBuffer(34962,c);for(let e=0;e<n.locationSize;e++)y(n.location+e,a/n.locationSize,h,t,l*d,(u+a/n.locationSize*e)*d)}else{if(s.isInstancedBufferAttribute){for(let e=0;e<n.locationSize;e++)f(n.location+e,s.meshPerAttribute);!0!==r.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=s.meshPerAttribute*s.count)}else for(let e=0;e<n.locationSize;e++)m(n.location+e);e.bindBuffer(34962,c);for(let e=0;e<n.locationSize;e++)y(n.location+e,a/n.locationSize,h,t,a*d,a/n.locationSize*e*d)}}else if(void 0!==h){const i=h[t];if(void 0!==i)switch(i.length){case 2:e.vertexAttrib2fv(n.location,i);break;case 3:e.vertexAttrib3fv(n.location,i);break;case 4:e.vertexAttrib4fv(n.location,i);break;default:e.vertexAttrib1fv(n.location,i)}}}}g()}(r,l,d,v),null!==x&&e.bindBuffer(34963,i.get(x).buffer))},reset:v,resetDefaultState:x,dispose:function(){v();for(const e in o){const t=o[e];for(const e in t){const i=t[e];for(const e in i)d(i[e].object),delete i[e];delete t[e]}delete o[e]}},releaseStatesOfGeometry:function(e){if(void 0===o[e.id])return;const t=o[e.id];for(const e in t){const i=t[e];for(const e in i)d(i[e].object),delete i[e];delete t[e]}delete o[e.id]},releaseStatesOfProgram:function(e){for(const t in o){const i=o[t];if(void 0===i[e.id])continue;const n=i[e.id];for(const e in n)d(n[e].object),delete n[e];delete i[e.id]}},initAttributes:p,enableAttribute:m,disableUnusedAttributes:g}}function Vr(e,t,i,n){const r=n.isWebGL2;let s;this.setMode=function(e){s=e},this.render=function(t,n){e.drawArrays(s,t,n),i.update(n,s,1)},this.renderInstances=function(n,a,o){if(0===o)return;let l,c;if(r)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](s,n,a,o),i.update(a,s,o)}}function Ir(e,t,i){let n;function r(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let a=void 0!==i.precision?i.precision:"highp";const o=r(a);o!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",o,"instead."),a=o);const l=s||t.has("WEBGL_draw_buffers"),c=!0===i.logarithmicDepthBuffer,h=e.getParameter(34930),d=e.getParameter(35660),u=e.getParameter(3379),p=e.getParameter(34076),m=e.getParameter(34921),f=e.getParameter(36347),g=e.getParameter(36348),y=e.getParameter(36349),v=d>0,x=s||t.has("OES_texture_float");return{isWebGL2:s,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==n)return n;if(!0===t.has("EXT_texture_filter_anisotropic")){const i=t.get("EXT_texture_filter_anisotropic");n=e.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:c,maxTextures:h,maxVertexTextures:d,maxTextureSize:u,maxCubemapSize:p,maxAttributes:m,maxVertexUniforms:f,maxVaryings:g,maxFragmentUniforms:y,vertexTextures:v,floatFragmentTextures:x,floatVertexTextures:v&&x,maxSamples:s?e.getParameter(36183):0}}function Pr(e){const t=this;let i=null,n=0,r=!1,s=!1;const a=new vr,o=new Ot,l={value:null,needsUpdate:!1};function c(){l.value!==i&&(l.value=i,l.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function h(e,i,n,r){const s=null!==e?e.length:0;let c=null;if(0!==s){if(c=l.value,!0!==r||null===c){const t=n+4*s,r=i.matrixWorldInverse;o.getNormalMatrix(r),(null===c||c.length<t)&&(c=new Float32Array(t));for(let t=0,i=n;t!==s;++t,i+=4)a.copy(e[t]).applyMatrix4(r,o),a.normal.toArray(c,i),c[i+3]=a.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=s,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,s){const a=0!==e.length||t||0!==n||r;return r=t,i=h(e,s,0),n=e.length,a},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1,c()},this.setState=function(t,a,o){const d=t.clippingPlanes,u=t.clipIntersection,p=t.clipShadows,m=e.get(t);if(!r||null===d||0===d.length||s&&!p)s?h(null):c();else{const e=s?0:n,t=4*e;let r=m.clippingState||null;l.value=r,r=h(d,a,t,o);for(let e=0;e!==t;++e)r[e]=i[e];m.clippingState=r,this.numIntersection=u?this.numPlanes:0,this.numPlanes+=e}}}function Ur(e){let t=new WeakMap;function i(e,t){return t===te?e.mapping=$:t===ie&&(e.mapping=ee),e}function n(e){const i=e.target;i.removeEventListener("dispose",n);const r=t.get(i);void 0!==r&&(t.delete(i),r.dispose())}return{get:function(r){if(r&&r.isTexture&&!1===r.isRenderTargetTexture){const s=r.mapping;if(s===te||s===ie){if(t.has(r)){return i(t.get(r).texture,r.mapping)}{const s=r.image;if(s&&s.height>0){const a=new mr(s.height/2);return a.fromEquirectangularTexture(e,r),t.set(r,a),r.addEventListener("dispose",n),i(a.texture,r.mapping)}return null}}}return r},dispose:function(){t=new WeakMap}}}Cr.physical={uniforms:ar([Cr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new qt(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Kt(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new qt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Kt(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Kt(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Er.meshphysical_vert,fragmentShader:Er.meshphysical_frag};class Dr extends cr{constructor(e=-1,t=1,i=1,n=-1,r=.1,s=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=n,this.near=r,this.far=s,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,n,r,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let r=i-e,s=i+e,a=n+t,o=n-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=e*this.view.offsetX,s=r+e*this.view.width,a-=t*this.view.offsetY,o=a-t*this.view.height}this.projectionMatrix.makeOrthographic(r,s,a,o,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}Dr.prototype.isOrthographicCamera=!0;const Br=[.125,.215,.35,.446,.526,.582],Nr=20,_r=new Dr,kr=new Kt;let qr=null;const Or=(1+Math.sqrt(5))/2,zr=1/Or,Fr=[new oi(1,1,1),new oi(-1,1,1),new oi(1,1,-1),new oi(-1,1,-1),new oi(0,Or,zr),new oi(0,Or,-zr),new oi(zr,0,Or),new oi(-zr,0,Or),new oi(Or,zr,0),new oi(-Or,zr,0)];class Gr{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,n=100){qr=this._renderer.getRenderTarget(),this._setSize(256);const r=this._allocateTargets();return r.depthBuffer=!0,this._sceneToCubeUV(e,i,n,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Yr(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=jr(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(qr),e.scissorTest=!1,Hr(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===$||e.mapping===ee?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),qr=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize-32,i={magFilter:de,minFilter:de,generateMipmaps:!1,type:we,format:Ce,encoding:yt,depthBuffer:!1},n=Wr(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Wr(e,t,i);const{_lodMax:n}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],i=[],n=[];let r=e;const s=e-4+1+Br.length;for(let a=0;a<s;a++){const s=Math.pow(2,r);i.push(s);let o=1/s;a>e-4?o=Br[a-e+4-1]:0===a&&(o=0),n.push(o);const l=1/(s-1),c=-l/2,h=1+l/2,d=[c,c,h,c,h,h,c,c,h,h,c,h],u=6,p=6,m=3,f=2,g=1,y=new Float32Array(m*p*u),v=new Float32Array(f*p*u),x=new Float32Array(g*p*u);for(let e=0;e<u;e++){const t=e%3*2/3-1,i=e>2?0:-1,n=[t,i,0,t+2/3,i,0,t+2/3,i+1,0,t,i,0,t+2/3,i+1,0,t,i+1,0];y.set(n,m*p*e),v.set(d,f*p*e);const r=[e,e,e,e,e,e];x.set(r,g*p*e)}const M=new kn;M.setAttribute("position",new Cn(y,m)),M.setAttribute("uv",new Cn(v,f)),M.setAttribute("faceIndex",new Cn(x,g)),t.push(M),r>4&&r--}return{lodPlanes:t,sizeLods:i,sigmas:n}}(n)),this._blurMaterial=function(e,t,i){const n=new Float32Array(Nr),r=new oi(0,1,0),s=new lr({name:"SphericalGaussianBlur",defines:{n:Nr,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Jr(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:m,depthTest:!1,depthWrite:!1});return s}(n,e,t)}return n}_compileMaterial(e){const t=new ir(this._lodPlanes[0],e);this._renderer.compile(t,_r)}_sceneToCubeUV(e,t,i,n){const r=new hr(90,1,t,i),s=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],o=this._renderer,l=o.autoClear,c=o.toneMapping;o.getClearColor(kr),o.toneMapping=Y,o.autoClear=!1;const h=new An({name:"PMREM.Background",side:u,depthWrite:!1,depthTest:!1}),d=new ir(new rr,h);let p=!1;const m=e.background;m?m.isColor&&(h.color.copy(m),e.background=null,p=!0):(h.color.copy(kr),p=!0);for(let t=0;t<6;t++){const i=t%3;0===i?(r.up.set(0,s[t],0),r.lookAt(a[t],0,0)):1===i?(r.up.set(0,0,s[t]),r.lookAt(0,a[t],0)):(r.up.set(0,s[t],0),r.lookAt(0,0,a[t]));const l=this._cubeSize;Hr(n,i*l,t>2?l:0,l,l),o.setRenderTarget(n),p&&o.render(d,r),o.render(e,r)}d.geometry.dispose(),d.material.dispose(),o.toneMapping=c,o.autoClear=l,e.background=m}_textureToCubeUV(e,t){const i=this._renderer,n=e.mapping===$||e.mapping===ee;n?(null===this._cubemapMaterial&&(this._cubemapMaterial=Yr()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=jr());const r=n?this._cubemapMaterial:this._equirectMaterial,s=new ir(this._lodPlanes[0],r);r.uniforms.envMap.value=e;const a=this._cubeSize;Hr(t,0,0,3*a,2*a),i.setRenderTarget(t),i.render(s,_r)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let t=1;t<this._lodPlanes.length;t++){const i=Math.sqrt(this._sigmas[t]*this._sigmas[t]-this._sigmas[t-1]*this._sigmas[t-1]),n=Fr[(t-1)%Fr.length];this._blur(e,t-1,t,i,n)}t.autoClear=i}_blur(e,t,i,n,r){const s=this._pingPongRenderTarget;this._halfBlur(e,s,t,i,n,"latitudinal",r),this._halfBlur(s,e,i,i,n,"longitudinal",r)}_halfBlur(e,t,i,n,r,s,a){const o=this._renderer,l=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new ir(this._lodPlanes[n],l),h=l.uniforms,d=this._sizeLods[i]-1,u=isFinite(r)?Math.PI/(2*d):2*Math.PI/39,p=r/u,m=isFinite(r)?1+Math.floor(3*p):Nr;m>Nr&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${m} samples when the maximum is set to 20`);const f=[];let g=0;for(let e=0;e<Nr;++e){const t=e/p,i=Math.exp(-t*t/2);f.push(i),0===e?g+=i:e<m&&(g+=2*i)}for(let e=0;e<f.length;e++)f[e]=f[e]/g;h.envMap.value=e.texture,h.samples.value=m,h.weights.value=f,h.latitudinal.value="latitudinal"===s,a&&(h.poleAxis.value=a);const{_lodMax:y}=this;h.dTheta.value=u,h.mipInt.value=y-i;const v=this._sizeLods[n];Hr(t,3*v*(n>y-4?n-y+4:0),4*(this._cubeSize-v),3*v,2*v),o.setRenderTarget(t),o.render(c,_r)}}function Wr(e,t,i){const n=new ni(e,t,i);return n.texture.mapping=ne,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function Hr(e,t,i,n,r){e.viewport.set(t,i,n,r),e.scissor.set(t,i,n,r)}function jr(){return new lr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Jr(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:m,depthTest:!1,depthWrite:!1})}function Yr(){return new lr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Jr(),fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:m,depthTest:!1,depthWrite:!1})}function Jr(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Kr(e){let t=new WeakMap,i=null;function n(e){const i=e.target;i.removeEventListener("dispose",n);const r=t.get(i);void 0!==r&&(t.delete(i),r.dispose())}return{get:function(r){if(r&&r.isTexture){const s=r.mapping,a=s===te||s===ie,o=s===$||s===ee;if(a||o){if(r.isRenderTargetTexture&&!0===r.needsPMREMUpdate){r.needsPMREMUpdate=!1;let n=t.get(r);return null===i&&(i=new Gr(e)),n=a?i.fromEquirectangular(r,n):i.fromCubemap(r,n),t.set(r,n),n.texture}if(t.has(r))return t.get(r).texture;{const s=r.image;if(a&&s&&s.height>0||o&&s&&function(e){let t=0;const i=6;for(let n=0;n<i;n++)void 0!==e[n]&&t++;return t===i}(s)){null===i&&(i=new Gr(e));const s=a?i.fromEquirectangular(r):i.fromCubemap(r);return t.set(r,s),r.addEventListener("dispose",n),s.texture}return null}}}return r},dispose:function(){t=new WeakMap,null!==i&&(i.dispose(),i=null)}}}function Zr(e){const t={};function i(i){if(void 0!==t[i])return t[i];let n;switch(i){case"WEBGL_depth_texture":n=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(i)}return t[i]=n,n}return{has:function(e){return null!==i(e)},init:function(e){e.isWebGL2?i("EXT_color_buffer_float"):(i("WEBGL_depth_texture"),i("OES_texture_float"),i("OES_texture_half_float"),i("OES_texture_half_float_linear"),i("OES_standard_derivatives"),i("OES_element_index_uint"),i("OES_vertex_array_object"),i("ANGLE_instanced_arrays")),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture")},get:function(e){const t=i(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Qr(e,t,i,n){const r={},s=new WeakMap;function a(e){const o=e.target;null!==o.index&&t.remove(o.index);for(const e in o.attributes)t.remove(o.attributes[e]);o.removeEventListener("dispose",a),delete r[o.id];const l=s.get(o);l&&(t.remove(l),s.delete(o)),n.releaseStatesOfGeometry(o),!0===o.isInstancedBufferGeometry&&delete o._maxInstanceCount,i.memory.geometries--}function o(e){const i=[],n=e.index,r=e.attributes.position;let a=0;if(null!==n){const e=n.array;a=n.version;for(let t=0,n=e.length;t<n;t+=3){const n=e[t+0],r=e[t+1],s=e[t+2];i.push(n,r,r,s,s,n)}}else{const e=r.array;a=r.version;for(let t=0,n=e.length/3-1;t<n;t+=3){const e=t+0,n=t+1,r=t+2;i.push(e,n,n,r,r,e)}}const o=new(zt(i)?Rn:Ln)(i,1);o.version=a;const l=s.get(e);l&&t.remove(l),s.set(e,o)}return{get:function(e,t){return!0===r[t.id]||(t.addEventListener("dispose",a),r[t.id]=!0,i.memory.geometries++),t},update:function(e){const i=e.attributes;for(const e in i)t.update(i[e],34962);const n=e.morphAttributes;for(const e in n){const i=n[e];for(let e=0,n=i.length;e<n;e++)t.update(i[e],34962)}},getWireframeAttribute:function(e){const t=s.get(e);if(t){const i=e.index;null!==i&&t.version<i.version&&o(e)}else o(e);return s.get(e)}}}function Xr(e,t,i,n){const r=n.isWebGL2;let s,a,o;this.setMode=function(e){s=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,n){e.drawElements(s,n,a,t*o),i.update(n,s,1)},this.renderInstances=function(n,l,c){if(0===c)return;let h,d;if(r)h=e,d="drawElementsInstanced";else if(h=t.get("ANGLE_instanced_arrays"),d="drawElementsInstancedANGLE",null===h)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[d](s,l,a,n*o,c),i.update(l,s,c)}}function $r(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,i,n){switch(t.calls++,i){case 4:t.triangles+=n*(e/3);break;case 1:t.lines+=n*(e/2);break;case 3:t.lines+=n*(e-1);break;case 2:t.lines+=n*e;break;case 0:t.points+=n*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",i)}}}}function es(e,t){return e[0]-t[0]}function ts(e,t){return Math.abs(t[1])-Math.abs(e[1])}function is(e,t){let i=1;const n=t.isInterleavedBufferAttribute?t.data.array:t.array;n instanceof Int8Array?i=127:n instanceof Int16Array?i=32767:n instanceof Int32Array?i=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",n),e.divideScalar(i)}function ns(e,t,i){const n={},r=new Float32Array(8),s=new WeakMap,a=new ii,o=[];for(let e=0;e<8;e++)o[e]=[e,0];return{update:function(l,c,h,d){const u=l.morphTargetInfluences;if(!0===t.isWebGL2){const p=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,m=void 0!==p?p.length:0;let f=s.get(c);if(void 0===f||f.count!==m){void 0!==f&&f.texture.dispose();const v=void 0!==c.morphAttributes.position,x=void 0!==c.morphAttributes.normal,M=void 0!==c.morphAttributes.color,w=c.morphAttributes.position||[],S=c.morphAttributes.normal||[],b=c.morphAttributes.color||[];let A=0;!0===v&&(A=1),!0===x&&(A=2),!0===M&&(A=3);let E=c.attributes.position.count*A,T=1;E>t.maxTextureSize&&(T=Math.ceil(E/t.maxTextureSize),E=t.maxTextureSize);const C=new Float32Array(E*T*4*m),L=new ri(C,E,T,m);L.format=Ce,L.type=Me,L.needsUpdate=!0;const R=4*A;for(let I=0;I<m;I++){const P=w[I],U=S[I],D=b[I],B=E*T*4*I;for(let N=0;N<P.count;N++){const _=N*R;!0===v&&(a.fromBufferAttribute(P,N),!0===P.normalized&&is(a,P),C[B+_+0]=a.x,C[B+_+1]=a.y,C[B+_+2]=a.z,C[B+_+3]=0),!0===x&&(a.fromBufferAttribute(U,N),!0===U.normalized&&is(a,U),C[B+_+4]=a.x,C[B+_+5]=a.y,C[B+_+6]=a.z,C[B+_+7]=0),!0===M&&(a.fromBufferAttribute(D,N),!0===D.normalized&&is(a,U),C[B+_+8]=a.x,C[B+_+9]=a.y,C[B+_+10]=a.z,C[B+_+11]=4===D.itemSize?a.w:1)}}function V(){L.dispose(),s.delete(c),c.removeEventListener("dispose",V)}f={count:m,texture:L,size:new qt(E,T)},s.set(c,f),c.addEventListener("dispose",V)}let g=0;for(let k=0;k<u.length;k++)g+=u[k];const y=c.morphTargetsRelative?1:1-g;d.getUniforms().setValue(e,"morphTargetBaseInfluence",y),d.getUniforms().setValue(e,"morphTargetInfluences",u),d.getUniforms().setValue(e,"morphTargetsTexture",f.texture,i),d.getUniforms().setValue(e,"morphTargetsTextureSize",f.size)}else{const q=void 0===u?0:u.length;let O=n[c.id];if(void 0===O||O.length!==q){O=[];for(let H=0;H<q;H++)O[H]=[H,0];n[c.id]=O}for(let j=0;j<q;j++){const Y=O[j];Y[0]=j,Y[1]=u[j]}O.sort(ts);for(let J=0;J<8;J++)J<q&&O[J][1]?(o[J][0]=O[J][0],o[J][1]=O[J][1]):(o[J][0]=Number.MAX_SAFE_INTEGER,o[J][1]=0);o.sort(es);const z=c.morphAttributes.position,F=c.morphAttributes.normal;let G=0;for(let K=0;K<8;K++){const Z=o[K],Q=Z[0],X=Z[1];Q!==Number.MAX_SAFE_INTEGER&&X?(z&&c.getAttribute("morphTarget"+K)!==z[Q]&&c.setAttribute("morphTarget"+K,z[Q]),F&&c.getAttribute("morphNormal"+K)!==F[Q]&&c.setAttribute("morphNormal"+K,F[Q]),r[K]=X,G+=X):(z&&!0===c.hasAttribute("morphTarget"+K)&&c.deleteAttribute("morphTarget"+K),F&&!0===c.hasAttribute("morphNormal"+K)&&c.deleteAttribute("morphNormal"+K),r[K]=0)}const W=c.morphTargetsRelative?1:1-G;d.getUniforms().setValue(e,"morphTargetBaseInfluence",W),d.getUniforms().setValue(e,"morphTargetInfluences",r)}}}}function rs(e,t,i,n){let r=new WeakMap;function s(e){const t=e.target;t.removeEventListener("dispose",s),i.remove(t.instanceMatrix),null!==t.instanceColor&&i.remove(t.instanceColor)}return{update:function(e){const a=n.render.frame,o=e.geometry,l=t.get(e,o);return r.get(l)!==a&&(t.update(l),r.set(l,a)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",s)&&e.addEventListener("dispose",s),i.update(e.instanceMatrix,34962),null!==e.instanceColor&&i.update(e.instanceColor,34962)),l},dispose:function(){r=new WeakMap}}}const ss=new ti,as=new ri,os=new si,ls=new pr,cs=[],hs=[],ds=new Float32Array(16),us=new Float32Array(9),ps=new Float32Array(4);function ms(e,t,i){const n=e[0];if(n<=0||n>0)return e;const r=t*i;let s=cs[r];if(void 0===s&&(s=new Float32Array(r),cs[r]=s),0!==t){n.toArray(s,0);for(let n=1,r=0;n!==t;++n)r+=i,e[n].toArray(s,r)}return s}function fs(e,t){if(e.length!==t.length)return!1;for(let i=0,n=e.length;i<n;i++)if(e[i]!==t[i])return!1;return!0}function gs(e,t){for(let i=0,n=t.length;i<n;i++)e[i]=t[i]}function ys(e,t){let i=hs[t];void 0===i&&(i=new Int32Array(t),hs[t]=i);for(let n=0;n!==t;++n)i[n]=e.allocateTextureUnit();return i}function vs(e,t){const i=this.cache;i[0]!==t&&(e.uniform1f(this.addr,t),i[0]=t)}function xs(e,t){const i=this.cache;if(void 0!==t.x)i[0]===t.x&&i[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),i[0]=t.x,i[1]=t.y);else{if(fs(i,t))return;e.uniform2fv(this.addr,t),gs(i,t)}}function Ms(e,t){const i=this.cache;if(void 0!==t.x)i[0]===t.x&&i[1]===t.y&&i[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),i[0]=t.x,i[1]=t.y,i[2]=t.z);else if(void 0!==t.r)i[0]===t.r&&i[1]===t.g&&i[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),i[0]=t.r,i[1]=t.g,i[2]=t.b);else{if(fs(i,t))return;e.uniform3fv(this.addr,t),gs(i,t)}}function ws(e,t){const i=this.cache;if(void 0!==t.x)i[0]===t.x&&i[1]===t.y&&i[2]===t.z&&i[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=t.w);else{if(fs(i,t))return;e.uniform4fv(this.addr,t),gs(i,t)}}function Ss(e,t){const i=this.cache,n=t.elements;if(void 0===n){if(fs(i,t))return;e.uniformMatrix2fv(this.addr,!1,t),gs(i,t)}else{if(fs(i,n))return;ps.set(n),e.uniformMatrix2fv(this.addr,!1,ps),gs(i,n)}}function bs(e,t){const i=this.cache,n=t.elements;if(void 0===n){if(fs(i,t))return;e.uniformMatrix3fv(this.addr,!1,t),gs(i,t)}else{if(fs(i,n))return;us.set(n),e.uniformMatrix3fv(this.addr,!1,us),gs(i,n)}}function As(e,t){const i=this.cache,n=t.elements;if(void 0===n){if(fs(i,t))return;e.uniformMatrix4fv(this.addr,!1,t),gs(i,t)}else{if(fs(i,n))return;ds.set(n),e.uniformMatrix4fv(this.addr,!1,ds),gs(i,n)}}function Es(e,t){const i=this.cache;i[0]!==t&&(e.uniform1i(this.addr,t),i[0]=t)}function Ts(e,t){const i=this.cache;fs(i,t)||(e.uniform2iv(this.addr,t),gs(i,t))}function Cs(e,t){const i=this.cache;fs(i,t)||(e.uniform3iv(this.addr,t),gs(i,t))}function Ls(e,t){const i=this.cache;fs(i,t)||(e.uniform4iv(this.addr,t),gs(i,t))}function Rs(e,t){const i=this.cache;i[0]!==t&&(e.uniform1ui(this.addr,t),i[0]=t)}function Vs(e,t){const i=this.cache;fs(i,t)||(e.uniform2uiv(this.addr,t),gs(i,t))}function Is(e,t){const i=this.cache;fs(i,t)||(e.uniform3uiv(this.addr,t),gs(i,t))}function Ps(e,t){const i=this.cache;fs(i,t)||(e.uniform4uiv(this.addr,t),gs(i,t))}function Us(e,t,i){const n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.setTexture2D(t||ss,r)}function Ds(e,t,i){const n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.setTexture3D(t||os,r)}function Bs(e,t,i){const n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.setTextureCube(t||ls,r)}function Ns(e,t,i){const n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(e.uniform1i(this.addr,r),n[0]=r),i.setTexture2DArray(t||as,r)}function _s(e,t){e.uniform1fv(this.addr,t)}function ks(e,t){const i=ms(t,this.size,2);e.uniform2fv(this.addr,i)}function qs(e,t){const i=ms(t,this.size,3);e.uniform3fv(this.addr,i)}function Os(e,t){const i=ms(t,this.size,4);e.uniform4fv(this.addr,i)}function zs(e,t){const i=ms(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,i)}function Fs(e,t){const i=ms(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,i)}function Gs(e,t){const i=ms(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,i)}function Ws(e,t){e.uniform1iv(this.addr,t)}function Hs(e,t){e.uniform2iv(this.addr,t)}function js(e,t){e.uniform3iv(this.addr,t)}function Ys(e,t){e.uniform4iv(this.addr,t)}function Js(e,t){e.uniform1uiv(this.addr,t)}function Ks(e,t){e.uniform2uiv(this.addr,t)}function Zs(e,t){e.uniform3uiv(this.addr,t)}function Qs(e,t){e.uniform4uiv(this.addr,t)}function Xs(e,t,i){const n=t.length,r=ys(i,n);e.uniform1iv(this.addr,r);for(let e=0;e!==n;++e)i.setTexture2D(t[e]||ss,r[e])}function $s(e,t,i){const n=t.length,r=ys(i,n);e.uniform1iv(this.addr,r);for(let e=0;e!==n;++e)i.setTexture3D(t[e]||os,r[e])}function ea(e,t,i){const n=t.length,r=ys(i,n);e.uniform1iv(this.addr,r);for(let e=0;e!==n;++e)i.setTextureCube(t[e]||ls,r[e])}function ta(e,t,i){const n=t.length,r=ys(i,n);e.uniform1iv(this.addr,r);for(let e=0;e!==n;++e)i.setTexture2DArray(t[e]||as,r[e])}function ia(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function(e){switch(e){case 5126:return vs;case 35664:return xs;case 35665:return Ms;case 35666:return ws;case 35674:return Ss;case 35675:return bs;case 35676:return As;case 5124:case 35670:return Es;case 35667:case 35671:return Ts;case 35668:case 35672:return Cs;case 35669:case 35673:return Ls;case 5125:return Rs;case 36294:return Vs;case 36295:return Is;case 36296:return Ps;case 35678:case 36198:case 36298:case 36306:case 35682:return Us;case 35679:case 36299:case 36307:return Ds;case 35680:case 36300:case 36308:case 36293:return Bs;case 36289:case 36303:case 36311:case 36292:return Ns}}(t.type)}function na(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return _s;case 35664:return ks;case 35665:return qs;case 35666:return Os;case 35674:return zs;case 35675:return Fs;case 35676:return Gs;case 5124:case 35670:return Ws;case 35667:case 35671:return Hs;case 35668:case 35672:return js;case 35669:case 35673:return Ys;case 5125:return Js;case 36294:return Ks;case 36295:return Zs;case 36296:return Qs;case 35678:case 36198:case 36298:case 36306:case 35682:return Xs;case 35679:case 36299:case 36307:return $s;case 35680:case 36300:case 36308:case 36293:return ea;case 36289:case 36303:case 36311:case 36292:return ta}}(t.type)}function ra(e){this.id=e,this.seq=[],this.map={}}na.prototype.updateCache=function(e){const t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),gs(t,e)},ra.prototype.setValue=function(e,t,i){const n=this.seq;for(let r=0,s=n.length;r!==s;++r){const s=n[r];s.setValue(e,t[s.id],i)}};const sa=/(\w+)(\])?(\[|\.)?/g;function aa(e,t){e.seq.push(t),e.map[t.id]=t}function oa(e,t,i){const n=e.name,r=n.length;for(sa.lastIndex=0;;){const s=sa.exec(n),a=sa.lastIndex;let o=s[1];const l="]"===s[2],c=s[3];if(l&&(o|=0),void 0===c||"["===c&&a+2===r){aa(i,void 0===c?new ia(o,e,t):new na(o,e,t));break}{let e=i.map[o];void 0===e&&(e=new ra(o),aa(i,e)),i=e}}}function la(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,35718);for(let n=0;n<i;++n){const i=e.getActiveUniform(t,n);oa(i,e.getUniformLocation(t,i.name),this)}}function ca(e,t,i){const n=e.createShader(t);return e.shaderSource(n,i),e.compileShader(n),n}la.prototype.setValue=function(e,t,i,n){const r=this.map[t];void 0!==r&&r.setValue(e,i,n)},la.prototype.setOptional=function(e,t,i){const n=t[i];void 0!==n&&this.setValue(e,i,n)},la.upload=function(e,t,i,n){for(let r=0,s=t.length;r!==s;++r){const s=t[r],a=i[s.id];!1!==a.needsUpdate&&s.setValue(e,a.value,n)}},la.seqWithValue=function(e,t){const i=[];for(let n=0,r=e.length;n!==r;++n){const r=e[n];r.id in t&&i.push(r)}return i};let ha=0;function da(e,t,i){const n=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();return n&&""===r?"":i.toUpperCase()+"\n\n"+r+"\n\n"+function(e){const t=e.split("\n");for(let e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join("\n")}(e.getShaderSource(t))}function ua(e,t){const i=function(e){switch(e){case yt:return["Linear","( value )"];case vt:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function pa(e,t){let i;switch(t){case J:i="Linear";break;case K:i="Reinhard";break;case Z:i="OptimizedCineon";break;case Q:i="ACESFilmic";break;case X:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),i="Linear"}return"vec3 "+e+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function ma(e){return""!==e}function fa(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ga(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const ya=/^[ \t]*#include +<([\w\d./]+)>/gm;function va(e){return e.replace(ya,xa)}function xa(e,t){const i=Er[t];if(void 0===i)throw new Error("Can not resolve #include <"+t+">");return va(i)}const Ma=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,wa=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Sa(e){return e.replace(wa,Aa).replace(Ma,ba)}function ba(e,t,i,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Aa(e,t,i,n)}function Aa(e,t,i,n){let r="";for(let e=parseInt(t);e<parseInt(i);e++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return r}function Ea(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function Ta(e,t,i,n){const r=e.getContext(),s=i.defines;let a=i.vertexShader,o=i.fragmentShader;const d=function(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===l?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===c?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===h&&(t="SHADOWMAP_TYPE_VSM"),t}(i),u=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case $:case ee:t="ENVMAP_TYPE_CUBE";break;case ne:case re:t="ENVMAP_TYPE_CUBE_UV"}return t}(i),p=function(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case ee:case re:t="ENVMAP_MODE_REFRACTION"}return t}(i),m=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case W:t="ENVMAP_BLENDING_MULTIPLY";break;case H:t="ENVMAP_BLENDING_MIX";break;case j:t="ENVMAP_BLENDING_ADD"}return t}(i),f=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const i=Math.log2(t/32+1)+3,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,i),112)),texelHeight:n,maxMip:i}}(i),g=i.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ma).join("\n")}(i),y=function(e){const t=[];for(const i in e){const n=e[i];!1!==n&&t.push("#define "+i+" "+n)}return t.join("\n")}(s),v=r.createProgram();let x,M,w=i.glslVersion?"#version "+i.glslVersion+"\n":"";i.isRawShaderMaterial?(x=[y].filter(ma).join("\n"),x.length>0&&(x+="\n"),M=[g,y].filter(ma).join("\n"),M.length>0&&(M+="\n")):(x=[Ea(i),"#define SHADER_NAME "+i.shaderName,y,i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+i.maxBones,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+p:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",i.specularColorMap?"#define USE_SPECULARCOLORMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEENCOLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&!1===i.flatShading?"#define USE_MORPHNORMALS":"",i.morphColors&&i.isWebGL2?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0&&i.isWebGL2?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+d:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ma).join("\n"),M=[g,Ea(i),"#define SHADER_NAME "+i.shaderName,y,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+u:"",i.envMap?"#define "+p:"",i.envMap?"#define "+m:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",i.specularColorMap?"#define USE_SPECULARCOLORMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEENCOLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+d:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==Y?"#define TONE_MAPPING":"",i.toneMapping!==Y?Er.tonemapping_pars_fragment:"",i.toneMapping!==Y?pa("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",Er.encodings_pars_fragment,ua("linearToOutputTexel",i.outputEncoding),i.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(ma).join("\n")),a=va(a),a=fa(a,i),a=ga(a,i),o=va(o),o=fa(o,i),o=ga(o,i),a=Sa(a),o=Sa(o),i.isWebGL2&&!0!==i.isRawShaderMaterial&&(w="#version 300 es\n",x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+x,M=["#define varying in",i.glslVersion===Et?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===Et?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+M);const S=w+M+o,b=ca(r,35633,w+x+a),A=ca(r,35632,S);if(r.attachShader(v,b),r.attachShader(v,A),void 0!==i.index0AttributeName?r.bindAttribLocation(v,0,i.index0AttributeName):!0===i.morphTargets&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),e.debug.checkShaderErrors){const e=r.getProgramInfoLog(v).trim(),t=r.getShaderInfoLog(b).trim(),i=r.getShaderInfoLog(A).trim();let n=!0,s=!0;if(!1===r.getProgramParameter(v,35714)){n=!1;const t=da(r,b,"vertex"),i=da(r,A,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(v,35715)+"\n\nProgram Info Log: "+e+"\n"+t+"\n"+i)}else""!==e?console.warn("THREE.WebGLProgram: Program Info Log:",e):""!==t&&""!==i||(s=!1);s&&(this.diagnostics={runnable:n,programLog:e,vertexShader:{log:t,prefix:x},fragmentShader:{log:i,prefix:M}})}let E,T;return r.deleteShader(b),r.deleteShader(A),this.getUniforms=function(){return void 0===E&&(E=new la(r,v)),E},this.getAttributes=function(){return void 0===T&&(T=function(e,t){const i={},n=e.getProgramParameter(t,35721);for(let r=0;r<n;r++){const n=e.getActiveAttrib(t,r),s=n.name;let a=1;35674===n.type&&(a=2),35675===n.type&&(a=3),35676===n.type&&(a=4),i[s]={type:n.type,location:e.getAttribLocation(t,s),locationSize:a}}return i}(r,v)),T},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.name=i.shaderName,this.id=ha++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=b,this.fragmentShader=A,this}let Ca=0;class La{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,n=this._getShaderStage(t),r=this._getShaderStage(i),s=this._getShaderCacheForMaterial(e);return!1===s.has(n)&&(s.add(n),n.usedTimes++),!1===s.has(r)&&(s.add(r),r.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const e of t)e.usedTimes--,0===e.usedTimes&&this.shaderCache.delete(e);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}_getShaderStage(e){const t=this.shaderCache;if(!1===t.has(e)){const i=new Ra;t.set(e,i)}return t.get(e)}}class Ra{constructor(){this.id=Ca++,this.usedTimes=0}}function Va(e,t,i,n,r,s,a){const o=new Ki,l=new La,c=[],h=r.isWebGL2,d=r.logarithmicDepthBuffer,m=r.floatVertexTextures,g=r.maxVertexUniforms,y=r.vertexTextures;let v=r.precision;const x={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(s,o,c,M,w){const S=M.fog,b=w.geometry,A=s.isMeshStandardMaterial?M.environment:null,E=(s.isMeshStandardMaterial?i:t).get(s.envMap||A),T=!E||E.mapping!==ne&&E.mapping!==re?null:E.image.height,C=x[s.type],L=w.isSkinnedMesh?function(e){const t=e.skeleton.bones;if(m)return 1024;{const e=g,i=Math.floor((e-20)/4),n=Math.min(i,t.length);return n<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+n+"."),0):n}}(w):0;null!==s.precision&&(v=r.getMaxPrecision(s.precision),v!==s.precision&&console.warn("THREE.WebGLProgram.getParameters:",s.precision,"not supported, using",v,"instead."));const R=b.morphAttributes.position||b.morphAttributes.normal||b.morphAttributes.color,V=void 0!==R?R.length:0;let I,P,U,D,B=0;if(void 0!==b.morphAttributes.position&&(B=1),void 0!==b.morphAttributes.normal&&(B=2),void 0!==b.morphAttributes.color&&(B=3),C){const e=Cr[C];I=e.vertexShader,P=e.fragmentShader}else I=s.vertexShader,P=s.fragmentShader,l.update(s),U=l.getVertexShaderID(s),D=l.getFragmentShaderID(s);const N=e.getRenderTarget(),_=s.alphaTest>0,k=s.clearcoat>0;return{isWebGL2:h,shaderID:C,shaderName:s.type,vertexShader:I,fragmentShader:P,defines:s.defines,customVertexShaderID:U,customFragmentShaderID:D,isRawShaderMaterial:!0===s.isRawShaderMaterial,glslVersion:s.glslVersion,precision:v,instancing:!0===w.isInstancedMesh,instancingColor:!0===w.isInstancedMesh&&null!==w.instanceColor,supportsVertexTextures:y,outputEncoding:null===N?e.outputEncoding:!0===N.isXRRenderTarget?N.texture.encoding:yt,map:!!s.map,matcap:!!s.matcap,envMap:!!E,envMapMode:E&&E.mapping,envMapCubeUVHeight:T,lightMap:!!s.lightMap,aoMap:!!s.aoMap,emissiveMap:!!s.emissiveMap,bumpMap:!!s.bumpMap,normalMap:!!s.normalMap,objectSpaceNormalMap:s.normalMapType===wt,tangentSpaceNormalMap:s.normalMapType===Mt,decodeVideoTexture:!!s.map&&!0===s.map.isVideoTexture&&s.map.encoding===vt,clearcoat:k,clearcoatMap:k&&!!s.clearcoatMap,clearcoatRoughnessMap:k&&!!s.clearcoatRoughnessMap,clearcoatNormalMap:k&&!!s.clearcoatNormalMap,displacementMap:!!s.displacementMap,roughnessMap:!!s.roughnessMap,metalnessMap:!!s.metalnessMap,specularMap:!!s.specularMap,specularIntensityMap:!!s.specularIntensityMap,specularColorMap:!!s.specularColorMap,opaque:!1===s.transparent&&s.blending===f,alphaMap:!!s.alphaMap,alphaTest:_,gradientMap:!!s.gradientMap,sheen:s.sheen>0,sheenColorMap:!!s.sheenColorMap,sheenRoughnessMap:!!s.sheenRoughnessMap,transmission:s.transmission>0,transmissionMap:!!s.transmissionMap,thicknessMap:!!s.thicknessMap,combine:s.combine,vertexTangents:!!s.normalMap&&!!b.attributes.tangent,vertexColors:s.vertexColors,vertexAlphas:!0===s.vertexColors&&!!b.attributes.color&&4===b.attributes.color.itemSize,vertexUvs:!!(s.map||s.bumpMap||s.normalMap||s.specularMap||s.alphaMap||s.emissiveMap||s.roughnessMap||s.metalnessMap||s.clearcoatMap||s.clearcoatRoughnessMap||s.clearcoatNormalMap||s.displacementMap||s.transmissionMap||s.thicknessMap||s.specularIntensityMap||s.specularColorMap||s.sheenColorMap||s.sheenRoughnessMap),uvsVertexOnly:!(s.map||s.bumpMap||s.normalMap||s.specularMap||s.alphaMap||s.emissiveMap||s.roughnessMap||s.metalnessMap||s.clearcoatNormalMap||s.transmission>0||s.transmissionMap||s.thicknessMap||s.specularIntensityMap||s.specularColorMap||s.sheen>0||s.sheenColorMap||s.sheenRoughnessMap||!s.displacementMap),fog:!!S,useFog:s.fog,fogExp2:S&&S.isFogExp2,flatShading:!!s.flatShading,sizeAttenuation:s.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===w.isSkinnedMesh&&L>0,maxBones:L,useVertexTexture:m,morphTargets:void 0!==b.morphAttributes.position,morphNormals:void 0!==b.morphAttributes.normal,morphColors:void 0!==b.morphAttributes.color,morphTargetsCount:V,morphTextureStride:B,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:s.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:s.toneMapped?e.toneMapping:Y,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:s.premultipliedAlpha,doubleSided:s.side===p,flipSided:s.side===u,depthPacking:void 0!==s.depthPacking&&s.depthPacking,index0AttributeName:s.index0AttributeName,extensionDerivatives:s.extensions&&s.extensions.derivatives,extensionFragDepth:s.extensions&&s.extensions.fragDepth,extensionDrawBuffers:s.extensions&&s.extensions.drawBuffers,extensionShaderTextureLOD:s.extensions&&s.extensions.shaderTextureLOD,rendererExtensionFragDepth:h||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||n.has("EXT_shader_texture_lod"),customProgramCacheKey:s.customProgramCacheKey()}},getProgramCacheKey:function(t){const i=[];if(t.shaderID?i.push(t.shaderID):(i.push(t.customVertexShaderID),i.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)i.push(e),i.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.maxBones),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection)}(i,t),function(e,t){o.disableAll(),t.isWebGL2&&o.enable(0);t.supportsVertexTextures&&o.enable(1);t.instancing&&o.enable(2);t.instancingColor&&o.enable(3);t.map&&o.enable(4);t.matcap&&o.enable(5);t.envMap&&o.enable(6);t.lightMap&&o.enable(7);t.aoMap&&o.enable(8);t.emissiveMap&&o.enable(9);t.bumpMap&&o.enable(10);t.normalMap&&o.enable(11);t.objectSpaceNormalMap&&o.enable(12);t.tangentSpaceNormalMap&&o.enable(13);t.clearcoat&&o.enable(14);t.clearcoatMap&&o.enable(15);t.clearcoatRoughnessMap&&o.enable(16);t.clearcoatNormalMap&&o.enable(17);t.displacementMap&&o.enable(18);t.specularMap&&o.enable(19);t.roughnessMap&&o.enable(20);t.metalnessMap&&o.enable(21);t.gradientMap&&o.enable(22);t.alphaMap&&o.enable(23);t.alphaTest&&o.enable(24);t.vertexColors&&o.enable(25);t.vertexAlphas&&o.enable(26);t.vertexUvs&&o.enable(27);t.vertexTangents&&o.enable(28);t.uvsVertexOnly&&o.enable(29);t.fog&&o.enable(30);e.push(o.mask),o.disableAll(),t.useFog&&o.enable(0);t.flatShading&&o.enable(1);t.logarithmicDepthBuffer&&o.enable(2);t.skinning&&o.enable(3);t.useVertexTexture&&o.enable(4);t.morphTargets&&o.enable(5);t.morphNormals&&o.enable(6);t.morphColors&&o.enable(7);t.premultipliedAlpha&&o.enable(8);t.shadowMapEnabled&&o.enable(9);t.physicallyCorrectLights&&o.enable(10);t.doubleSided&&o.enable(11);t.flipSided&&o.enable(12);t.depthPacking&&o.enable(13);t.dithering&&o.enable(14);t.specularIntensityMap&&o.enable(15);t.specularColorMap&&o.enable(16);t.transmission&&o.enable(17);t.transmissionMap&&o.enable(18);t.thicknessMap&&o.enable(19);t.sheen&&o.enable(20);t.sheenColorMap&&o.enable(21);t.sheenRoughnessMap&&o.enable(22);t.decodeVideoTexture&&o.enable(23);t.opaque&&o.enable(24);e.push(o.mask)}(i,t),i.push(e.outputEncoding)),i.push(t.customProgramCacheKey),i.join()},getUniforms:function(e){const t=x[e.type];let i;if(t){const e=Cr[t];i=or.clone(e.uniforms)}else i=e.uniforms;return i},acquireProgram:function(t,i){let n;for(let e=0,t=c.length;e<t;e++){const t=c[e];if(t.cacheKey===i){n=t,++n.usedTimes;break}}return void 0===n&&(n=new Ta(e,i,t,s),c.push(n)),n},releaseProgram:function(e){if(0==--e.usedTimes){const t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function Ia(){let e=new WeakMap;return{get:function(t){let i=e.get(t);return void 0===i&&(i={},e.set(t,i)),i},remove:function(t){e.delete(t)},update:function(t,i,n){e.get(t)[i]=n},dispose:function(){e=new WeakMap}}}function Pa(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ua(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Da(){const e=[];let t=0;const i=[],n=[],r=[];function s(i,n,r,s,a,o){let l=e[t];return void 0===l?(l={id:i.id,object:i,geometry:n,material:r,groupOrder:s,renderOrder:i.renderOrder,z:a,group:o},e[t]=l):(l.id=i.id,l.object=i,l.geometry=n,l.material=r,l.groupOrder=s,l.renderOrder=i.renderOrder,l.z=a,l.group=o),t++,l}return{opaque:i,transmissive:n,transparent:r,init:function(){t=0,i.length=0,n.length=0,r.length=0},push:function(e,t,a,o,l,c){const h=s(e,t,a,o,l,c);a.transmission>0?n.push(h):!0===a.transparent?r.push(h):i.push(h)},unshift:function(e,t,a,o,l,c){const h=s(e,t,a,o,l,c);a.transmission>0?n.unshift(h):!0===a.transparent?r.unshift(h):i.unshift(h)},finish:function(){for(let i=t,n=e.length;i<n;i++){const t=e[i];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){i.length>1&&i.sort(e||Pa),n.length>1&&n.sort(t||Ua),r.length>1&&r.sort(t||Ua)}}}function Ba(){let e=new WeakMap;return{get:function(t,i){let n;return!1===e.has(t)?(n=new Da,e.set(t,[n])):i>=e.get(t).length?(n=new Da,e.get(t).push(n)):n=e.get(t)[i],n},dispose:function(){e=new WeakMap}}}function Na(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let i;switch(t.type){case"DirectionalLight":i={direction:new oi,color:new Kt};break;case"SpotLight":i={position:new oi,direction:new oi,color:new Kt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new oi,color:new Kt,distance:0,decay:0};break;case"HemisphereLight":i={direction:new oi,skyColor:new Kt,groundColor:new Kt};break;case"RectAreaLight":i={color:new Kt,position:new oi,halfWidth:new oi,halfHeight:new oi}}return e[t.id]=i,i}}}let _a=0;function ka(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function qa(e,t){const i=new Na,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let i;switch(t.type){case"DirectionalLight":case"SpotLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qt};break;case"PointLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qt,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=i,i}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let e=0;e<9;e++)r.probe.push(new oi);const s=new oi,a=new ki,o=new ki;return{setup:function(s,a){let o=0,l=0,c=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let h=0,d=0,u=0,p=0,m=0,f=0,g=0,y=0;s.sort(ka);const v=!0!==a?Math.PI:1;for(let e=0,t=s.length;e<t;e++){const t=s[e],a=t.color,x=t.intensity,M=t.distance,w=t.shadow&&t.shadow.map?t.shadow.map.texture:null;if(t.isAmbientLight)o+=a.r*x*v,l+=a.g*x*v,c+=a.b*x*v;else if(t.isLightProbe)for(let e=0;e<9;e++)r.probe[e].addScaledVector(t.sh.coefficients[e],x);else if(t.isDirectionalLight){const e=i.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*v),t.castShadow){const e=t.shadow,i=n.get(t);i.shadowBias=e.bias,i.shadowNormalBias=e.normalBias,i.shadowRadius=e.radius,i.shadowMapSize=e.mapSize,r.directionalShadow[h]=i,r.directionalShadowMap[h]=w,r.directionalShadowMatrix[h]=t.shadow.matrix,f++}r.directional[h]=e,h++}else if(t.isSpotLight){const e=i.get(t);if(e.position.setFromMatrixPosition(t.matrixWorld),e.color.copy(a).multiplyScalar(x*v),e.distance=M,e.coneCos=Math.cos(t.angle),e.penumbraCos=Math.cos(t.angle*(1-t.penumbra)),e.decay=t.decay,t.castShadow){const e=t.shadow,i=n.get(t);i.shadowBias=e.bias,i.shadowNormalBias=e.normalBias,i.shadowRadius=e.radius,i.shadowMapSize=e.mapSize,r.spotShadow[u]=i,r.spotShadowMap[u]=w,r.spotShadowMatrix[u]=t.shadow.matrix,y++}r.spot[u]=e,u++}else if(t.isRectAreaLight){const e=i.get(t);e.color.copy(a).multiplyScalar(x),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),r.rectArea[p]=e,p++}else if(t.isPointLight){const e=i.get(t);if(e.color.copy(t.color).multiplyScalar(t.intensity*v),e.distance=t.distance,e.decay=t.decay,t.castShadow){const e=t.shadow,i=n.get(t);i.shadowBias=e.bias,i.shadowNormalBias=e.normalBias,i.shadowRadius=e.radius,i.shadowMapSize=e.mapSize,i.shadowCameraNear=e.camera.near,i.shadowCameraFar=e.camera.far,r.pointShadow[d]=i,r.pointShadowMap[d]=w,r.pointShadowMatrix[d]=t.shadow.matrix,g++}r.point[d]=e,d++}else if(t.isHemisphereLight){const e=i.get(t);e.skyColor.copy(t.color).multiplyScalar(x*v),e.groundColor.copy(t.groundColor).multiplyScalar(x*v),r.hemi[m]=e,m++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=Tr.LTC_FLOAT_1,r.rectAreaLTC2=Tr.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Tr.LTC_HALF_1,r.rectAreaLTC2=Tr.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=o,r.ambient[1]=l,r.ambient[2]=c;const x=r.hash;x.directionalLength===h&&x.pointLength===d&&x.spotLength===u&&x.rectAreaLength===p&&x.hemiLength===m&&x.numDirectionalShadows===f&&x.numPointShadows===g&&x.numSpotShadows===y||(r.directional.length=h,r.spot.length=u,r.rectArea.length=p,r.point.length=d,r.hemi.length=m,r.directionalShadow.length=f,r.directionalShadowMap.length=f,r.pointShadow.length=g,r.pointShadowMap.length=g,r.spotShadow.length=y,r.spotShadowMap.length=y,r.directionalShadowMatrix.length=f,r.pointShadowMatrix.length=g,r.spotShadowMatrix.length=y,x.directionalLength=h,x.pointLength=d,x.spotLength=u,x.rectAreaLength=p,x.hemiLength=m,x.numDirectionalShadows=f,x.numPointShadows=g,x.numSpotShadows=y,r.version=_a++)},setupView:function(e,t){let i=0,n=0,l=0,c=0,h=0;const d=t.matrixWorldInverse;for(let t=0,u=e.length;t<u;t++){const u=e[t];if(u.isDirectionalLight){const e=r.directional[i];e.direction.setFromMatrixPosition(u.matrixWorld),s.setFromMatrixPosition(u.target.matrixWorld),e.direction.sub(s),e.direction.transformDirection(d),i++}else if(u.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(u.matrixWorld),e.position.applyMatrix4(d),e.direction.setFromMatrixPosition(u.matrixWorld),s.setFromMatrixPosition(u.target.matrixWorld),e.direction.sub(s),e.direction.transformDirection(d),l++}else if(u.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(u.matrixWorld),e.position.applyMatrix4(d),o.identity(),a.copy(u.matrixWorld),a.premultiply(d),o.extractRotation(a),e.halfWidth.set(.5*u.width,0,0),e.halfHeight.set(0,.5*u.height,0),e.halfWidth.applyMatrix4(o),e.halfHeight.applyMatrix4(o),c++}else if(u.isPointLight){const e=r.point[n];e.position.setFromMatrixPosition(u.matrixWorld),e.position.applyMatrix4(d),n++}else if(u.isHemisphereLight){const e=r.hemi[h];e.direction.setFromMatrixPosition(u.matrixWorld),e.direction.transformDirection(d),e.direction.normalize(),h++}}},state:r}}function Oa(e,t){const i=new qa(e,t),n=[],r=[];return{init:function(){n.length=0,r.length=0},state:{lightsArray:n,shadowsArray:r,lights:i},setupLights:function(e){i.setup(n,e)},setupLightsView:function(e){i.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function za(e,t){let i=new WeakMap;return{get:function(n,r=0){let s;return!1===i.has(n)?(s=new Oa(e,t),i.set(n,[s])):r>=i.get(n).length?(s=new Oa(e,t),i.get(n).push(s)):s=i.get(n)[r],s},dispose:function(){i=new WeakMap}}}class Fa extends bn{constructor(e){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}Fa.prototype.isMeshDepthMaterial=!0;class Ga extends bn{constructor(e){super(),this.type="MeshDistanceMaterial",this.referencePosition=new oi,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}Ga.prototype.isMeshDistanceMaterial=!0;const Wa="void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",Ha="uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}";function ja(e,t,i){let n=new wr;const r=new qt,s=new qt,a=new ii,o=new Fa({depthPacking:xt}),c=new Ga,f={},g=i.maxTextureSize,y={0:u,1:d,2:p},v=new lr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new qt},radius:{value:4}},vertexShader:Wa,fragmentShader:Ha}),x=v.clone();x.defines.HORIZONTAL_PASS=1;const M=new kn;M.setAttribute("position",new Cn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const w=new ir(M,v),S=this;function b(i,n){const r=t.update(w);v.defines.VSM_SAMPLES!==i.blurSamples&&(v.defines.VSM_SAMPLES=i.blurSamples,x.defines.VSM_SAMPLES=i.blurSamples,v.needsUpdate=!0,x.needsUpdate=!0),v.uniforms.shadow_pass.value=i.map.texture,v.uniforms.resolution.value=i.mapSize,v.uniforms.radius.value=i.radius,e.setRenderTarget(i.mapPass),e.clear(),e.renderBufferDirect(n,null,r,v,w,null),x.uniforms.shadow_pass.value=i.mapPass.texture,x.uniforms.resolution.value=i.mapSize,x.uniforms.radius.value=i.radius,e.setRenderTarget(i.map),e.clear(),e.renderBufferDirect(n,null,r,x,w,null)}function A(t,i,n,r,s,a){let l=null;const d=!0===n.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(l=void 0!==d?d:!0===n.isPointLight?c:o,e.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length||i.displacementMap&&0!==i.displacementScale||i.alphaMap&&i.alphaTest>0){const e=l.uuid,t=i.uuid;let n=f[e];void 0===n&&(n={},f[e]=n);let r=n[t];void 0===r&&(r=l.clone(),n[t]=r),l=r}return l.visible=i.visible,l.wireframe=i.wireframe,l.side=a===h?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:y[i.side],l.alphaMap=i.alphaMap,l.alphaTest=i.alphaTest,l.clipShadows=i.clipShadows,l.clippingPlanes=i.clippingPlanes,l.clipIntersection=i.clipIntersection,l.displacementMap=i.displacementMap,l.displacementScale=i.displacementScale,l.displacementBias=i.displacementBias,l.wireframeLinewidth=i.wireframeLinewidth,l.linewidth=i.linewidth,!0===n.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(n.matrixWorld),l.nearDistance=r,l.farDistance=s),l}function E(i,r,s,a,o){if(!1===i.visible)return;if(i.layers.test(r.layers)&&(i.isMesh||i.isLine||i.isPoints)&&(i.castShadow||i.receiveShadow&&o===h)&&(!i.frustumCulled||n.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,i.matrixWorld);const n=t.update(i),r=i.material;if(Array.isArray(r)){const t=n.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],h=r[c.materialIndex];if(h&&h.visible){const t=A(i,h,a,s.near,s.far,o);e.renderBufferDirect(s,null,n,t,i,c)}}}else if(r.visible){const t=A(i,r,a,s.near,s.far,o);e.renderBufferDirect(s,null,n,t,i,null)}}const l=i.children;for(let e=0,t=l.length;e<t;e++)E(l[e],r,s,a,o)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=l,this.render=function(t,i,o){if(!1===S.enabled)return;if(!1===S.autoUpdate&&!1===S.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),u=e.state;u.setBlending(m),u.buffers.color.setClear(1,1,1,1),u.buffers.depth.setTest(!0),u.setScissorTest(!1);for(let l=0,c=t.length;l<c;l++){const c=t[l],d=c.shadow;if(void 0===d){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===d.autoUpdate&&!1===d.needsUpdate)continue;r.copy(d.mapSize);const p=d.getFrameExtents();if(r.multiply(p),s.copy(d.mapSize),(r.x>g||r.y>g)&&(r.x>g&&(s.x=Math.floor(g/p.x),r.x=s.x*p.x,d.mapSize.x=s.x),r.y>g&&(s.y=Math.floor(g/p.y),r.y=s.y*p.y,d.mapSize.y=s.y)),null===d.map&&!d.isPointLightShadow&&this.type===h){const e={minFilter:de,magFilter:de,format:Ce};d.map=new ni(r.x,r.y,e),d.map.texture.name=c.name+".shadowMap",d.mapPass=new ni(r.x,r.y,e),d.camera.updateProjectionMatrix()}if(null===d.map){const e={minFilter:le,magFilter:le,format:Ce};d.map=new ni(r.x,r.y,e),d.map.texture.name=c.name+".shadowMap",d.camera.updateProjectionMatrix()}e.setRenderTarget(d.map),e.clear();const m=d.getViewportCount();for(let e=0;e<m;e++){const t=d.getViewport(e);a.set(s.x*t.x,s.y*t.y,s.x*t.z,s.y*t.w),u.viewport(a),d.updateMatrices(c,e),n=d.getFrustum(),E(i,o,d.camera,c,this.type)}d.isPointLightShadow||this.type!==h||b(d,o),d.needsUpdate=!1}S.needsUpdate=!1,e.setRenderTarget(l,c,d)}}function Ya(e,t,i){const n=i.isWebGL2;const a=new function(){let t=!1;const i=new ii;let n=null;const r=new ii(0,0,0,0);return{setMask:function(i){n===i||t||(e.colorMask(i,i,i,i),n=i)},setLocked:function(e){t=e},setClear:function(t,n,s,a,o){!0===o&&(t*=a,n*=a,s*=a),i.set(t,n,s,a),!1===r.equals(i)&&(e.clearColor(t,n,s,a),r.copy(i))},reset:function(){t=!1,n=null,r.set(-1,0,0,0)}}},l=new function(){let t=!1,i=null,n=null,r=null;return{setTest:function(e){e?xe(2929):Me(2929)},setMask:function(n){i===n||t||(e.depthMask(n),i=n)},setFunc:function(t){if(n!==t){if(t)switch(t){case N:e.depthFunc(512);break;case _:e.depthFunc(519);break;case k:e.depthFunc(513);break;case q:e.depthFunc(515);break;case O:e.depthFunc(514);break;case z:e.depthFunc(518);break;case F:e.depthFunc(516);break;case G:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);n=t}},setLocked:function(e){t=e},setClear:function(t){r!==t&&(e.clearDepth(t),r=t)},reset:function(){t=!1,i=null,n=null,r=null}}},c=new function(){let t=!1,i=null,n=null,r=null,s=null,a=null,o=null,l=null,c=null;return{setTest:function(e){t||(e?xe(2960):Me(2960))},setMask:function(n){i===n||t||(e.stencilMask(n),i=n)},setFunc:function(t,i,a){n===t&&r===i&&s===a||(e.stencilFunc(t,i,a),n=t,r=i,s=a)},setOp:function(t,i,n){a===t&&o===i&&l===n||(e.stencilOp(t,i,n),a=t,o=i,l=n)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,i=null,n=null,r=null,s=null,a=null,o=null,l=null,c=null}}};let h={},d={},W=new WeakMap,H=[],j=null,Y=!1,J=null,K=null,Z=null,Q=null,X=null,$=null,ee=null,te=!1,ie=null,ne=null,re=null,se=null,ae=null;const oe=e.getParameter(35661);let le=!1,ce=0;const he=e.getParameter(7938);-1!==he.indexOf("WebGL")?(ce=parseFloat(/^WebGL (\d)/.exec(he)[1]),le=ce>=1):-1!==he.indexOf("OpenGL ES")&&(ce=parseFloat(/^OpenGL ES (\d)/.exec(he)[1]),le=ce>=2);let de=null,ue={};const pe=e.getParameter(3088),me=e.getParameter(2978),fe=(new ii).fromArray(pe),ge=(new ii).fromArray(me);function ye(t,i,n){const r=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let t=0;t<n;t++)e.texImage2D(i+t,0,6408,1,1,0,6408,5121,r);return s}const ve={};function xe(t){!0!==h[t]&&(e.enable(t),h[t]=!0)}function Me(t){!1!==h[t]&&(e.disable(t),h[t]=!1)}ve[3553]=ye(3553,3553,1),ve[34067]=ye(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),xe(2929),l.setFunc(q),Ae(!1),Ee(s),xe(2884),be(m);const we={[M]:32774,[w]:32778,[S]:32779};if(n)we[b]=32775,we[A]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(we[b]=e.MIN_EXT,we[A]=e.MAX_EXT)}const Se={[E]:0,[T]:1,[C]:768,[R]:770,[B]:776,[U]:774,[I]:772,[L]:769,[V]:771,[D]:775,[P]:773};function be(t,i,n,r,s,a,o,l){if(t!==m){if(!1===Y&&(xe(3042),Y=!0),t===x)s=s||i,a=a||n,o=o||r,i===K&&s===X||(e.blendEquationSeparate(we[i],we[s]),K=i,X=s),n===Z&&r===Q&&a===$&&o===ee||(e.blendFuncSeparate(Se[n],Se[r],Se[a],Se[o]),Z=n,Q=r,$=a,ee=o),J=t,te=null;else if(t!==J||l!==te){if(K===M&&X===M||(e.blendEquation(32774),K=M,X=M),l)switch(t){case f:e.blendFuncSeparate(1,771,1,771);break;case g:e.blendFunc(1,1);break;case y:e.blendFuncSeparate(0,769,0,1);break;case v:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case f:e.blendFuncSeparate(770,771,1,771);break;case g:e.blendFunc(770,1);break;case y:e.blendFuncSeparate(0,769,0,1);break;case v:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}Z=null,Q=null,$=null,ee=null,J=t,te=l}}else!0===Y&&(Me(3042),Y=!1)}function Ae(t){ie!==t&&(t?e.frontFace(2304):e.frontFace(2305),ie=t)}function Ee(t){t!==r?(xe(2884),t!==ne&&(t===s?e.cullFace(1029):t===o?e.cullFace(1028):e.cullFace(1032))):Me(2884),ne=t}function Te(t,i,n){t?(xe(32823),se===i&&ae===n||(e.polygonOffset(i,n),se=i,ae=n)):Me(32823)}function Ce(t){void 0===t&&(t=33984+oe-1),de!==t&&(e.activeTexture(t),de=t)}return{buffers:{color:a,depth:l,stencil:c},enable:xe,disable:Me,bindFramebuffer:function(t,i){return d[t]!==i&&(e.bindFramebuffer(t,i),d[t]=i,n&&(36009===t&&(d[36160]=i),36160===t&&(d[36009]=i)),!0)},drawBuffers:function(n,r){let s=H,a=!1;if(n)if(s=W.get(r),void 0===s&&(s=[],W.set(r,s)),n.isWebGLMultipleRenderTargets){const e=n.texture;if(s.length!==e.length||36064!==s[0]){for(let t=0,i=e.length;t<i;t++)s[t]=36064+t;s.length=e.length,a=!0}}else 36064!==s[0]&&(s[0]=36064,a=!0);else 1029!==s[0]&&(s[0]=1029,a=!0);a&&(i.isWebGL2?e.drawBuffers(s):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(s))},useProgram:function(t){return j!==t&&(e.useProgram(t),j=t,!0)},setBlending:be,setMaterial:function(e,t){e.side===p?Me(2884):xe(2884);let i=e.side===u;t&&(i=!i),Ae(i),e.blending===f&&!1===e.transparent?be(m):be(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),l.setFunc(e.depthFunc),l.setTest(e.depthTest),l.setMask(e.depthWrite),a.setMask(e.colorWrite);const n=e.stencilWrite;c.setTest(n),n&&(c.setMask(e.stencilWriteMask),c.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),c.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Te(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?xe(32926):Me(32926)},setFlipSided:Ae,setCullFace:Ee,setLineWidth:function(t){t!==re&&(le&&e.lineWidth(t),re=t)},setPolygonOffset:Te,setScissorTest:function(e){e?xe(3089):Me(3089)},activeTexture:Ce,bindTexture:function(t,i){null===de&&Ce();let n=ue[de];void 0===n&&(n={type:void 0,texture:void 0},ue[de]=n),n.type===t&&n.texture===i||(e.bindTexture(t,i||ve[t]),n.type=t,n.texture=i)},unbindTexture:function(){const t=ue[de];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===fe.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),fe.copy(t))},viewport:function(t){!1===ge.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),ge.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===n&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},de=null,ue={},d={},W=new WeakMap,H=[],j=null,Y=!1,J=null,K=null,Z=null,Q=null,X=null,$=null,ee=null,te=!1,ie=null,ne=null,re=null,se=null,ae=null,fe.set(0,0,e.canvas.width,e.canvas.height),ge.set(0,0,e.canvas.width,e.canvas.height),a.reset(),l.reset(),c.reset()}}}function Ja(e,t,i,n,r,s,a){const o=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,h=r.maxTextureSize,d=r.maxSamples,u=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p=new WeakMap;let m;const f=new WeakMap;let g=!1;try{g="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function y(e,t){return g?new OffscreenCanvas(e,t):Ft("canvas")}function v(e,t,i,n){let r=1;if((e.width>n||e.height>n)&&(r=n/Math.max(e.width,e.height)),r<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const n=t?_t:Math.floor,s=n(r*e.width),a=n(r*e.height);void 0===m&&(m=y(s,a));const o=i?y(s,a):m;o.width=s,o.height=a;return o.getContext("2d").drawImage(e,0,0,s,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+s+"x"+a+")."),o}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function x(e){return Nt(e.width)&&Nt(e.height)}function M(e,t){return e.generateMipmaps&&t&&e.minFilter!==le&&e.minFilter!==de}function w(t){e.generateMipmap(t)}function S(i,n,r,s,a=!1){if(!1===o)return n;if(null!==i){if(void 0!==e[i])return e[i];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+i+"'")}let l=n;return 6403===n&&(5126===r&&(l=33326),5131===r&&(l=33325),5121===r&&(l=33321)),33319===n&&(5126===r&&(l=33328),5131===r&&(l=33327),5121===r&&(l=33323)),6408===n&&(5126===r&&(l=34836),5131===r&&(l=34842),5121===r&&(l=s===vt&&!1===a?35907:32856),32819===r&&(l=32854),32820===r&&(l=32855)),33325!==l&&33326!==l&&33327!==l&&33328!==l&&34842!==l&&34836!==l||t.get("EXT_color_buffer_float"),l}function b(e,t,i){return!0===M(e,i)||e.isFramebufferTexture&&e.minFilter!==le&&e.minFilter!==de?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function A(e){return e===le||e===ce||e===he?9728:9729}function E(e){const t=e.target;t.removeEventListener("dispose",E),function(e){const t=n.get(e);if(void 0===t.__webglInit)return;const i=e.source,r=f.get(i);if(r){const n=r[t.__cacheKey];n.usedTimes--,0===n.usedTimes&&C(e),0===Object.keys(r).length&&f.delete(i)}n.remove(e)}(t),t.isVideoTexture&&p.delete(t)}function T(t){const i=t.target;i.removeEventListener("dispose",T),function(t){const i=t.texture,r=n.get(t),s=n.get(i);void 0!==s.__webglTexture&&(e.deleteTexture(s.__webglTexture),a.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(r.__webglFramebuffer[t]),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer[t]);else e.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&e.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&e.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&e.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&e.deleteRenderbuffer(r.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(let t=0,r=i.length;t<r;t++){const r=n.get(i[t]);r.__webglTexture&&(e.deleteTexture(r.__webglTexture),a.memory.textures--),n.remove(i[t])}n.remove(i),n.remove(t)}(i)}function C(t){const i=n.get(t);e.deleteTexture(i.__webglTexture);const r=t.source;delete f.get(r)[i.__cacheKey],a.memory.textures--}let L=0;function R(e,t){const r=n.get(e);if(e.isVideoTexture&&function(e){const t=a.render.frame;p.get(e)!==t&&(p.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&r.__version!==e.version){const i=e.image;if(null===i)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==i.complete)return void D(r,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}i.activeTexture(33984+t),i.bindTexture(3553,r.__webglTexture)}const V={[se]:10497,[ae]:33071,[oe]:33648},I={[le]:9728,[ce]:9984,[he]:9986,[de]:9729,[ue]:9985,[pe]:9987};function P(i,s,a){if(a?(e.texParameteri(i,10242,V[s.wrapS]),e.texParameteri(i,10243,V[s.wrapT]),32879!==i&&35866!==i||e.texParameteri(i,32882,V[s.wrapR]),e.texParameteri(i,10240,I[s.magFilter]),e.texParameteri(i,10241,I[s.minFilter])):(e.texParameteri(i,10242,33071),e.texParameteri(i,10243,33071),32879!==i&&35866!==i||e.texParameteri(i,32882,33071),s.wrapS===ae&&s.wrapT===ae||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(i,10240,A(s.magFilter)),e.texParameteri(i,10241,A(s.minFilter)),s.minFilter!==le&&s.minFilter!==de&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const a=t.get("EXT_texture_filter_anisotropic");if(s.type===Me&&!1===t.has("OES_texture_float_linear"))return;if(!1===o&&s.type===we&&!1===t.has("OES_texture_half_float_linear"))return;(s.anisotropy>1||n.get(s).__currentAnisotropy)&&(e.texParameterf(i,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(s.anisotropy,r.getMaxAnisotropy())),n.get(s).__currentAnisotropy=s.anisotropy)}}function U(t,i){let n=!1;void 0===t.__webglInit&&(t.__webglInit=!0,i.addEventListener("dispose",E));const r=i.source;let s=f.get(r);void 0===s&&(s={},f.set(r,s));const o=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(i);if(o!==t.__cacheKey){void 0===s[o]&&(s[o]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,n=!0),s[o].usedTimes++;const r=s[t.__cacheKey];void 0!==r&&(s[t.__cacheKey].usedTimes--,0===r.usedTimes&&C(i)),t.__cacheKey=o,t.__webglTexture=s[o].texture}return n}function D(t,n,r){let a=3553;n.isDataArrayTexture&&(a=35866),n.isData3DTexture&&(a=32879);const l=U(t,n),c=n.source;if(i.activeTexture(33984+r),i.bindTexture(a,t.__webglTexture),c.version!==c.__currentVersion||!0===l){e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment),e.pixelStorei(37443,0);const r=function(e){return!o&&(e.wrapS!==ae||e.wrapT!==ae||e.minFilter!==le&&e.minFilter!==de)}(n)&&!1===x(n.image);let l=v(n.image,r,!1,h);l=O(n,l);const d=x(l)||o,u=s.convert(n.format,n.encoding);let p,m=s.convert(n.type),f=S(n.internalFormat,u,m,n.encoding,n.isVideoTexture);P(a,n,d);const g=n.mipmaps,y=o&&!0!==n.isVideoTexture,A=void 0===t.__version,E=b(n,l,d);if(n.isDepthTexture)f=6402,o?f=n.type===Me?36012:n.type===xe?33190:n.type===Ae?35056:33189:n.type===Me&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),n.format===Ve&&6402===f&&n.type!==ye&&n.type!==xe&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=ye,m=s.convert(n.type)),n.format===Ie&&6402===f&&(f=34041,n.type!==Ae&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=Ae,m=s.convert(n.type))),y&&A?i.texStorage2D(3553,1,f,l.width,l.height):i.texImage2D(3553,0,f,l.width,l.height,0,u,m,null);else if(n.isDataTexture)if(g.length>0&&d){y&&A&&i.texStorage2D(3553,E,f,g[0].width,g[0].height);for(let e=0,t=g.length;e<t;e++)p=g[e],y?i.texSubImage2D(3553,e,0,0,p.width,p.height,u,m,p.data):i.texImage2D(3553,e,f,p.width,p.height,0,u,m,p.data);n.generateMipmaps=!1}else y?(A&&i.texStorage2D(3553,E,f,l.width,l.height),i.texSubImage2D(3553,0,0,0,l.width,l.height,u,m,l.data)):i.texImage2D(3553,0,f,l.width,l.height,0,u,m,l.data);else if(n.isCompressedTexture){y&&A&&i.texStorage2D(3553,E,f,g[0].width,g[0].height);for(let e=0,t=g.length;e<t;e++)p=g[e],n.format!==Ce?null!==u?y?i.compressedTexSubImage2D(3553,e,0,0,p.width,p.height,u,p.data):i.compressedTexImage2D(3553,e,f,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):y?i.texSubImage2D(3553,e,0,0,p.width,p.height,u,m,p.data):i.texImage2D(3553,e,f,p.width,p.height,0,u,m,p.data)}else if(n.isDataArrayTexture)y?(A&&i.texStorage3D(35866,E,f,l.width,l.height,l.depth),i.texSubImage3D(35866,0,0,0,0,l.width,l.height,l.depth,u,m,l.data)):i.texImage3D(35866,0,f,l.width,l.height,l.depth,0,u,m,l.data);else if(n.isData3DTexture)y?(A&&i.texStorage3D(32879,E,f,l.width,l.height,l.depth),i.texSubImage3D(32879,0,0,0,0,l.width,l.height,l.depth,u,m,l.data)):i.texImage3D(32879,0,f,l.width,l.height,l.depth,0,u,m,l.data);else if(n.isFramebufferTexture)y&&A?i.texStorage2D(3553,E,f,l.width,l.height):i.texImage2D(3553,0,f,l.width,l.height,0,u,m,null);else if(g.length>0&&d){y&&A&&i.texStorage2D(3553,E,f,g[0].width,g[0].height);for(let e=0,t=g.length;e<t;e++)p=g[e],y?i.texSubImage2D(3553,e,0,0,u,m,p):i.texImage2D(3553,e,f,u,m,p);n.generateMipmaps=!1}else y?(A&&i.texStorage2D(3553,E,f,l.width,l.height),i.texSubImage2D(3553,0,0,0,u,m,l)):i.texImage2D(3553,0,f,u,m,l);M(n,d)&&w(a),c.__currentVersion=c.version,n.onUpdate&&n.onUpdate(n)}t.__version=n.version}function B(t,r,a,o,l){const c=s.convert(a.format,a.encoding),h=s.convert(a.type),d=S(a.internalFormat,c,h,a.encoding);n.get(r).__hasExternalTextures||(32879===l||35866===l?i.texImage3D(l,0,d,r.width,r.height,r.depth,0,c,h,null):i.texImage2D(l,0,d,r.width,r.height,0,c,h,null)),i.bindFramebuffer(36160,t),q(r)?u.framebufferTexture2DMultisampleEXT(36160,o,l,n.get(a).__webglTexture,0,k(r)):e.framebufferTexture2D(36160,o,l,n.get(a).__webglTexture,0),i.bindFramebuffer(36160,null)}function N(t,i,n){if(e.bindRenderbuffer(36161,t),i.depthBuffer&&!i.stencilBuffer){let r=33189;if(n||q(i)){const t=i.depthTexture;t&&t.isDepthTexture&&(t.type===Me?r=36012:t.type===xe&&(r=33190));const n=k(i);q(i)?u.renderbufferStorageMultisampleEXT(36161,n,r,i.width,i.height):e.renderbufferStorageMultisample(36161,n,r,i.width,i.height)}else e.renderbufferStorage(36161,r,i.width,i.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(i.depthBuffer&&i.stencilBuffer){const r=k(i);n&&!1===q(i)?e.renderbufferStorageMultisample(36161,r,35056,i.width,i.height):q(i)?u.renderbufferStorageMultisampleEXT(36161,r,35056,i.width,i.height):e.renderbufferStorage(36161,34041,i.width,i.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=!0===i.isWebGLMultipleRenderTargets?i.texture[0]:i.texture,r=s.convert(t.format,t.encoding),a=s.convert(t.type),o=S(t.internalFormat,r,a,t.encoding),l=k(i);n&&!1===q(i)?e.renderbufferStorageMultisample(36161,l,o,i.width,i.height):q(i)?u.renderbufferStorageMultisampleEXT(36161,l,o,i.width,i.height):e.renderbufferStorage(36161,o,i.width,i.height)}e.bindRenderbuffer(36161,null)}function _(t){const r=n.get(t),s=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!r.__autoAllocateDepthBuffer){if(s)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(36160,t),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(r.depthTexture).__webglTexture&&r.depthTexture.image.width===r.width&&r.depthTexture.image.height===r.height||(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),R(r.depthTexture,0);const s=n.get(r.depthTexture).__webglTexture,a=k(r);if(r.depthTexture.format===Ve)q(r)?u.framebufferTexture2DMultisampleEXT(36160,36096,3553,s,0,a):e.framebufferTexture2D(36160,36096,3553,s,0);else{if(r.depthTexture.format!==Ie)throw new Error("Unknown depthTexture format");q(r)?u.framebufferTexture2DMultisampleEXT(36160,33306,3553,s,0,a):e.framebufferTexture2D(36160,33306,3553,s,0)}}(r.__webglFramebuffer,t)}else if(s){r.__webglDepthbuffer=[];for(let n=0;n<6;n++)i.bindFramebuffer(36160,r.__webglFramebuffer[n]),r.__webglDepthbuffer[n]=e.createRenderbuffer(),N(r.__webglDepthbuffer[n],t,!1)}else i.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=e.createRenderbuffer(),N(r.__webglDepthbuffer,t,!1);i.bindFramebuffer(36160,null)}function k(e){return Math.min(d,e.samples)}function q(e){const i=n.get(e);return o&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==i.__useRenderToTexture}function O(e,i){const n=e.encoding,r=e.format,s=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===Tt||n!==yt&&(n===vt?!1===o?!0===t.has("EXT_sRGB")&&r===Ce?(e.format=Tt,e.minFilter=de,e.generateMipmaps=!1):i=Qt.sRGBToLinear(i):r===Ce&&s===me||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",n)),i}this.allocateTextureUnit=function(){const e=L;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),L+=1,e},this.resetTextureUnits=function(){L=0},this.setTexture2D=R,this.setTexture2DArray=function(e,t){const r=n.get(e);e.version>0&&r.__version!==e.version?D(r,e,t):(i.activeTexture(33984+t),i.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(e,t){const r=n.get(e);e.version>0&&r.__version!==e.version?D(r,e,t):(i.activeTexture(33984+t),i.bindTexture(32879,r.__webglTexture))},this.setTextureCube=function(t,r){const a=n.get(t);t.version>0&&a.__version!==t.version?function(t,n,r){if(6!==n.image.length)return;const a=U(t,n),l=n.source;if(i.activeTexture(33984+r),i.bindTexture(34067,t.__webglTexture),l.version!==l.__currentVersion||!0===a){e.pixelStorei(37440,n.flipY),e.pixelStorei(37441,n.premultiplyAlpha),e.pixelStorei(3317,n.unpackAlignment),e.pixelStorei(37443,0);const r=n.isCompressedTexture||n.image[0].isCompressedTexture,a=n.image[0]&&n.image[0].isDataTexture,h=[];for(let e=0;e<6;e++)h[e]=r||a?a?n.image[e].image:n.image[e]:v(n.image[e],!1,!0,c),h[e]=O(n,h[e]);const d=h[0],u=x(d)||o,p=s.convert(n.format,n.encoding),m=s.convert(n.type),f=S(n.internalFormat,p,m,n.encoding),g=o&&!0!==n.isVideoTexture,y=void 0===t.__version;let A,E=b(n,d,u);if(P(34067,n,u),r){g&&y&&i.texStorage2D(34067,E,f,d.width,d.height);for(let e=0;e<6;e++){A=h[e].mipmaps;for(let t=0;t<A.length;t++){const r=A[t];n.format!==Ce?null!==p?g?i.compressedTexSubImage2D(34069+e,t,0,0,r.width,r.height,p,r.data):i.compressedTexImage2D(34069+e,t,f,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):g?i.texSubImage2D(34069+e,t,0,0,r.width,r.height,p,m,r.data):i.texImage2D(34069+e,t,f,r.width,r.height,0,p,m,r.data)}}}else{A=n.mipmaps,g&&y&&(A.length>0&&E++,i.texStorage2D(34067,E,f,h[0].width,h[0].height));for(let e=0;e<6;e++)if(a){g?i.texSubImage2D(34069+e,0,0,0,h[e].width,h[e].height,p,m,h[e].data):i.texImage2D(34069+e,0,f,h[e].width,h[e].height,0,p,m,h[e].data);for(let t=0;t<A.length;t++){const n=A[t].image[e].image;g?i.texSubImage2D(34069+e,t+1,0,0,n.width,n.height,p,m,n.data):i.texImage2D(34069+e,t+1,f,n.width,n.height,0,p,m,n.data)}}else{g?i.texSubImage2D(34069+e,0,0,0,p,m,h[e]):i.texImage2D(34069+e,0,f,p,m,h[e]);for(let t=0;t<A.length;t++){const n=A[t];g?i.texSubImage2D(34069+e,t+1,0,0,p,m,n.image[e]):i.texImage2D(34069+e,t+1,f,p,m,n.image[e])}}}M(n,u)&&w(34067),l.__currentVersion=l.version,n.onUpdate&&n.onUpdate(n)}t.__version=n.version}(a,t,r):(i.activeTexture(33984+r),i.bindTexture(34067,a.__webglTexture))},this.rebindTextures=function(e,t,i){const r=n.get(e);void 0!==t&&B(r.__webglFramebuffer,e,e.texture,36064,3553),void 0!==i&&_(e)},this.setupRenderTarget=function(t){const l=t.texture,c=n.get(t),h=n.get(l);t.addEventListener("dispose",T),!0!==t.isWebGLMultipleRenderTargets&&(void 0===h.__webglTexture&&(h.__webglTexture=e.createTexture()),h.__version=l.version,a.memory.textures++);const d=!0===t.isWebGLCubeRenderTarget,u=!0===t.isWebGLMultipleRenderTargets,p=x(t)||o;if(d){c.__webglFramebuffer=[];for(let t=0;t<6;t++)c.__webglFramebuffer[t]=e.createFramebuffer()}else if(c.__webglFramebuffer=e.createFramebuffer(),u)if(r.drawBuffers){const i=t.texture;for(let t=0,r=i.length;t<r;t++){const r=n.get(i[t]);void 0===r.__webglTexture&&(r.__webglTexture=e.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(o&&t.samples>0&&!1===q(t)){c.__webglMultisampledFramebuffer=e.createFramebuffer(),c.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,c.__webglColorRenderbuffer);const n=s.convert(l.format,l.encoding),r=s.convert(l.type),a=S(l.internalFormat,n,r,l.encoding),o=k(t);e.renderbufferStorageMultisample(36161,o,a,t.width,t.height),i.bindFramebuffer(36160,c.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,c.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(c.__webglDepthRenderbuffer=e.createRenderbuffer(),N(c.__webglDepthRenderbuffer,t,!0)),i.bindFramebuffer(36160,null)}if(d){i.bindTexture(34067,h.__webglTexture),P(34067,l,p);for(let e=0;e<6;e++)B(c.__webglFramebuffer[e],t,l,36064,34069+e);M(l,p)&&w(34067),i.unbindTexture()}else if(u){const e=t.texture;for(let r=0,s=e.length;r<s;r++){const s=e[r],a=n.get(s);i.bindTexture(3553,a.__webglTexture),P(3553,s,p),B(c.__webglFramebuffer,t,s,36064+r,3553),M(s,p)&&w(3553)}i.unbindTexture()}else{let e=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(o?e=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),i.bindTexture(e,h.__webglTexture),P(e,l,p),B(c.__webglFramebuffer,t,l,36064,e),M(l,p)&&w(e),i.unbindTexture()}t.depthBuffer&&_(t)},this.updateRenderTargetMipmap=function(e){const t=x(e)||o,r=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture];for(let s=0,a=r.length;s<a;s++){const a=r[s];if(M(a,t)){const t=e.isWebGLCubeRenderTarget?34067:3553,r=n.get(a).__webglTexture;i.bindTexture(t,r),w(t),i.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(o&&t.samples>0&&!1===q(t)){const r=t.width,s=t.height;let a=16384;const o=[36064],l=t.stencilBuffer?33306:36096;t.depthBuffer&&o.push(l);const c=n.get(t),h=void 0!==c.__ignoreDepthValues&&c.__ignoreDepthValues;!1===h&&(t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024)),i.bindFramebuffer(36008,c.__webglMultisampledFramebuffer),i.bindFramebuffer(36009,c.__webglFramebuffer),!0===h&&(e.invalidateFramebuffer(36008,[l]),e.invalidateFramebuffer(36009,[l])),e.blitFramebuffer(0,0,r,s,0,0,r,s,a,9728),e.invalidateFramebuffer(36008,o),i.bindFramebuffer(36008,null),i.bindFramebuffer(36009,c.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=_,this.setupFrameBufferTexture=B,this.useMultisampledRTT=q}function Ka(e,t,i){const n=i.isWebGL2;return{convert:function(e,i=null){let r;if(e===me)return 5121;if(e===Se)return 32819;if(e===be)return 32820;if(e===fe)return 5120;if(e===ge)return 5122;if(e===ye)return 5123;if(e===ve)return 5124;if(e===xe)return 5125;if(e===Me)return 5126;if(e===we)return n?5131:(r=t.get("OES_texture_half_float"),null!==r?r.HALF_FLOAT_OES:null);if(e===Ee)return 6406;if(e===Ce)return 6408;if(e===Le)return 6409;if(e===Re)return 6410;if(e===Ve)return 6402;if(e===Ie)return 34041;if(e===Pe)return 6403;if(e===Te)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(e===Tt)return r=t.get("EXT_sRGB"),null!==r?r.SRGB_ALPHA_EXT:null;if(e===Ue)return 36244;if(e===De)return 33319;if(e===Be)return 33320;if(e===Ne)return 36249;if(e===_e||e===ke||e===qe||e===Oe)if(i===vt){if(r=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===r)return null;if(e===_e)return r.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===ke)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===qe)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===Oe)return r.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(r=t.get("WEBGL_compressed_texture_s3tc"),null===r)return null;if(e===_e)return r.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===ke)return r.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===qe)return r.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Oe)return r.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===ze||e===Fe||e===Ge||e===We){if(r=t.get("WEBGL_compressed_texture_pvrtc"),null===r)return null;if(e===ze)return r.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Fe)return r.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Ge)return r.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===We)return r.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===He)return r=t.get("WEBGL_compressed_texture_etc1"),null!==r?r.COMPRESSED_RGB_ETC1_WEBGL:null;if(e===je||e===Ye){if(r=t.get("WEBGL_compressed_texture_etc"),null===r)return null;if(e===je)return i===vt?r.COMPRESSED_SRGB8_ETC2:r.COMPRESSED_RGB8_ETC2;if(e===Ye)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:r.COMPRESSED_RGBA8_ETC2_EAC}if(e===Je||e===Ke||e===Ze||e===Qe||e===Xe||e===$e||e===et||e===tt||e===it||e===nt||e===rt||e===st||e===at||e===ot){if(r=t.get("WEBGL_compressed_texture_astc"),null===r)return null;if(e===Je)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:r.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===Ke)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:r.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===Ze)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:r.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===Qe)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:r.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===Xe)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:r.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===$e)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:r.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===et)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:r.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===tt)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:r.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===it)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:r.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===nt)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:r.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===rt)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:r.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===st)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:r.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===at)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:r.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===ot)return i===vt?r.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:r.COMPRESSED_RGBA_ASTC_12x12_KHR}if(e===lt){if(r=t.get("EXT_texture_compression_bptc"),null===r)return null;if(e===lt)return i===vt?r.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:r.COMPRESSED_RGBA_BPTC_UNORM_EXT}return e===Ae?n?34042:(r=t.get("WEBGL_depth_texture"),null!==r?r.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}class Za extends hr{constructor(e=[]){super(),this.cameras=e}}Za.prototype.isArrayCamera=!0;class Qa extends hn{constructor(){super(),this.type="Group"}}Qa.prototype.isGroup=!0;const Xa={type:"move"};class $a{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Qa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Qa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new oi,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new oi),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Qa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new oi,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new oi),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let n=null,r=null,s=null;const a=this._targetRay,o=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==a&&(n=t.getPose(e.targetRaySpace,i),null!==n&&(a.matrix.fromArray(n.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),n.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(n.linearVelocity)):a.hasLinearVelocity=!1,n.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(n.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Xa))),l&&e.hand){s=!0;for(const n of e.hand.values()){const e=t.getJointPose(n,i);if(void 0===l.joints[n.jointName]){const e=new Qa;e.matrixAutoUpdate=!1,e.visible=!1,l.joints[n.jointName]=e,l.add(e)}const r=l.joints[n.jointName];null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.jointRadius=e.radius),r.visible=null!==e}const n=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],a=n.position.distanceTo(r.position),o=.02,c=.005;l.inputState.pinching&&a>o+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=o-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==o&&e.gripSpace&&(r=t.getPose(e.gripSpace,i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1));return null!==a&&(a.visible=null!==n),null!==o&&(o.visible=null!==r),null!==l&&(l.visible=null!==s),this}}class eo extends ti{constructor(e,t,i,n,r,s,a,o,l,c){if((c=void 0!==c?c:Ve)!==Ve&&c!==Ie)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&c===Ve&&(i=ye),void 0===i&&c===Ie&&(i=Ae),super(null,n,r,s,a,o,c,i,l),this.image={width:e,height:t},this.magFilter=void 0!==a?a:le,this.minFilter=void 0!==o?o:le,this.flipY=!1,this.generateMipmaps=!1}}eo.prototype.isDepthTexture=!0;class to extends Ct{constructor(e,t){super();const i=this;let n=null,r=1,s=null,a="local-floor",o=null,l=null,c=null,h=null,d=null;const u=t.getContextAttributes();let p=null,m=null;const f=[],g=new Map,y=new hr;y.layers.enable(1),y.viewport=new ii;const v=new hr;v.layers.enable(2),v.viewport=new ii;const x=[y,v],M=new Za;M.layers.enable(1),M.layers.enable(2);let w=null,S=null;function b(e){const t=g.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function A(){g.forEach((function(e,t){e.disconnect(t)})),g.clear(),w=null,S=null,e.setRenderTarget(p),h=null,c=null,l=null,n=null,m=null,V.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function E(e){const t=n.inputSources;for(let e=0;e<f.length;e++)g.set(t[e],f[e]);for(let t=0;t<e.removed.length;t++){const i=e.removed[t],n=g.get(i);n&&(n.dispatchEvent({type:"disconnected",data:i}),g.delete(i))}for(let t=0;t<e.added.length;t++){const i=e.added[t],n=g.get(i);n&&n.dispatchEvent({type:"connected",data:i})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=f[e];return void 0===t&&(t=new $a,f[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=f[e];return void 0===t&&(t=new $a,f[e]=t),t.getGripSpace()},this.getHand=function(e){let t=f[e];return void 0===t&&(t=new $a,f[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){r=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getBaseLayer=function(){return null!==c?c:h},this.getBinding=function(){return l},this.getFrame=function(){return d},this.getSession=function(){return n},this.setSession=async function(o){if(n=o,null!==n){if(p=e.getRenderTarget(),n.addEventListener("select",b),n.addEventListener("selectstart",b),n.addEventListener("selectend",b),n.addEventListener("squeeze",b),n.addEventListener("squeezestart",b),n.addEventListener("squeezeend",b),n.addEventListener("end",A),n.addEventListener("inputsourceschange",E),!0!==u.xrCompatible&&await t.makeXRCompatible(),void 0===n.renderState.layers||!1===e.capabilities.isWebGL2){const i={antialias:void 0!==n.renderState.layers||u.antialias,alpha:u.alpha,depth:u.depth,stencil:u.stencil,framebufferScaleFactor:r};h=new XRWebGLLayer(n,t,i),n.updateRenderState({baseLayer:h}),m=new ni(h.framebufferWidth,h.framebufferHeight,{format:Ce,type:me,encoding:e.outputEncoding})}else{let i=null,s=null,a=null;u.depth&&(a=u.stencil?35056:33190,i=u.stencil?Ie:Ve,s=u.stencil?Ae:ye);const o={colorFormat:e.outputEncoding===vt?35907:32856,depthFormat:a,scaleFactor:r};l=new XRWebGLBinding(n,t),c=l.createProjectionLayer(o),n.updateRenderState({layers:[c]}),m=new ni(c.textureWidth,c.textureHeight,{format:Ce,type:me,depthTexture:new eo(c.textureWidth,c.textureHeight,s,void 0,void 0,void 0,void 0,void 0,void 0,i),stencilBuffer:u.stencil,encoding:e.outputEncoding,samples:u.antialias?4:0});e.properties.get(m).__ignoreDepthValues=c.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(1),s=await n.requestReferenceSpace(a),V.setContext(n),V.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};const T=new oi,C=new oi;function L(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===n)return;M.near=v.near=y.near=e.near,M.far=v.far=y.far=e.far,w===M.near&&S===M.far||(n.updateRenderState({depthNear:M.near,depthFar:M.far}),w=M.near,S=M.far);const t=e.parent,i=M.cameras;L(M,t);for(let e=0;e<i.length;e++)L(i[e],t);M.matrixWorld.decompose(M.position,M.quaternion,M.scale),e.position.copy(M.position),e.quaternion.copy(M.quaternion),e.scale.copy(M.scale),e.matrix.copy(M.matrix),e.matrixWorld.copy(M.matrixWorld);const r=e.children;for(let e=0,t=r.length;e<t;e++)r[e].updateMatrixWorld(!0);2===i.length?function(e,t,i){T.setFromMatrixPosition(t.matrixWorld),C.setFromMatrixPosition(i.matrixWorld);const n=T.distanceTo(C),r=t.projectionMatrix.elements,s=i.projectionMatrix.elements,a=r[14]/(r[10]-1),o=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],h=(r[8]-1)/r[0],d=(s[8]+1)/s[0],u=a*h,p=a*d,m=n/(-h+d),f=m*-h;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(f),e.translateZ(m),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=a+m,y=o+m,v=u-f,x=p+(n-f),M=l*o/y*g,w=c*o/y*g;e.projectionMatrix.makePerspective(v,x,M,w,g,y)}(M,y,v):M.projectionMatrix.copy(y.projectionMatrix)},this.getCamera=function(){return M},this.getFoveation=function(){return null!==c?c.fixedFoveation:null!==h?h.fixedFoveation:void 0},this.setFoveation=function(e){null!==c&&(c.fixedFoveation=e),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=e)};let R=null;const V=new Sr;V.setAnimationLoop((function(t,i){if(o=i.getViewerPose(s),d=i,null!==o){const t=o.views;null!==h&&(e.setRenderTargetFramebuffer(m,h.framebuffer),e.setRenderTarget(m));let i=!1;t.length!==M.cameras.length&&(M.cameras.length=0,i=!0);for(let n=0;n<t.length;n++){const r=t[n];let s=null;if(null!==h)s=h.getViewport(r);else{const t=l.getViewSubImage(c,r);s=t.viewport,0===n&&(e.setRenderTargetTextures(m,t.colorTexture,c.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(m))}const a=x[n];a.matrix.fromArray(r.transform.matrix),a.projectionMatrix.fromArray(r.projectionMatrix),a.viewport.set(s.x,s.y,s.width,s.height),0===n&&M.matrix.copy(a.matrix),!0===i&&M.cameras.push(a)}}const r=n.inputSources;for(let e=0;e<f.length;e++){const t=f[e],n=r[e];t.update(n,i,s)}R&&R(t,i),d=null})),this.setAnimationLoop=function(e){R=e},this.dispose=function(){}}}function io(e){function t(t,i){t.opacity.value=i.opacity,i.color&&t.diffuse.value.copy(i.color),i.emissive&&t.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(t.map.value=i.map),i.alphaMap&&(t.alphaMap.value=i.alphaMap),i.specularMap&&(t.specularMap.value=i.specularMap),i.alphaTest>0&&(t.alphaTest.value=i.alphaTest);const n=e.get(i).envMap;let r,s;n&&(t.envMap.value=n,t.flipEnvMap.value=n.isCubeTexture&&!1===n.isRenderTargetTexture?-1:1,t.reflectivity.value=i.reflectivity,t.ior.value=i.ior,t.refractionRatio.value=i.refractionRatio),i.lightMap&&(t.lightMap.value=i.lightMap,t.lightMapIntensity.value=i.lightMapIntensity),i.aoMap&&(t.aoMap.value=i.aoMap,t.aoMapIntensity.value=i.aoMapIntensity),i.map?r=i.map:i.specularMap?r=i.specularMap:i.displacementMap?r=i.displacementMap:i.normalMap?r=i.normalMap:i.bumpMap?r=i.bumpMap:i.roughnessMap?r=i.roughnessMap:i.metalnessMap?r=i.metalnessMap:i.alphaMap?r=i.alphaMap:i.emissiveMap?r=i.emissiveMap:i.clearcoatMap?r=i.clearcoatMap:i.clearcoatNormalMap?r=i.clearcoatNormalMap:i.clearcoatRoughnessMap?r=i.clearcoatRoughnessMap:i.specularIntensityMap?r=i.specularIntensityMap:i.specularColorMap?r=i.specularColorMap:i.transmissionMap?r=i.transmissionMap:i.thicknessMap?r=i.thicknessMap:i.sheenColorMap?r=i.sheenColorMap:i.sheenRoughnessMap&&(r=i.sheenRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix)),i.aoMap?s=i.aoMap:i.lightMap&&(s=i.lightMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),t.uv2Transform.value.copy(s.matrix))}function i(t,i){t.roughness.value=i.roughness,t.metalness.value=i.metalness,i.roughnessMap&&(t.roughnessMap.value=i.roughnessMap),i.metalnessMap&&(t.metalnessMap.value=i.metalnessMap),i.emissiveMap&&(t.emissiveMap.value=i.emissiveMap),i.bumpMap&&(t.bumpMap.value=i.bumpMap,t.bumpScale.value=i.bumpScale,i.side===u&&(t.bumpScale.value*=-1)),i.normalMap&&(t.normalMap.value=i.normalMap,t.normalScale.value.copy(i.normalScale),i.side===u&&t.normalScale.value.negate()),i.displacementMap&&(t.displacementMap.value=i.displacementMap,t.displacementScale.value=i.displacementScale,t.displacementBias.value=i.displacementBias);e.get(i).envMap&&(t.envMapIntensity.value=i.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,n,r,s,a){n.isMeshBasicMaterial?t(e,n):n.isMeshLambertMaterial?(t(e,n),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,n)):n.isMeshToonMaterial?(t(e,n),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===u&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===u&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshPhongMaterial?(t(e,n),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===u&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===u&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshStandardMaterial?(t(e,n),n.isMeshPhysicalMaterial?function(e,t,n){i(e,t),e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===u&&e.clearcoatNormalScale.value.negate()));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap);t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,n,a):i(e,n)):n.isMeshMatcapMaterial?(t(e,n),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===u&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===u&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshDepthMaterial?(t(e,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isMeshDistanceMaterial?(t(e,n),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,n)):n.isMeshNormalMaterial?(t(e,n),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===u&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===u&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,n)):n.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,n),n.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,n)):n.isPointsMaterial?function(e,t,i,n){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*i,e.scale.value=.5*n,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);let r;t.map?r=t.map:t.alphaMap&&(r=t.alphaMap);void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix))}(e,n,r,s):n.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);let i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,n):n.isShadowMaterial?(e.color.value.copy(n.color),e.opacity.value=n.opacity):n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)}}}function no(t={}){const i=void 0!==t.canvas?t.canvas:function(){const e=Ft("canvas");return e.style.display="block",e}(),n=void 0!==t.context?t.context:null,r=void 0===t.depth||t.depth,s=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,o=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",h=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let m;m=void 0!==t.context?n.getContextAttributes().alpha:void 0!==t.alpha&&t.alpha;let f=null,g=null;const y=[],v=[];this.domElement=i,this.debug={checkShaderErrors:!0},this.pixelSizeVector=new ii,this.smallFeaturePixel=2,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=yt,this.physicallyCorrectLights=!1,this.toneMapping=Y,this.toneMappingExposure=1;const x=this;let M=!1,w=0,S=0,b=null,A=-1,E=null;const T=new ii,C=new ii;let L=null,R=i.width,V=i.height,I=1,P=null,U=null;const D=new ii(0,0,R,V),B=new ii(0,0,R,V);let N=!1;const _=new wr;let k=!1,q=!1,O=null;const z=new ki,F=new qt,G=new oi,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function H(){return null===b?I:1}let j,J,K,Z,Q,X,$,ee,te,ie,ne,re,se,ae,oe,le,ce,he,de,ue,fe,ge,ye,ve=n;function xe(e,t){for(let n=0;n<e.length;n++){const r=e[n],s=i.getContext(r,t);if(null!==s)return s}return null}try{const t={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:h};if("setAttribute"in i&&i.setAttribute("data-engine",`three.js r${e}`),i.addEventListener("webglcontextlost",Ae,!1),i.addEventListener("webglcontextrestored",Ee,!1),null===ve){const e=["webgl2","webgl","experimental-webgl"];if(!0===x.isWebGL1Renderer&&e.shift(),ve=xe(e,t),null===ve)throw xe(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ve.getShaderPrecisionFormat&&(ve.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function Se(){j=new Zr(ve),J=new Ir(ve,j,t),j.init(J),ge=new Ka(ve,j,J),K=new Ya(ve,j,J),Z=new $r,Q=new Ia,X=new Ja(ve,j,K,Q,J,ge,Z),$=new Ur(x),ee=new Kr(x),te=new br(ve,J),ye=new Rr(ve,j,te,J),ie=new Qr(ve,te,Z,ye),ne=new rs(ve,ie,te,Z),de=new ns(ve,J,X),le=new Pr(Q),re=new Va(x,$,ee,j,J,ye,le),se=new io(Q),ae=new Ba,oe=new za(j,J),he=new Lr(x,$,K,ne,m,o),ce=new ja(x,ne,J),ue=new Vr(ve,j,Z,J),fe=new Xr(ve,j,Z,J),Z.programs=re.programs,x.capabilities=J,x.extensions=j,x.properties=Q,x.renderLists=ae,x.shadowMap=ce,x.state=K,x.info=Z}Se();const be=new to(x,ve);function Ae(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function Ee(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const e=Z.autoReset,t=ce.enabled,i=ce.autoUpdate,n=ce.needsUpdate,r=ce.type;Se(),Z.autoReset=e,ce.enabled=t,ce.autoUpdate=i,ce.needsUpdate=n,ce.type=r}function Te(e){const t=e.target;t.removeEventListener("dispose",Te),function(e){(function(e){const t=Q.get(e).programs;void 0!==t&&(t.forEach((function(e){re.releaseProgram(e)})),e.isShaderMaterial&&re.releaseShaderCache(e))})(e),Q.remove(e)}(t)}this.xr=be,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){const e=j.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=j.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return I},this.setPixelRatio=function(e){void 0!==e&&(I=e,this.setSize(R,V,!1))},this.getSize=function(e){return e.set(R,V)},this.setSize=function(e,t,n){be.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(R=e,V=t,i.width=Math.floor(e*I),i.height=Math.floor(t*I),!1!==n&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(R*I,V*I).floor()},this.setDrawingBufferSize=function(e,t,n){R=e,V=t,I=n,i.width=Math.floor(e*n),i.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(T)},this.getViewport=function(e){return e.copy(D)},this.setViewport=function(e,t,i,n){e.isVector4?D.set(e.x,e.y,e.z,e.w):D.set(e,t,i,n),K.viewport(T.copy(D).multiplyScalar(I).floor())},this.getScissor=function(e){return e.copy(B)},this.setScissor=function(e,t,i,n){e.isVector4?B.set(e.x,e.y,e.z,e.w):B.set(e,t,i,n),K.scissor(C.copy(B).multiplyScalar(I).floor())},this.getScissorTest=function(){return N},this.setScissorTest=function(e){K.setScissorTest(N=e)},this.setOpaqueSort=function(e){P=e},this.setTransparentSort=function(e){U=e},this.getClearColor=function(e){return e.copy(he.getClearColor())},this.setClearColor=function(){he.setClearColor.apply(he,arguments)},this.getClearAlpha=function(){return he.getClearAlpha()},this.setClearAlpha=function(){he.setClearAlpha.apply(he,arguments)},this.clear=function(e=!0,t=!0,i=!0){let n=0;e&&(n|=16384),t&&(n|=256),i&&(n|=1024),ve.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Ae,!1),i.removeEventListener("webglcontextrestored",Ee,!1),ae.dispose(),oe.dispose(),Q.dispose(),$.dispose(),ee.dispose(),ne.dispose(),ye.dispose(),re.dispose(),be.dispose(),be.removeEventListener("sessionstart",Re),be.removeEventListener("sessionend",Ve),O&&(O.dispose(),O=null),Ie.stop()},this.renderBufferDirect=function(e,t,i,n,r,s){null===t&&(t=W);const a=r.isMesh&&r.matrixWorld.determinant()<0,o=function(e,t,i,n,r){!0!==t.isScene&&(t=W);X.resetTextureUnits();const s=t.fog,a=n.isMeshStandardMaterial?t.environment:null,o=null===b?x.outputEncoding:!0===b.isXRRenderTarget?b.texture.encoding:yt,l=(n.isMeshStandardMaterial?ee:$).get(n.envMap||a),c=!0===n.vertexColors&&!!i.attributes.color&&4===i.attributes.color.itemSize,h=!!n.normalMap&&!!i.attributes.tangent,d=!!i.morphAttributes.position,u=!!i.morphAttributes.normal,p=!!i.morphAttributes.color,m=n.toneMapped?x.toneMapping:Y,f=i.morphAttributes.position||i.morphAttributes.normal||i.morphAttributes.color,y=void 0!==f?f.length:0,v=Q.get(n),M=g.state.lights;if(!0===k&&(!0===q||e!==E)){const t=e===E&&n.id===A;le.setState(n,e,t)}let w=!1;n.version===v.__version?v.needsLights&&v.lightsStateVersion!==M.state.version||v.outputEncoding!==o||r.isInstancedMesh&&!1===v.instancing?w=!0:r.isInstancedMesh||!0!==v.instancing?r.isSkinnedMesh&&!1===v.skinning?w=!0:r.isSkinnedMesh||!0!==v.skinning?v.envMap!==l||n.fog&&v.fog!==s?w=!0:void 0===v.numClippingPlanes||v.numClippingPlanes===le.numPlanes&&v.numIntersection===le.numIntersection?(v.vertexAlphas!==c||v.vertexTangents!==h||v.morphTargets!==d||v.morphNormals!==u||v.morphColors!==p||v.toneMapping!==m||!0===J.isWebGL2&&v.morphTargetsCount!==y)&&(w=!0):w=!0:w=!0:w=!0:(w=!0,v.__version=n.version);let S=v.currentProgram;!0===w&&(S=Ne(n,t,r));let T=!1,C=!1,L=!1;const R=S.getUniforms(),P=v.uniforms;K.useProgram(S.program)&&(T=!0,C=!0,L=!0);n.id!==A&&(A=n.id,C=!0);if(T||E!==e){if(R.setValue(ve,"projectionMatrix",e.projectionMatrix),J.logarithmicDepthBuffer&&R.setValue(ve,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),E!==e&&(E=e,C=!0,L=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const t=R.map.cameraPosition;void 0!==t&&t.setValue(ve,G.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&R.setValue(ve,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||r.isSkinnedMesh)&&R.setValue(ve,"viewMatrix",e.matrixWorldInverse)}if(r.isSkinnedMesh){R.setOptional(ve,r,"bindMatrix"),R.setOptional(ve,r,"bindMatrixInverse");const e=r.skeleton;e&&(J.floatVertexTextures?(null===e.boneTexture&&e.computeBoneTexture(),R.setValue(ve,"boneTexture",e.boneTexture,X),R.setValue(ve,"boneTextureSize",e.boneTextureSize)):R.setOptional(ve,e,"boneMatrices"))}const U=i.morphAttributes;(void 0!==U.position||void 0!==U.normal||void 0!==U.color&&!0===J.isWebGL2)&&de.update(r,i,n,S);(C||v.receiveShadow!==r.receiveShadow)&&(v.receiveShadow=r.receiveShadow,R.setValue(ve,"receiveShadow",r.receiveShadow));C&&(R.setValue(ve,"toneMappingExposure",x.toneMappingExposure),v.needsLights&&(B=L,(D=P).ambientLightColor.needsUpdate=B,D.lightProbe.needsUpdate=B,D.directionalLights.needsUpdate=B,D.directionalLightShadows.needsUpdate=B,D.pointLights.needsUpdate=B,D.pointLightShadows.needsUpdate=B,D.spotLights.needsUpdate=B,D.spotLightShadows.needsUpdate=B,D.rectAreaLights.needsUpdate=B,D.hemisphereLights.needsUpdate=B),s&&n.fog&&se.refreshFogUniforms(P,s),se.refreshMaterialUniforms(P,n,I,V,O),la.upload(ve,v.uniformsList,P,X));var D,B;n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(la.upload(ve,v.uniformsList,P,X),n.uniformsNeedUpdate=!1);n.isSpriteMaterial&&R.setValue(ve,"center",r.center);return R.setValue(ve,"modelViewMatrix",r.modelViewMatrix),R.setValue(ve,"normalMatrix",r.normalMatrix),R.setValue(ve,"modelMatrix",r.matrixWorld),S}(e,t,i,n,r);K.setMaterial(n,a);let l=i.index;const c=i.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;let h,d=1;!0===n.wireframe&&(l=ie.getWireframeAttribute(i),d=2),ye.setup(r,n,o,i,l);let u=ue;null!==l&&(h=te.get(l),u=fe,u.setIndex(h));const p=null!==l?l.count:c.count,m=i.drawRange.start*d,f=i.drawRange.count*d,y=null!==s?s.start*d:0,v=null!==s?s.count*d:1/0,M=Math.max(m,y),w=Math.min(p,m+f,y+v)-1,S=Math.max(0,w-M+1);if(0!==S){if(r.isMesh)!0===n.wireframe?(K.setLineWidth(n.wireframeLinewidth*H()),u.setMode(1)):u.setMode(4);else if(r.isLine){let e=n.linewidth;void 0===e&&(e=1),K.setLineWidth(e*H()),r.isLineSegments?u.setMode(1):r.isLineLoop?u.setMode(2):u.setMode(3)}else r.isPoints?u.setMode(0):r.isSprite&&u.setMode(4);if(r.isInstancedMesh)u.renderInstances(M,S,r.count);else if(i.isInstancedBufferGeometry){const e=Math.min(i.instanceCount,i._maxInstanceCount);u.renderInstances(M,S,e)}else u.render(M,S)}},this.compile=function(e,t){g=oe.get(e),g.init(),v.push(g),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(g.pushLight(e),e.castShadow&&g.pushShadow(e))})),g.setupLights(x.physicallyCorrectLights),e.traverse((function(t){const i=t.material;if(i)if(Array.isArray(i))for(let n=0;n<i.length;n++){Ne(i[n],e,t)}else Ne(i,e,t)})),v.pop(),g=null};let Le=null;function Re(){Ie.stop()}function Ve(){Ie.start()}const Ie=new Sr;function Pe(e,t,i,n){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)i=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)g.pushLight(e),e.castShadow&&g.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||_.intersectsSprite(e)){n&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=ne.update(e),r=e.material;r.visible&&f.push(e,t,r,i,G.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==Z.render.frame&&(e.skeleton.update(),e.skeleton.frame=Z.render.frame),!e.frustumCulled||_.intersectsObject(e))){if(x.smallFeaturePixel>0&&!0===function(e){if(!e.isMesh||null===e.geometry)return!1;let t=e.geometry;if(null===t.boundingSphere&&t.computeBoundingSphere(),null===t.boundingSphere)return!0;let i=t.boundingSphere.center.clone(),n=t.boundingSphere.radius,r=e.matrixWorld;if(!r.equals(new ki)){let e=i.clone();e.x+=n,e.applyMatrix4(r);let t=i.clone();t.y+=n,t.applyMatrix4(r);let s=i.clone();s.z+=n,s.applyMatrix4(r),i.applyMatrix4(r),e.sub(i),t.sub(i),s.sub(i);let a=e.lengthSq(),o=t.lengthSq(),l=s.lengthSq();n=a,n<o&&(n=o),n<l&&(n=l),n=Math.sqrt(n)}return new ii(i.x,i.y,i.z,1).dot(x.pixelSizeVector)*x.smallFeaturePixel>n}(e))return;n&&G.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=ne.update(e),r=e.material;if(Array.isArray(r)){const n=t.groups;for(let s=0,a=n.length;s<a;s++){const a=n[s],o=r[a.materialIndex];o&&o.visible&&f.push(e,t,o,i,G.z,a)}}else r.visible&&f.push(e,t,r,i,G.z,null)}const r=e.children;for(let e=0,s=r.length;e<s;e++)Pe(r[e],t,i,n)}function Ue(e,t,i,n){const r=e.opaque,s=e.transmissive,o=e.transparent;g.setupLightsView(i),s.length>0&&function(e,t,i){const n=J.isWebGL2;null===O&&(O=new ni(1,1,{generateMipmaps:!0,type:null!==ge.convert(we)?we:me,minFilter:pe,samples:n&&!0===a?4:0}));x.getDrawingBufferSize(F),n?O.setSize(F.x,F.y):O.setSize(_t(F.x),_t(F.y));const r=x.getRenderTarget();x.setRenderTarget(O),x.clear();const s=x.toneMapping;x.toneMapping=Y,De(e,t,i),x.toneMapping=s,X.updateMultisampleRenderTarget(O),X.updateRenderTargetMipmap(O),x.setRenderTarget(r)}(r,t,i),n&&K.viewport(T.copy(n)),r.length>0&&De(r,t,i),s.length>0&&De(s,t,i),o.length>0&&De(o,t,i),K.buffers.depth.setTest(!0),K.buffers.depth.setMask(!0),K.buffers.color.setMask(!0),K.setPolygonOffset(!1)}function De(e,t,i){const n=!0===t.isScene?t.overrideMaterial:null;for(let r=0,s=e.length;r<s;r++){const s=e[r],a=s.object,o=s.geometry,l=null===n?s.material:n,c=s.group;a.layers.test(i.layers)&&Be(a,t,i,o,l,c)}}function Be(e,t,i,n,r,s){e.onBeforeRender(x,t,i,n,r,s),e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),r.onBeforeRender(x,t,i,n,e,s),!0===r.transparent&&r.side===p?(r.side=u,r.needsUpdate=!0,x.renderBufferDirect(i,t,n,r,e,s),r.side=d,r.needsUpdate=!0,x.renderBufferDirect(i,t,n,r,e,s),r.side=p):x.renderBufferDirect(i,t,n,r,e,s),e.onAfterRender(x,t,i,n,r,s)}function Ne(e,t,i){!0!==t.isScene&&(t=W);const n=Q.get(e),r=g.state.lights,s=g.state.shadowsArray,a=r.state.version,o=re.getParameters(e,r.state,s,t,i),l=re.getProgramCacheKey(o);let c=n.programs;n.environment=e.isMeshStandardMaterial?t.environment:null,n.fog=t.fog,n.envMap=(e.isMeshStandardMaterial?ee:$).get(e.envMap||n.environment),void 0===c&&(e.addEventListener("dispose",Te),c=new Map,n.programs=c);let h=c.get(l);if(void 0!==h){if(n.currentProgram===h&&n.lightsStateVersion===a)return _e(e,o),h}else o.uniforms=re.getUniforms(e),e.onBuild(i,o,x),e.onBeforeCompile(o,x),h=re.acquireProgram(o,l),c.set(l,h),n.uniforms=o.uniforms;const d=n.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(d.clippingPlanes=le.uniform),_e(e,o),n.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),n.lightsStateVersion=a,n.needsLights&&(d.ambientLightColor.value=r.state.ambient,d.lightProbe.value=r.state.probe,d.directionalLights.value=r.state.directional,d.directionalLightShadows.value=r.state.directionalShadow,d.spotLights.value=r.state.spot,d.spotLightShadows.value=r.state.spotShadow,d.rectAreaLights.value=r.state.rectArea,d.ltc_1.value=r.state.rectAreaLTC1,d.ltc_2.value=r.state.rectAreaLTC2,d.pointLights.value=r.state.point,d.pointLightShadows.value=r.state.pointShadow,d.hemisphereLights.value=r.state.hemi,d.directionalShadowMap.value=r.state.directionalShadowMap,d.directionalShadowMatrix.value=r.state.directionalShadowMatrix,d.spotShadowMap.value=r.state.spotShadowMap,d.spotShadowMatrix.value=r.state.spotShadowMatrix,d.pointShadowMap.value=r.state.pointShadowMap,d.pointShadowMatrix.value=r.state.pointShadowMatrix);const u=h.getUniforms(),p=la.seqWithValue(u.seq,d);return n.currentProgram=h,n.uniformsList=p,h}function _e(e,t){const i=Q.get(e);i.outputEncoding=t.outputEncoding,i.instancing=t.instancing,i.skinning=t.skinning,i.morphTargets=t.morphTargets,i.morphNormals=t.morphNormals,i.morphColors=t.morphColors,i.morphTargetsCount=t.morphTargetsCount,i.numClippingPlanes=t.numClippingPlanes,i.numIntersection=t.numClipIntersection,i.vertexAlphas=t.vertexAlphas,i.vertexTangents=t.vertexTangents,i.toneMapping=t.toneMapping}Ie.setAnimationLoop((function(e){Le&&Le(e)})),"undefined"!=typeof window&&Ie.setContext(window),this.setAnimationLoop=function(e){Le=e,be.setAnimationLoop(e),null===e?Ie.stop():Ie.start()},be.addEventListener("sessionstart",Re),be.addEventListener("sessionend",Ve),this.render=function(e,t){if(x.smallFeaturePixel>0&&function(e){let t=.5*D.z,i=.5*D.w,n=e.projectionMatrix.elements,r=e.matrix.invert().elements,s=n[0]*t,a=(n[8]+n[11])*t,o=new oi(r[0]*s+r[2]*a,r[4]*s+r[6]*a,r[8]*s+r[10]*a),l=n[5]*i,c=(n[9]+n[11])*i,h=new oi(r[1]*l+r[2]*c,r[5]*l+r[6]*c,r[9]*l+r[10]*c),d=.7071067811/Math.sqrt(o.lengthSq()+h.lengthSq());x.pixelSizeVector.x=r[2]*n[11]*d,x.pixelSizeVector.y=r[6]*n[11]*d,x.pixelSizeVector.z=r[10]*n[11]*d,x.pixelSizeVector.w=(r[14]*n[11]+r[15]*n[15])*d}(t),void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===M)return;!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===be.enabled&&!0===be.isPresenting&&(!0===be.cameraAutoUpdate&&be.updateCamera(t),t=be.getCamera()),!0===e.isScene&&e.onBeforeRender(x,e,t,b),g=oe.get(e,v.length),g.init(),v.push(g),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),_.setFromProjectionMatrix(z),q=this.localClippingEnabled,k=le.init(this.clippingPlanes,q,t),f=ae.get(e,y.length),f.init(),y.push(f),Pe(e,t,0,x.sortObjects),f.finish(),!0===x.sortObjects&&f.sort(P,U),!0===k&&le.beginShadows();const i=g.state.shadowsArray;if(ce.render(i,e,t),!0===k&&le.endShadows(),!0===this.info.autoReset&&this.info.reset(),he.render(f,e),g.setupLights(x.physicallyCorrectLights),t.isArrayCamera){const i=t.cameras;console.log("cameras.length");for(let t=0,n=i.length;t<n;t++){const n=i[t];Ue(f,e,n,n.viewport)}}else Ue(f,e,t);null!==b&&(X.updateMultisampleRenderTarget(b),X.updateRenderTargetMipmap(b)),!0===e.isScene&&e.onAfterRender(x,e,t),ye.resetDefaultState(),A=-1,E=null,v.pop(),g=v.length>0?v[v.length-1]:null,y.pop(),f=y.length>0?y[y.length-1]:null},this.getActiveCubeFace=function(){return w},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(e,t,i){Q.get(e.texture).__webglTexture=t,Q.get(e.depthTexture).__webglTexture=i;const n=Q.get(e);n.__hasExternalTextures=!0,n.__hasExternalTextures&&(n.__autoAllocateDepthBuffer=void 0===i,n.__autoAllocateDepthBuffer||!0===j.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),n.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){const i=Q.get(e);i.__webglFramebuffer=t,i.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,i=0){b=e,w=t,S=i;let n=!0;if(e){const t=Q.get(e);void 0!==t.__useDefaultFramebuffer?(K.bindFramebuffer(36160,null),n=!1):void 0===t.__webglFramebuffer?X.setupRenderTarget(e):t.__hasExternalTextures&&X.rebindTextures(e,Q.get(e.texture).__webglTexture,Q.get(e.depthTexture).__webglTexture)}let r=null,s=!1,a=!1;if(e){const i=e.texture;(i.isData3DTexture||i.isDataArrayTexture)&&(a=!0);const n=Q.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=n[t],s=!0):r=J.isWebGL2&&e.samples>0&&!1===X.useMultisampledRTT(e)?Q.get(e).__webglMultisampledFramebuffer:n,T.copy(e.viewport),C.copy(e.scissor),L=e.scissorTest}else T.copy(D).multiplyScalar(I).floor(),C.copy(B).multiplyScalar(I).floor(),L=N;if(K.bindFramebuffer(36160,r)&&J.drawBuffers&&n&&K.drawBuffers(e,r),K.viewport(T),K.scissor(C),K.setScissorTest(L),s){const n=Q.get(e.texture);ve.framebufferTexture2D(36160,36064,34069+t,n.__webglTexture,i)}else if(a){const n=Q.get(e.texture),r=t||0;ve.framebufferTextureLayer(36160,36064,n.__webglTexture,i||0,r)}A=-1},this.readRenderTargetPixels=function(e,t,i,n,r,s,a){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let o=Q.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(o=o[a]),o){K.bindFramebuffer(36160,o);try{const a=e.texture,o=a.format,l=a.type;if(o!==Ce&&ge.convert(o)!==ve.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const c=l===we&&(j.has("EXT_color_buffer_half_float")||J.isWebGL2&&j.has("EXT_color_buffer_float"));if(!(l===me||ge.convert(l)===ve.getParameter(35738)||l===Me&&(J.isWebGL2||j.has("OES_texture_float")||j.has("WEBGL_color_buffer_float"))||c))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ve.checkFramebufferStatus(36160)?t>=0&&t<=e.width-n&&i>=0&&i<=e.height-r&&ve.readPixels(t,i,n,r,ge.convert(o),ge.convert(l),s):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const e=null!==b?Q.get(b).__webglFramebuffer:null;K.bindFramebuffer(36160,e)}}},this.copyFramebufferToTexture=function(e,t,i=0){if(!0!==t.isFramebufferTexture)return void console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.");const n=Math.pow(2,-i),r=Math.floor(t.image.width*n),s=Math.floor(t.image.height*n);X.setTexture2D(t,0),ve.copyTexSubImage2D(3553,i,0,0,e.x,e.y,r,s),K.unbindTexture()},this.copyTextureToTexture=function(e,t,i,n=0){const r=t.image.width,s=t.image.height,a=ge.convert(i.format),o=ge.convert(i.type);X.setTexture2D(i,0),ve.pixelStorei(37440,i.flipY),ve.pixelStorei(37441,i.premultiplyAlpha),ve.pixelStorei(3317,i.unpackAlignment),t.isDataTexture?ve.texSubImage2D(3553,n,e.x,e.y,r,s,a,o,t.image.data):t.isCompressedTexture?ve.compressedTexSubImage2D(3553,n,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):ve.texSubImage2D(3553,n,e.x,e.y,a,o,t.image),0===n&&i.generateMipmaps&&ve.generateMipmap(3553),K.unbindTexture()},this.copyTextureToTexture3D=function(e,t,i,n,r=0){if(x.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const s=e.max.x-e.min.x+1,a=e.max.y-e.min.y+1,o=e.max.z-e.min.z+1,l=ge.convert(n.format),c=ge.convert(n.type);let h;if(n.isData3DTexture)X.setTexture3D(n,0),h=32879;else{if(!n.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");X.setTexture2DArray(n,0),h=35866}ve.pixelStorei(37440,n.flipY),ve.pixelStorei(37441,n.premultiplyAlpha),ve.pixelStorei(3317,n.unpackAlignment);const d=ve.getParameter(3314),u=ve.getParameter(32878),p=ve.getParameter(3316),m=ve.getParameter(3315),f=ve.getParameter(32877),g=i.isCompressedTexture?i.mipmaps[0]:i.image;ve.pixelStorei(3314,g.width),ve.pixelStorei(32878,g.height),ve.pixelStorei(3316,e.min.x),ve.pixelStorei(3315,e.min.y),ve.pixelStorei(32877,e.min.z),i.isDataTexture||i.isData3DTexture?ve.texSubImage3D(h,r,t.x,t.y,t.z,s,a,o,l,c,g.data):i.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ve.compressedTexSubImage3D(h,r,t.x,t.y,t.z,s,a,o,l,g.data)):ve.texSubImage3D(h,r,t.x,t.y,t.z,s,a,o,l,c,g),ve.pixelStorei(3314,d),ve.pixelStorei(32878,u),ve.pixelStorei(3316,p),ve.pixelStorei(3315,m),ve.pixelStorei(32877,f),0===r&&n.generateMipmaps&&ve.generateMipmap(h),K.unbindTexture()},this.initTexture=function(e){X.setTexture2D(e,0),K.unbindTexture()},this.resetState=function(){w=0,S=0,b=null,K.reset(),ye.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}no.prototype.isWebGLRenderer=!0;(class extends no{}).prototype.isWebGL1Renderer=!0;class ro extends hn{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}ro.prototype.isScene=!0;class so{constructor(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=bt,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Pt()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let n=0,r=this.stride;n<r;n++)this.array[e+n]=t.array[i+n];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Pt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Pt()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}so.prototype.isInterleavedBuffer=!0;const ao=new oi;class oo{constructor(e,t,i,n=!1){this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=!0===n}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)ao.x=this.getX(t),ao.y=this.getY(t),ao.z=this.getZ(t),ao.applyMatrix4(e),this.setXYZ(t,ao.x,ao.y,ao.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)ao.x=this.getX(t),ao.y=this.getY(t),ao.z=this.getZ(t),ao.applyNormalMatrix(e),this.setXYZ(t,ao.x,ao.y,ao.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)ao.x=this.getX(t),ao.y=this.getY(t),ao.z=this.getZ(t),ao.transformDirection(e),this.setXYZ(t,ao.x,ao.y,ao.z);return this}setX(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){return this.data.array[e*this.data.stride+this.offset]}getY(e){return this.data.array[e*this.data.stride+this.offset+1]}getZ(e){return this.data.array[e*this.data.stride+this.offset+2]}getW(e){return this.data.array[e*this.data.stride+this.offset+3]}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this}setXYZW(e,t,i,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this.data.array[e+3]=r,this}clone(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const i=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[i+t])}return new Cn(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new oo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const i=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[i+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}oo.prototype.isInterleavedBufferAttribute=!0;class lo extends bn{constructor(e){super(),this.type="SpriteMaterial",this.color=new Kt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}let co;lo.prototype.isSpriteMaterial=!0;const ho=new oi,uo=new oi,po=new oi,mo=new qt,fo=new qt,go=new ki,yo=new oi,vo=new oi,xo=new oi,Mo=new qt,wo=new qt,So=new qt;class bo extends hn{constructor(e){if(super(),this.type="Sprite",void 0===co){co=new kn;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new so(e,5);co.setIndex([0,1,2,0,2,3]),co.setAttribute("position",new oo(t,3,0,!1)),co.setAttribute("uv",new oo(t,2,3,!1))}this.geometry=co,this.material=void 0!==e?e:new lo,this.center=new qt(.5,.5)}raycast(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),uo.setFromMatrixScale(this.matrixWorld),go.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),po.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&uo.multiplyScalar(-po.z);const i=this.material.rotation;let n,r;0!==i&&(r=Math.cos(i),n=Math.sin(i));const s=this.center;Ao(yo.set(-.5,-.5,0),po,s,uo,n,r),Ao(vo.set(.5,-.5,0),po,s,uo,n,r),Ao(xo.set(.5,.5,0),po,s,uo,n,r),Mo.set(0,0),wo.set(1,0),So.set(1,1);let a=e.ray.intersectTriangle(yo,vo,xo,!1,ho);if(null===a&&(Ao(vo.set(-.5,.5,0),po,s,uo,n,r),wo.set(0,1),a=e.ray.intersectTriangle(yo,xo,vo,!1,ho),null===a))return;const o=e.ray.origin.distanceTo(ho);o<e.near||o>e.far||t.push({distance:o,point:ho.clone(),uv:wn.getUV(ho,yo,vo,xo,Mo,wo,So,new qt),face:null,object:this})}copy(e){return super.copy(e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function Ao(e,t,i,n,r,s){mo.subVectors(e,i).addScalar(.5).multiply(n),void 0!==r?(fo.x=s*mo.x-r*mo.y,fo.y=r*mo.x+s*mo.y):fo.copy(mo),e.copy(t),e.x+=fo.x,e.y+=fo.y,e.applyMatrix4(go)}bo.prototype.isSprite=!0;const Eo=new oi,To=new ii,Co=new ii,Lo=new oi,Ro=new ki;class Vo extends ir{constructor(e,t){super(e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ki,this.bindMatrixInverse=new ki}copy(e){return super.copy(e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ii,t=this.geometry.attributes.skinWeight;for(let i=0,n=t.count;i<n;i++){e.x=t.getX(i),e.y=t.getY(i),e.z=t.getZ(i),e.w=t.getW(i);const n=1/e.manhattanLength();n!==1/0?e.multiplyScalar(n):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(e,t){const i=this.skeleton,n=this.geometry;To.fromBufferAttribute(n.attributes.skinIndex,e),Co.fromBufferAttribute(n.attributes.skinWeight,e),Eo.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let e=0;e<4;e++){const n=Co.getComponent(e);if(0!==n){const r=To.getComponent(e);Ro.multiplyMatrices(i.bones[r].matrixWorld,i.boneInverses[r]),t.addScaledVector(Lo.copy(Eo).applyMatrix4(Ro),n)}}return t.applyMatrix4(this.bindMatrixInverse)}}Vo.prototype.isSkinnedMesh=!0;(class extends hn{constructor(){super(),this.type="Bone"}}).prototype.isBone=!0;(class extends ti{constructor(e=null,t=1,i=1,n,r,s,a,o,l=le,c=le,h,d){super(null,s,a,o,l,c,n,r,h,d),this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}).prototype.isDataTexture=!0;class Io extends Cn{constructor(e,t,i,n=1){"number"==typeof i&&(n=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(e,t,i),this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}Io.prototype.isInstancedBufferAttribute=!0;const Po=new ki,Uo=new ki,Do=[],Bo=new ir;(class extends ir{constructor(e,t,i){super(e,t),this.instanceMatrix=new Io(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}copy(e){return super.copy(e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}raycast(e,t){const i=this.matrixWorld,n=this.count;if(Bo.geometry=this.geometry,Bo.material=this.material,void 0!==Bo.material)for(let r=0;r<n;r++){this.getMatrixAt(r,Po),Uo.multiplyMatrices(i,Po),Bo.matrixWorld=Uo,Bo.raycast(e,Do);for(let e=0,i=Do.length;e<i;e++){const i=Do[e];i.instanceId=r,i.object=this,t.push(i)}Do.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Io(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}).prototype.isInstancedMesh=!0;class No extends bn{constructor(e){super(),this.type="LineBasicMaterial",this.color=new Kt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}No.prototype.isLineBasicMaterial=!0;const _o=new oi,ko=new oi,qo=new ki,Oo=new _i,zo=new Ri;class Fo extends hn{constructor(e=new kn,t=new No){super(),this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,i=[0];for(let e=1,n=t.count;e<n;e++)_o.fromBufferAttribute(t,e-1),ko.fromBufferAttribute(t,e),i[e]=i[e-1],i[e]+=_o.distanceTo(ko);e.setAttribute("lineDistance",new Vn(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(e,t){const i=this.geometry,n=this.matrixWorld,r=e.params.Line.threshold,s=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),zo.copy(i.boundingSphere),zo.applyMatrix4(n),zo.radius+=r,!1===e.ray.intersectsSphere(zo))return;qo.copy(n).invert(),Oo.copy(e.ray).applyMatrix4(qo);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,l=new oi,c=new oi,h=new oi,d=new oi,u=this.isLineSegments?2:1;if(i.isBufferGeometry){const n=i.index,r=i.attributes.position;if(null!==n){for(let i=Math.max(0,s.start),a=Math.min(n.count,s.start+s.count)-1;i<a;i+=u){const s=n.getX(i),a=n.getX(i+1);l.fromBufferAttribute(r,s),c.fromBufferAttribute(r,a);if(Oo.distanceSqToSegment(l,c,d,h)>o)continue;d.applyMatrix4(this.matrixWorld);const u=e.ray.origin.distanceTo(d);u<e.near||u>e.far||t.push({distance:u,point:h.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else{for(let i=Math.max(0,s.start),n=Math.min(r.count,s.start+s.count)-1;i<n;i+=u){l.fromBufferAttribute(r,i),c.fromBufferAttribute(r,i+1);if(Oo.distanceSqToSegment(l,c,d,h)>o)continue;d.applyMatrix4(this.matrixWorld);const n=e.ray.origin.distanceTo(d);n<e.near||n>e.far||t.push({distance:n,point:h.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const e=t[i[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,i=e.length;t<i;t++){const i=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}Fo.prototype.isLine=!0;const Go=new oi,Wo=new oi;class Ho extends Fo{constructor(e,t){super(e,t),this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,i=[];for(let e=0,n=t.count;e<n;e+=2)Go.fromBufferAttribute(t,e),Wo.fromBufferAttribute(t,e+1),i[e]=0===e?0:i[e-1],i[e+1]=i[e]+Go.distanceTo(Wo);e.setAttribute("lineDistance",new Vn(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}Ho.prototype.isLineSegments=!0;(class extends Fo{constructor(e,t){super(e,t),this.type="LineLoop"}}).prototype.isLineLoop=!0;class jo extends bn{constructor(e){super(),this.type="PointsMaterial",this.color=new Kt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}jo.prototype.isPointsMaterial=!0;const Yo=new ki,Jo=new _i,Ko=new Ri,Zo=new oi;function Qo(e,t,i,n,r,s,a){const o=Jo.distanceSqToPoint(e);if(o<i){const i=new oi;Jo.closestPointToPoint(e,i),i.applyMatrix4(n);const l=r.ray.origin.distanceTo(i);if(l<r.near||l>r.far)return;s.push({distance:l,distanceToRay:Math.sqrt(o),point:i,index:t,face:null,object:a})}}(class extends hn{constructor(e=new kn,t=new jo){super(),this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e){return super.copy(e),this.material=e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,n=this.matrixWorld,r=e.params.Points.threshold,s=i.drawRange;if(null===i.boundingSphere&&i.computeBoundingSphere(),Ko.copy(i.boundingSphere),Ko.applyMatrix4(n),Ko.radius+=r,!1===e.ray.intersectsSphere(Ko))return;Yo.copy(n).invert(),Jo.copy(e.ray).applyMatrix4(Yo);const a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(i.isBufferGeometry){const r=i.index,a=i.attributes.position;if(null!==r){for(let i=Math.max(0,s.start),l=Math.min(r.count,s.start+s.count);i<l;i++){const s=r.getX(i);Zo.fromBufferAttribute(a,s),Qo(Zo,s,o,n,e,t,this)}}else{for(let i=Math.max(0,s.start),r=Math.min(a.count,s.start+s.count);i<r;i++)Zo.fromBufferAttribute(a,i),Qo(Zo,i,o,n,e,t,this)}}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,i=Object.keys(t);if(i.length>0){const e=t[i[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,i=e.length;t<i;t++){const i=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}).prototype.isPoints=!0;(class extends ti{constructor(e,t,i,n,r,s,a,o,l){super(e,t,i,n,r,s,a,o,l),this.minFilter=void 0!==s?s:de,this.magFilter=void 0!==r?r:de,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}).prototype.isVideoTexture=!0;(class extends ti{constructor(e,t,i){super({width:e,height:t}),this.format=i,this.magFilter=le,this.minFilter=le,this.generateMipmaps=!1,this.needsUpdate=!0}}).prototype.isFramebufferTexture=!0;(class extends ti{constructor(e,t,i,n,r,s,a,o,l,c,h,d){super(null,s,a,o,l,c,n,r,h,d),this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}).prototype.isCompressedTexture=!0;class Xo extends ti{constructor(e,t,i,n,r,s,a,o,l){super(e,t,i,n,r,s,a,o,l),this.needsUpdate=!0}}Xo.prototype.isCanvasTexture=!0;class $o extends kn{constructor(e=1,t=8,i=0,n=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:n},t=Math.max(3,t);const r=[],s=[],a=[],o=[],l=new oi,c=new qt;s.push(0,0,0),a.push(0,0,1),o.push(.5,.5);for(let r=0,h=3;r<=t;r++,h+=3){const d=i+r/t*n;l.x=e*Math.cos(d),l.y=e*Math.sin(d),s.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(s[h]/e+1)/2,c.y=(s[h+1]/e+1)/2,o.push(c.x,c.y)}for(let e=1;e<=t;e++)r.push(e,e+1,0);this.setIndex(r),this.setAttribute("position",new Vn(s,3)),this.setAttribute("normal",new Vn(a,3)),this.setAttribute("uv",new Vn(o,2))}static fromJSON(e){return new $o(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class el extends kn{constructor(e=1,t=1,i=1,n=8,r=1,s=!1,a=0,o=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:n,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o};const l=this;n=Math.floor(n),r=Math.floor(r);const c=[],h=[],d=[],u=[];let p=0;const m=[],f=i/2;let g=0;function y(i){const r=p,s=new qt,m=new oi;let y=0;const v=!0===i?e:t,x=!0===i?1:-1;for(let e=1;e<=n;e++)h.push(0,f*x,0),d.push(0,x,0),u.push(.5,.5),p++;const M=p;for(let e=0;e<=n;e++){const t=e/n*o+a,i=Math.cos(t),r=Math.sin(t);m.x=v*r,m.y=f*x,m.z=v*i,h.push(m.x,m.y,m.z),d.push(0,x,0),s.x=.5*i+.5,s.y=.5*r*x+.5,u.push(s.x,s.y),p++}for(let e=0;e<n;e++){const t=r+e,n=M+e;!0===i?c.push(n,n+1,t):c.push(n+1,n,t),y+=3}l.addGroup(g,y,!0===i?1:2),g+=y}!function(){const s=new oi,y=new oi;let v=0;const x=(t-e)/i;for(let l=0;l<=r;l++){const c=[],g=l/r,v=g*(t-e)+e;for(let e=0;e<=n;e++){const t=e/n,r=t*o+a,l=Math.sin(r),m=Math.cos(r);y.x=v*l,y.y=-g*i+f,y.z=v*m,h.push(y.x,y.y,y.z),s.set(l,x,m).normalize(),d.push(s.x,s.y,s.z),u.push(t,1-g),c.push(p++)}m.push(c)}for(let e=0;e<n;e++)for(let t=0;t<r;t++){const i=m[t][e],n=m[t+1][e],r=m[t+1][e+1],s=m[t][e+1];c.push(i,n,s),c.push(n,r,s),v+=6}l.addGroup(g,v,0),g+=v}(),!1===s&&(e>0&&y(!0),t>0&&y(!1)),this.setIndex(c),this.setAttribute("position",new Vn(h,3)),this.setAttribute("normal",new Vn(d,3)),this.setAttribute("uv",new Vn(u,2))}static fromJSON(e){return new el(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tl extends kn{constructor(e=[],t=[],i=1,n=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:n};const r=[],s=[];function a(e,t,i,n){const r=n+1,s=[];for(let n=0;n<=r;n++){s[n]=[];const a=e.clone().lerp(i,n/r),o=t.clone().lerp(i,n/r),l=r-n;for(let e=0;e<=l;e++)s[n][e]=0===e&&n===r?a:a.clone().lerp(o,e/l)}for(let e=0;e<r;e++)for(let t=0;t<2*(r-e)-1;t++){const i=Math.floor(t/2);t%2==0?(o(s[e][i+1]),o(s[e+1][i]),o(s[e][i])):(o(s[e][i+1]),o(s[e+1][i+1]),o(s[e+1][i]))}}function o(e){r.push(e.x,e.y,e.z)}function l(t,i){const n=3*t;i.x=e[n+0],i.y=e[n+1],i.z=e[n+2]}function c(e,t,i,n){n<0&&1===e.x&&(s[t]=e.x-1),0===i.x&&0===i.z&&(s[t]=n/2/Math.PI+.5)}function h(e){return Math.atan2(e.z,-e.x)}!function(e){const i=new oi,n=new oi,r=new oi;for(let s=0;s<t.length;s+=3)l(t[s+0],i),l(t[s+1],n),l(t[s+2],r),a(i,n,r,e)}(n),function(e){const t=new oi;for(let i=0;i<r.length;i+=3)t.x=r[i+0],t.y=r[i+1],t.z=r[i+2],t.normalize().multiplyScalar(e),r[i+0]=t.x,r[i+1]=t.y,r[i+2]=t.z}(i),function(){const e=new oi;for(let i=0;i<r.length;i+=3){e.x=r[i+0],e.y=r[i+1],e.z=r[i+2];const n=h(e)/2/Math.PI+.5,a=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);s.push(n,1-a)}var t;(function(){const e=new oi,t=new oi,i=new oi,n=new oi,a=new qt,o=new qt,l=new qt;for(let d=0,u=0;d<r.length;d+=9,u+=6){e.set(r[d+0],r[d+1],r[d+2]),t.set(r[d+3],r[d+4],r[d+5]),i.set(r[d+6],r[d+7],r[d+8]),a.set(s[u+0],s[u+1]),o.set(s[u+2],s[u+3]),l.set(s[u+4],s[u+5]),n.copy(e).add(t).add(i).divideScalar(3);const p=h(n);c(a,u+0,e,p),c(o,u+2,t,p),c(l,u+4,i,p)}})(),function(){for(let e=0;e<s.length;e+=6){const t=s[e+0],i=s[e+2],n=s[e+4],r=Math.max(t,i,n),a=Math.min(t,i,n);r>.9&&a<.1&&(t<.2&&(s[e+0]+=1),i<.2&&(s[e+2]+=1),n<.2&&(s[e+4]+=1))}}()}(),this.setAttribute("position",new Vn(r,3)),this.setAttribute("normal",new Vn(r.slice(),3)),this.setAttribute("uv",new Vn(s,2)),0===n?this.computeVertexNormals():this.normalizeNormals()}static fromJSON(e){return new tl(e.vertices,e.indices,e.radius,e.details)}}const il=new oi,nl=new oi,rl=new oi,sl=new wn;class al extends kn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const i=4,n=Math.pow(10,i),r=Math.cos(Vt*t),s=e.getIndex(),a=e.getAttribute("position"),o=s?s.count:a.count,l=[0,0,0],c=["a","b","c"],h=new Array(3),d={},u=[];for(let e=0;e<o;e+=3){s?(l[0]=s.getX(e),l[1]=s.getX(e+1),l[2]=s.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:i,c:o}=sl;if(t.fromBufferAttribute(a,l[0]),i.fromBufferAttribute(a,l[1]),o.fromBufferAttribute(a,l[2]),sl.getNormal(rl),h[0]=`${Math.round(t.x*n)},${Math.round(t.y*n)},${Math.round(t.z*n)}`,h[1]=`${Math.round(i.x*n)},${Math.round(i.y*n)},${Math.round(i.z*n)}`,h[2]=`${Math.round(o.x*n)},${Math.round(o.y*n)},${Math.round(o.z*n)}`,h[0]!==h[1]&&h[1]!==h[2]&&h[2]!==h[0])for(let e=0;e<3;e++){const t=(e+1)%3,i=h[e],n=h[t],s=sl[c[e]],a=sl[c[t]],o=`${i}_${n}`,p=`${n}_${i}`;p in d&&d[p]?(rl.dot(d[p].normal)<=r&&(u.push(s.x,s.y,s.z),u.push(a.x,a.y,a.z)),d[p]=null):o in d||(d[o]={index0:l[e],index1:l[t],normal:rl.clone()})}}for(const e in d)if(d[e]){const{index0:t,index1:i}=d[e];il.fromBufferAttribute(a,t),nl.fromBufferAttribute(a,i),u.push(il.x,il.y,il.z),u.push(nl.x,nl.y,nl.z)}this.setAttribute("position",new Vn(u,3))}}}class ol{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,n=this.getPoint(0),r=0;t.push(0);for(let s=1;s<=e;s++)i=this.getPoint(s/e),r+=i.distanceTo(n),t.push(r),n=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let n=0;const r=i.length;let s;s=t||e*i[r-1];let a,o=0,l=r-1;for(;o<=l;)if(n=Math.floor(o+(l-o)/2),a=i[n]-s,a<0)o=n+1;else{if(!(a>0)){l=n;break}l=n-1}if(n=l,i[n]===s)return n/(r-1);const c=i[n];return(n+(s-c)/(i[n+1]-c))/(r-1)}getTangent(e,t){const i=1e-4;let n=e-i,r=e+i;n<0&&(n=0),r>1&&(r=1);const s=this.getPoint(n),a=this.getPoint(r),o=t||(s.isVector2?new qt:new oi);return o.copy(a).sub(s).normalize(),o}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new oi,n=[],r=[],s=[],a=new oi,o=new ki;for(let t=0;t<=e;t++){const i=t/e;n[t]=this.getTangentAt(i,new oi)}r[0]=new oi,s[0]=new oi;let l=Number.MAX_VALUE;const c=Math.abs(n[0].x),h=Math.abs(n[0].y),d=Math.abs(n[0].z);c<=l&&(l=c,i.set(1,0,0)),h<=l&&(l=h,i.set(0,1,0)),d<=l&&i.set(0,0,1),a.crossVectors(n[0],i).normalize(),r[0].crossVectors(n[0],a),s[0].crossVectors(n[0],r[0]);for(let t=1;t<=e;t++){if(r[t]=r[t-1].clone(),s[t]=s[t-1].clone(),a.crossVectors(n[t-1],n[t]),a.length()>Number.EPSILON){a.normalize();const e=Math.acos(Ut(n[t-1].dot(n[t]),-1,1));r[t].applyMatrix4(o.makeRotationAxis(a,e))}s[t].crossVectors(n[t],r[t])}if(!0===t){let t=Math.acos(Ut(r[0].dot(r[e]),-1,1));t/=e,n[0].dot(a.crossVectors(r[0],r[e]))>0&&(t=-t);for(let i=1;i<=e;i++)r[i].applyMatrix4(o.makeRotationAxis(n[i],t*i)),s[i].crossVectors(n[i],r[i])}return{tangents:n,normals:r,binormals:s}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class ll extends ol{constructor(e=0,t=0,i=1,n=1,r=0,s=2*Math.PI,a=!1,o=0){super(),this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=n,this.aStartAngle=r,this.aEndAngle=s,this.aClockwise=a,this.aRotation=o}getPoint(e,t){const i=t||new qt,n=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const s=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=n;for(;r>n;)r-=n;r<Number.EPSILON&&(r=s?0:n),!0!==this.aClockwise||s||(r===n?r=-n:r-=n);const a=this.aStartAngle+e*r;let o=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),i=o-this.aX,n=l-this.aY;o=i*e-n*t+this.aX,l=i*t+n*e+this.aY}return i.set(o,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}ll.prototype.isEllipseCurve=!0;class cl extends ll{constructor(e,t,i,n,r,s){super(e,t,i,i,n,r,s),this.type="ArcCurve"}}function hl(){let e=0,t=0,i=0,n=0;function r(r,s,a,o){e=r,t=a,i=-3*r+3*s-2*a-o,n=2*r-2*s+a+o}return{initCatmullRom:function(e,t,i,n,s){r(t,i,s*(i-e),s*(n-t))},initNonuniformCatmullRom:function(e,t,i,n,s,a,o){let l=(t-e)/s-(i-e)/(s+a)+(i-t)/a,c=(i-t)/a-(n-t)/(a+o)+(n-i)/o;l*=a,c*=a,r(t,i,l,c)},calc:function(r){const s=r*r;return e+t*r+i*s+n*(s*r)}}}cl.prototype.isArcCurve=!0;const dl=new oi,ul=new hl,pl=new hl,ml=new hl;class fl extends ol{constructor(e=[],t=!1,i="centripetal",n=.5){super(),this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=n}getPoint(e,t=new oi){const i=t,n=this.points,r=n.length,s=(r-(this.closed?0:1))*e;let a,o,l=Math.floor(s),c=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:0===c&&l===r-1&&(l=r-2,c=1),this.closed||l>0?a=n[(l-1)%r]:(dl.subVectors(n[0],n[1]).add(n[0]),a=dl);const h=n[l%r],d=n[(l+1)%r];if(this.closed||l+2<r?o=n[(l+2)%r]:(dl.subVectors(n[r-1],n[r-2]).add(n[r-1]),o=dl),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(a.distanceToSquared(h),e),i=Math.pow(h.distanceToSquared(d),e),n=Math.pow(d.distanceToSquared(o),e);i<1e-4&&(i=1),t<1e-4&&(t=i),n<1e-4&&(n=i),ul.initNonuniformCatmullRom(a.x,h.x,d.x,o.x,t,i,n),pl.initNonuniformCatmullRom(a.y,h.y,d.y,o.y,t,i,n),ml.initNonuniformCatmullRom(a.z,h.z,d.z,o.z,t,i,n)}else"catmullrom"===this.curveType&&(ul.initCatmullRom(a.x,h.x,d.x,o.x,this.tension),pl.initCatmullRom(a.y,h.y,d.y,o.y,this.tension),ml.initCatmullRom(a.z,h.z,d.z,o.z,this.tension));return i.set(ul.calc(c),pl.calc(c),ml.calc(c)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const i=e.points[t];this.points.push((new oi).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function gl(e,t,i,n,r){const s=.5*(n-t),a=.5*(r-i),o=e*e;return(2*i-2*n+s+a)*(e*o)+(-3*i+3*n-2*s-a)*o+s*e+i}function yl(e,t,i,n){return function(e,t){const i=1-e;return i*i*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,i)+function(e,t){return e*e*t}(e,n)}function vl(e,t,i,n,r){return function(e,t){const i=1-e;return i*i*i*t}(e,t)+function(e,t){const i=1-e;return 3*i*i*e*t}(e,i)+function(e,t){return 3*(1-e)*e*e*t}(e,n)+function(e,t){return e*e*e*t}(e,r)}fl.prototype.isCatmullRomCurve3=!0;class xl extends ol{constructor(e=new qt,t=new qt,i=new qt,n=new qt){super(),this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=n}getPoint(e,t=new qt){const i=t,n=this.v0,r=this.v1,s=this.v2,a=this.v3;return i.set(vl(e,n.x,r.x,s.x,a.x),vl(e,n.y,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}xl.prototype.isCubicBezierCurve=!0;class Ml extends ol{constructor(e=new oi,t=new oi,i=new oi,n=new oi){super(),this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=n}getPoint(e,t=new oi){const i=t,n=this.v0,r=this.v1,s=this.v2,a=this.v3;return i.set(vl(e,n.x,r.x,s.x,a.x),vl(e,n.y,r.y,s.y,a.y),vl(e,n.z,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}Ml.prototype.isCubicBezierCurve3=!0;class wl extends ol{constructor(e=new qt,t=new qt){super(),this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new qt){const i=t;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){const i=t||new qt;return i.copy(this.v2).sub(this.v1).normalize(),i}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}wl.prototype.isLineCurve=!0;class Sl extends ol{constructor(e=new qt,t=new qt,i=new qt){super(),this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new qt){const i=t,n=this.v0,r=this.v1,s=this.v2;return i.set(yl(e,n.x,r.x,s.x),yl(e,n.y,r.y,s.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}Sl.prototype.isQuadraticBezierCurve=!0;class bl extends ol{constructor(e=new oi,t=new oi,i=new oi){super(),this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new oi){const i=t,n=this.v0,r=this.v1,s=this.v2;return i.set(yl(e,n.x,r.x,s.x),yl(e,n.y,r.y,s.y),yl(e,n.z,r.z,s.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}bl.prototype.isQuadraticBezierCurve3=!0;class Al extends ol{constructor(e=[]){super(),this.type="SplineCurve",this.points=e}getPoint(e,t=new qt){const i=t,n=this.points,r=(n.length-1)*e,s=Math.floor(r),a=r-s,o=n[0===s?s:s-1],l=n[s],c=n[s>n.length-2?n.length-1:s+1],h=n[s>n.length-3?n.length-1:s+2];return i.set(gl(a,o.x,l.x,c.x,h.x),gl(a,o.y,l.y,c.y,h.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const i=e.points[t];this.points.push((new qt).fromArray(i))}return this}}Al.prototype.isSplineCurve=!0;var El=Object.freeze({__proto__:null,ArcCurve:cl,CatmullRomCurve3:fl,CubicBezierCurve:xl,CubicBezierCurve3:Ml,EllipseCurve:ll,LineCurve:wl,LineCurve3:class extends ol{constructor(e=new oi,t=new oi){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=e,this.v2=t}getPoint(e,t=new oi){const i=t;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve:Sl,QuadraticBezierCurve3:bl,SplineCurve:Al});class Tl extends ol{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new wl(t,e))}getPoint(e,t){const i=e*this.getLength(),n=this.getCurveLengths();let r=0;for(;r<n.length;){if(n[r]>=i){const e=n[r]-i,s=this.curves[r],a=s.getLength(),o=0===a?0:1-e/a;return s.getPointAt(o,t)}r++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,n=this.curves.length;i<n;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let n=0,r=this.curves;n<r.length;n++){const s=r[n],a=s.isEllipseCurve?2*e:s.isLineCurve||s.isLineCurve3?1:s.isSplineCurve?e*s.points.length:e,o=s.getPoints(a);for(let e=0;e<o.length;e++){const n=o[e];i&&i.equals(n)||(t.push(n),i=n)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const i=e.curves[t];this.curves.push((new El[i.type]).fromJSON(i))}return this}}class Cl extends Tl{constructor(e){super(),this.type="Path",this.currentPoint=new qt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new wl(this.currentPoint.clone(),new qt(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,n){const r=new Sl(this.currentPoint.clone(),new qt(e,t),new qt(i,n));return this.curves.push(r),this.currentPoint.set(i,n),this}bezierCurveTo(e,t,i,n,r,s){const a=new xl(this.currentPoint.clone(),new qt(e,t),new qt(i,n),new qt(r,s));return this.curves.push(a),this.currentPoint.set(r,s),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new Al(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,n,r,s){const a=this.currentPoint.x,o=this.currentPoint.y;return this.absarc(e+a,t+o,i,n,r,s),this}absarc(e,t,i,n,r,s){return this.absellipse(e,t,i,i,n,r,s),this}ellipse(e,t,i,n,r,s,a,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,i,n,r,s,a,o),this}absellipse(e,t,i,n,r,s,a,o){const l=new ll(e,t,i,n,r,s,a,o);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Ll extends Cl{constructor(e){super(e),this.uuid=Pt(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,n=this.holes.length;i<n;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const i=e.holes[t];this.holes.push((new Cl).fromJSON(i))}return this}}const Rl=function(e,t,i=2){const n=t&&t.length,r=n?t[0]*i:e.length;let s=Vl(e,0,r,i,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c,h,d,u,p;if(n&&(s=function(e,t,i,n){const r=[];let s,a,o,l,c;for(s=0,a=t.length;s<a;s++)o=t[s]*n,l=s<a-1?t[s+1]*n:e.length,c=Vl(e,o,l,n,!1),c===c.next&&(c.steiner=!0),r.push(zl(c));for(r.sort(_l),s=0;s<r.length;s++)kl(r[s],i),i=Il(i,i.next);return i}(e,t,s,i)),e.length>80*i){o=c=e[0],l=h=e[1];for(let t=i;t<r;t+=i)d=e[t],u=e[t+1],d<o&&(o=d),u<l&&(l=u),d>c&&(c=d),u>h&&(h=u);p=Math.max(c-o,h-l),p=0!==p?1/p:0}return Pl(s,a,i,o,l,p),a};function Vl(e,t,i,n,r){let s,a;if(r===function(e,t,i,n){let r=0;for(let s=t,a=i-n;s<i;s+=n)r+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return r}(e,t,i,n)>0)for(s=t;s<i;s+=n)a=Ql(s,e[s],e[s+1],a);else for(s=i-n;s>=t;s-=n)a=Ql(s,e[s],e[s+1],a);return a&&Hl(a,a.next)&&(Xl(a),a=a.next),a}function Il(e,t){if(!e)return e;t||(t=e);let i,n=e;do{if(i=!1,n.steiner||!Hl(n,n.next)&&0!==Wl(n.prev,n,n.next))n=n.next;else{if(Xl(n),n=t=n.prev,n===n.next)break;i=!0}}while(i||n!==t);return t}function Pl(e,t,i,n,r,s,a){if(!e)return;!a&&s&&function(e,t,i,n){let r=e;do{null===r.z&&(r.z=Ol(r.x,r.y,t,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){let t,i,n,r,s,a,o,l,c=1;do{for(i=e,e=null,s=null,a=0;i;){for(a++,n=i,o=0,t=0;t<c&&(o++,n=n.nextZ,n);t++);for(l=c;o>0||l>0&&n;)0!==o&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,o--):(r=n,n=n.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;i=n}s.nextZ=null,c*=2}while(a>1)}(r)}(e,n,r,s);let o,l,c=e;for(;e.prev!==e.next;)if(o=e.prev,l=e.next,s?Dl(e,n,r,s):Ul(e))t.push(o.i/i),t.push(e.i/i),t.push(l.i/i),Xl(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?Pl(e=Bl(Il(e),t,i),t,i,n,r,s,2):2===a&&Nl(e,t,i,n,r,s):Pl(Il(e),t,i,n,r,s,1);break}}function Ul(e){const t=e.prev,i=e,n=e.next;if(Wl(t,i,n)>=0)return!1;let r=e.next.next;for(;r!==e.prev;){if(Fl(t.x,t.y,i.x,i.y,n.x,n.y,r.x,r.y)&&Wl(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Dl(e,t,i,n){const r=e.prev,s=e,a=e.next;if(Wl(r,s,a)>=0)return!1;const o=r.x<s.x?r.x<a.x?r.x:a.x:s.x<a.x?s.x:a.x,l=r.y<s.y?r.y<a.y?r.y:a.y:s.y<a.y?s.y:a.y,c=r.x>s.x?r.x>a.x?r.x:a.x:s.x>a.x?s.x:a.x,h=r.y>s.y?r.y>a.y?r.y:a.y:s.y>a.y?s.y:a.y,d=Ol(o,l,t,i,n),u=Ol(c,h,t,i,n);let p=e.prevZ,m=e.nextZ;for(;p&&p.z>=d&&m&&m.z<=u;){if(p!==e.prev&&p!==e.next&&Fl(r.x,r.y,s.x,s.y,a.x,a.y,p.x,p.y)&&Wl(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,m!==e.prev&&m!==e.next&&Fl(r.x,r.y,s.x,s.y,a.x,a.y,m.x,m.y)&&Wl(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&Fl(r.x,r.y,s.x,s.y,a.x,a.y,p.x,p.y)&&Wl(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=u;){if(m!==e.prev&&m!==e.next&&Fl(r.x,r.y,s.x,s.y,a.x,a.y,m.x,m.y)&&Wl(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function Bl(e,t,i){let n=e;do{const r=n.prev,s=n.next.next;!Hl(r,s)&&jl(r,n,n.next,s)&&Kl(r,s)&&Kl(s,r)&&(t.push(r.i/i),t.push(n.i/i),t.push(s.i/i),Xl(n),Xl(n.next),n=e=s),n=n.next}while(n!==e);return Il(n)}function Nl(e,t,i,n,r,s){let a=e;do{let e=a.next.next;for(;e!==a.prev;){if(a.i!==e.i&&Gl(a,e)){let o=Zl(a,e);return a=Il(a,a.next),o=Il(o,o.next),Pl(a,t,i,n,r,s),void Pl(o,t,i,n,r,s)}e=e.next}a=a.next}while(a!==e)}function _l(e,t){return e.x-t.x}function kl(e,t){if(t=function(e,t){let i=t;const n=e.x,r=e.y;let s,a=-1/0;do{if(r<=i.y&&r>=i.next.y&&i.next.y!==i.y){const e=i.x+(r-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(e<=n&&e>a){if(a=e,e===n){if(r===i.y)return i;if(r===i.next.y)return i.next}s=i.x<i.next.x?i:i.next}}i=i.next}while(i!==t);if(!s)return null;if(n===a)return s;const o=s,l=s.x,c=s.y;let h,d=1/0;i=s;do{n>=i.x&&i.x>=l&&n!==i.x&&Fl(r<c?n:a,r,l,c,r<c?a:n,r,i.x,i.y)&&(h=Math.abs(r-i.y)/(n-i.x),Kl(i,e)&&(h<d||h===d&&(i.x>s.x||i.x===s.x&&ql(s,i)))&&(s=i,d=h)),i=i.next}while(i!==o);return s}(e,t),t){const i=Zl(t,e);Il(t,t.next),Il(i,i.next)}}function ql(e,t){return Wl(e.prev,e,t.prev)<0&&Wl(t.next,e,e.next)<0}function Ol(e,t,i,n,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function zl(e){let t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function Fl(e,t,i,n,r,s,a,o){return(r-a)*(t-o)-(e-a)*(s-o)>=0&&(e-a)*(n-o)-(i-a)*(t-o)>=0&&(i-a)*(s-o)-(r-a)*(n-o)>=0}function Gl(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&jl(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&(Kl(e,t)&&Kl(t,e)&&function(e,t){let i=e,n=!1;const r=(e.x+t.x)/2,s=(e.y+t.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==e);return n}(e,t)&&(Wl(e.prev,e,t.prev)||Wl(e,t.prev,t))||Hl(e,t)&&Wl(e.prev,e,e.next)>0&&Wl(t.prev,t,t.next)>0)}function Wl(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function Hl(e,t){return e.x===t.x&&e.y===t.y}function jl(e,t,i,n){const r=Jl(Wl(e,t,i)),s=Jl(Wl(e,t,n)),a=Jl(Wl(i,n,e)),o=Jl(Wl(i,n,t));return r!==s&&a!==o||(!(0!==r||!Yl(e,i,t))||(!(0!==s||!Yl(e,n,t))||(!(0!==a||!Yl(i,e,n))||!(0!==o||!Yl(i,t,n)))))}function Yl(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function Jl(e){return e>0?1:e<0?-1:0}function Kl(e,t){return Wl(e.prev,e,e.next)<0?Wl(e,t,e.next)>=0&&Wl(e,e.prev,t)>=0:Wl(e,t,e.prev)<0||Wl(e,e.next,t)<0}function Zl(e,t){const i=new $l(e.i,e.x,e.y),n=new $l(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function Ql(e,t,i,n){const r=new $l(e,t,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function Xl(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function $l(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class ec{static area(e){const t=e.length;let i=0;for(let n=t-1,r=0;r<t;n=r++)i+=e[n].x*e[r].y-e[r].x*e[n].y;return.5*i}static isClockWise(e){return ec.area(e)<0}static triangulateShape(e,t){const i=[],n=[],r=[];tc(e),ic(i,e);let s=e.length;t.forEach(tc);for(let e=0;e<t.length;e++)n.push(s),s+=t[e].length,ic(i,t[e]);const a=Rl(i,n);for(let e=0;e<a.length;e+=3)r.push(a.slice(e,e+3));return r}}function tc(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function ic(e,t){for(let i=0;i<t.length;i++)e.push(t[i].x),e.push(t[i].y)}class nc extends kn{constructor(e=new Ll([new qt(.5,.5),new qt(-.5,.5),new qt(-.5,-.5),new qt(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,n=[],r=[];for(let t=0,i=e.length;t<i;t++){s(e[t])}function s(e){const s=[],a=void 0!==t.curveSegments?t.curveSegments:12,o=void 0!==t.steps?t.steps:1;let l=void 0!==t.depth?t.depth:1,c=void 0===t.bevelEnabled||t.bevelEnabled,h=void 0!==t.bevelThickness?t.bevelThickness:.2,d=void 0!==t.bevelSize?t.bevelSize:h-.1,u=void 0!==t.bevelOffset?t.bevelOffset:0,p=void 0!==t.bevelSegments?t.bevelSegments:3;const m=t.extrudePath,f=void 0!==t.UVGenerator?t.UVGenerator:rc;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);let g,y,v,x,M,w=!1;m&&(g=m.getSpacedPoints(o),w=!0,c=!1,y=m.computeFrenetFrames(o,!1),v=new oi,x=new oi,M=new oi),c||(p=0,h=0,d=0,u=0);const S=e.extractPoints(a);let b=S.shape;const A=S.holes;if(!ec.isClockWise(b)){b=b.reverse();for(let e=0,t=A.length;e<t;e++){const t=A[e];ec.isClockWise(t)&&(A[e]=t.reverse())}}const E=ec.triangulateShape(b,A),T=b;for(let e=0,t=A.length;e<t;e++){const t=A[e];b=b.concat(t)}function C(e,t,i){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(i).add(e)}const L=b.length,R=E.length;function V(e,t,i){let n,r,s;const a=e.x-t.x,o=e.y-t.y,l=i.x-e.x,c=i.y-e.y,h=a*a+o*o,d=a*c-o*l;if(Math.abs(d)>Number.EPSILON){const d=Math.sqrt(h),u=Math.sqrt(l*l+c*c),p=t.x-o/d,m=t.y+a/d,f=((i.x-c/u-p)*c-(i.y+l/u-m)*l)/(a*c-o*l);n=p+a*f-e.x,r=m+o*f-e.y;const g=n*n+r*r;if(g<=2)return new qt(n,r);s=Math.sqrt(g/2)}else{let e=!1;a>Number.EPSILON?l>Number.EPSILON&&(e=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(o)===Math.sign(c)&&(e=!0),e?(n=-o,r=a,s=Math.sqrt(h)):(n=a,r=o,s=Math.sqrt(h/2))}return new qt(n/s,r/s)}const I=[];for(let e=0,t=T.length,i=t-1,n=e+1;e<t;e++,i++,n++)i===t&&(i=0),n===t&&(n=0),I[e]=V(T[e],T[i],T[n]);const P=[];let U,D=I.concat();for(let e=0,t=A.length;e<t;e++){const t=A[e];U=[];for(let e=0,i=t.length,n=i-1,r=e+1;e<i;e++,n++,r++)n===i&&(n=0),r===i&&(r=0),U[e]=V(t[e],t[n],t[r]);P.push(U),D=D.concat(U)}for(let e=0;e<p;e++){const t=e/p,i=h*Math.cos(t*Math.PI/2),n=d*Math.sin(t*Math.PI/2)+u;for(let e=0,t=T.length;e<t;e++){const t=C(T[e],I[e],n);_(t.x,t.y,-i)}for(let e=0,t=A.length;e<t;e++){const t=A[e];U=P[e];for(let e=0,r=t.length;e<r;e++){const r=C(t[e],U[e],n);_(r.x,r.y,-i)}}}const B=d+u;for(let e=0;e<L;e++){const t=c?C(b[e],D[e],B):b[e];w?(x.copy(y.normals[0]).multiplyScalar(t.x),v.copy(y.binormals[0]).multiplyScalar(t.y),M.copy(g[0]).add(x).add(v),_(M.x,M.y,M.z)):_(t.x,t.y,0)}for(let e=1;e<=o;e++)for(let t=0;t<L;t++){const i=c?C(b[t],D[t],B):b[t];w?(x.copy(y.normals[e]).multiplyScalar(i.x),v.copy(y.binormals[e]).multiplyScalar(i.y),M.copy(g[e]).add(x).add(v),_(M.x,M.y,M.z)):_(i.x,i.y,l/o*e)}for(let e=p-1;e>=0;e--){const t=e/p,i=h*Math.cos(t*Math.PI/2),n=d*Math.sin(t*Math.PI/2)+u;for(let e=0,t=T.length;e<t;e++){const t=C(T[e],I[e],n);_(t.x,t.y,l+i)}for(let e=0,t=A.length;e<t;e++){const t=A[e];U=P[e];for(let e=0,r=t.length;e<r;e++){const r=C(t[e],U[e],n);w?_(r.x,r.y+g[o-1].y,g[o-1].x+i):_(r.x,r.y,l+i)}}}function N(e,t){let i=e.length;for(;--i>=0;){const n=i;let r=i-1;r<0&&(r=e.length-1);for(let e=0,i=o+2*p;e<i;e++){const i=L*e,s=L*(e+1);q(t+n+i,t+r+i,t+r+s,t+n+s)}}}function _(e,t,i){s.push(e),s.push(t),s.push(i)}function k(e,t,r){O(e),O(t),O(r);const s=n.length/3,a=f.generateTopUV(i,n,s-3,s-2,s-1);z(a[0]),z(a[1]),z(a[2])}function q(e,t,r,s){O(e),O(t),O(s),O(t),O(r),O(s);const a=n.length/3,o=f.generateSideWallUV(i,n,a-6,a-3,a-2,a-1);z(o[0]),z(o[1]),z(o[3]),z(o[1]),z(o[2]),z(o[3])}function O(e){n.push(s[3*e+0]),n.push(s[3*e+1]),n.push(s[3*e+2])}function z(e){r.push(e.x),r.push(e.y)}!function(){const e=n.length/3;if(c){let e=0,t=L*e;for(let e=0;e<R;e++){const i=E[e];k(i[2]+t,i[1]+t,i[0]+t)}e=o+2*p,t=L*e;for(let e=0;e<R;e++){const i=E[e];k(i[0]+t,i[1]+t,i[2]+t)}}else{for(let e=0;e<R;e++){const t=E[e];k(t[2],t[1],t[0])}for(let e=0;e<R;e++){const t=E[e];k(t[0]+L*o,t[1]+L*o,t[2]+L*o)}}i.addGroup(e,n.length/3-e,0)}(),function(){const e=n.length/3;let t=0;N(T,t),t+=T.length;for(let e=0,i=A.length;e<i;e++){const i=A[e];N(i,t),t+=i.length}i.addGroup(e,n.length/3-e,1)}()}this.setAttribute("position",new Vn(n,3)),this.setAttribute("uv",new Vn(r,2)),this.computeVertexNormals()}toJSON(){const e=super.toJSON();return function(e,t,i){if(i.shapes=[],Array.isArray(e))for(let t=0,n=e.length;t<n;t++){const n=e[t];i.shapes.push(n.uuid)}else i.shapes.push(e.uuid);void 0!==t.extrudePath&&(i.options.extrudePath=t.extrudePath.toJSON());return i}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const i=[];for(let n=0,r=e.shapes.length;n<r;n++){const r=t[e.shapes[n]];i.push(r)}const n=e.options.extrudePath;return void 0!==n&&(e.options.extrudePath=(new El[n.type]).fromJSON(n)),new nc(i,e.options)}}const rc={generateTopUV:function(e,t,i,n,r){const s=t[3*i],a=t[3*i+1],o=t[3*n],l=t[3*n+1],c=t[3*r],h=t[3*r+1];return[new qt(s,a),new qt(o,l),new qt(c,h)]},generateSideWallUV:function(e,t,i,n,r,s){const a=t[3*i],o=t[3*i+1],l=t[3*i+2],c=t[3*n],h=t[3*n+1],d=t[3*n+2],u=t[3*r],p=t[3*r+1],m=t[3*r+2],f=t[3*s],g=t[3*s+1],y=t[3*s+2];return Math.abs(o-h)<Math.abs(a-c)?[new qt(a,1-l),new qt(c,1-d),new qt(u,1-m),new qt(f,1-y)]:[new qt(o,1-l),new qt(h,1-d),new qt(p,1-m),new qt(g,1-y)]}};class sc extends tl{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new sc(e.radius,e.detail)}}class ac extends kn{constructor(e=new Ll([new qt(0,.5),new qt(-.5,-.5),new qt(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],n=[],r=[],s=[];let a=0,o=0;if(!1===Array.isArray(e))l(e);else for(let t=0;t<e.length;t++)l(e[t]),this.addGroup(a,o,t),a+=o,o=0;function l(e){const a=n.length/3,l=e.extractPoints(t);let c=l.shape;const h=l.holes;!1===ec.isClockWise(c)&&(c=c.reverse());for(let e=0,t=h.length;e<t;e++){const t=h[e];!0===ec.isClockWise(t)&&(h[e]=t.reverse())}const d=ec.triangulateShape(c,h);for(let e=0,t=h.length;e<t;e++){const t=h[e];c=c.concat(t)}for(let e=0,t=c.length;e<t;e++){const t=c[e];n.push(t.x,t.y,0),r.push(0,0,1),s.push(t.x,t.y)}for(let e=0,t=d.length;e<t;e++){const t=d[e],n=t[0]+a,r=t[1]+a,s=t[2]+a;i.push(n,r,s),o+=3}}this.setIndex(i),this.setAttribute("position",new Vn(n,3)),this.setAttribute("normal",new Vn(r,3)),this.setAttribute("uv",new Vn(s,2))}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let i=0,n=e.length;i<n;i++){const n=e[i];t.shapes.push(n.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const i=[];for(let n=0,r=e.shapes.length;n<r;n++){const r=t[e.shapes[n]];i.push(r)}return new ac(i,e.curveSegments)}}class oc extends kn{constructor(e=1,t=32,i=16,n=0,r=2*Math.PI,s=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:r,thetaStart:s,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const o=Math.min(s+a,Math.PI);let l=0;const c=[],h=new oi,d=new oi,u=[],p=[],m=[],f=[];for(let u=0;u<=i;u++){const g=[],y=u/i;let v=0;0==u&&0==s?v=.5/t:u==i&&o==Math.PI&&(v=-.5/t);for(let i=0;i<=t;i++){const o=i/t;h.x=-e*Math.cos(n+o*r)*Math.sin(s+y*a),h.y=e*Math.cos(s+y*a),h.z=e*Math.sin(n+o*r)*Math.sin(s+y*a),p.push(h.x,h.y,h.z),d.copy(h).normalize(),m.push(d.x,d.y,d.z),f.push(o+v,1-y),g.push(l++)}c.push(g)}for(let e=0;e<i;e++)for(let n=0;n<t;n++){const t=c[e][n+1],r=c[e][n],a=c[e+1][n],l=c[e+1][n+1];(0!==e||s>0)&&u.push(t,r,l),(e!==i-1||o<Math.PI)&&u.push(r,a,l)}this.setIndex(u),this.setAttribute("position",new Vn(p,3)),this.setAttribute("normal",new Vn(m,3)),this.setAttribute("uv",new Vn(f,2))}static fromJSON(e){return new oc(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class lc extends kn{constructor(e=1,t=.4,i=8,n=6,r=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:n,arc:r},i=Math.floor(i),n=Math.floor(n);const s=[],a=[],o=[],l=[],c=new oi,h=new oi,d=new oi;for(let s=0;s<=i;s++)for(let u=0;u<=n;u++){const p=u/n*r,m=s/i*Math.PI*2;h.x=(e+t*Math.cos(m))*Math.cos(p),h.y=(e+t*Math.cos(m))*Math.sin(p),h.z=t*Math.sin(m),a.push(h.x,h.y,h.z),c.x=e*Math.cos(p),c.y=e*Math.sin(p),d.subVectors(h,c).normalize(),o.push(d.x,d.y,d.z),l.push(u/n),l.push(s/i)}for(let e=1;e<=i;e++)for(let t=1;t<=n;t++){const i=(n+1)*e+t-1,r=(n+1)*(e-1)+t-1,a=(n+1)*(e-1)+t,o=(n+1)*e+t;s.push(i,r,o),s.push(r,a,o)}this.setIndex(s),this.setAttribute("position",new Vn(a,3)),this.setAttribute("normal",new Vn(o,3)),this.setAttribute("uv",new Vn(l,2))}static fromJSON(e){return new lc(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class cc extends bn{constructor(e){super(),this.type="ShadowMaterial",this.color=new Kt(0),this.transparent=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this}}cc.prototype.isShadowMaterial=!0;class hc extends lr{constructor(e){super(e),this.type="RawShaderMaterial"}}hc.prototype.isRawShaderMaterial=!0;class dc extends bn{constructor(e){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Kt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mt,this.normalScale=new qt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}dc.prototype.isMeshStandardMaterial=!0;class uc extends dc{constructor(e){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new qt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ut(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.sheenColor=new Kt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationColor=new Kt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Kt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}uc.prototype.isMeshPhysicalMaterial=!0;class pc extends bn{constructor(e){super(),this.type="MeshPhongMaterial",this.color=new Kt(16777215),this.specular=new Kt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mt,this.normalScale=new qt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}pc.prototype.isMeshPhongMaterial=!0;class mc extends bn{constructor(e){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Kt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mt,this.normalScale=new qt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}mc.prototype.isMeshToonMaterial=!0;class fc extends bn{constructor(e){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mt,this.normalScale=new qt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}fc.prototype.isMeshNormalMaterial=!0;class gc extends bn{constructor(e){super(),this.type="MeshLambertMaterial",this.color=new Kt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=W,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}gc.prototype.isMeshLambertMaterial=!0;class yc extends bn{constructor(e){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Kt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Mt,this.normalScale=new qt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}yc.prototype.isMeshMatcapMaterial=!0;class vc extends No{constructor(e){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}vc.prototype.isLineDashedMaterial=!0;const xc={ShadowMaterial:cc,SpriteMaterial:lo,RawShaderMaterial:hc,ShaderMaterial:lr,PointsMaterial:jo,MeshPhysicalMaterial:uc,MeshStandardMaterial:dc,MeshPhongMaterial:pc,MeshToonMaterial:mc,MeshNormalMaterial:fc,MeshLambertMaterial:gc,MeshDepthMaterial:Fa,MeshDistanceMaterial:Ga,MeshBasicMaterial:An,MeshMatcapMaterial:yc,LineDashedMaterial:vc,LineBasicMaterial:No,Material:bn};bn.fromType=function(e){return new xc[e]};const Mc={arraySlice:function(e,t,i){return Mc.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==i?i:e.length)):e.slice(t,i)},convertArray:function(e,t,i){return!e||!i&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){const t=e.length,i=new Array(t);for(let e=0;e!==t;++e)i[e]=e;return i.sort((function(t,i){return e[t]-e[i]})),i},sortedArray:function(e,t,i){const n=e.length,r=new e.constructor(n);for(let s=0,a=0;a!==n;++s){const n=i[s]*t;for(let i=0;i!==t;++i)r[a++]=e[n+i]}return r},flattenJSON:function(e,t,i,n){let r=1,s=e[0];for(;void 0!==s&&void 0===s[n];)s=e[r++];if(void 0===s)return;let a=s[n];if(void 0!==a)if(Array.isArray(a))do{a=s[n],void 0!==a&&(t.push(s.time),i.push.apply(i,a)),s=e[r++]}while(void 0!==s);else if(void 0!==a.toArray)do{a=s[n],void 0!==a&&(t.push(s.time),a.toArray(i,i.length)),s=e[r++]}while(void 0!==s);else do{a=s[n],void 0!==a&&(t.push(s.time),i.push(a)),s=e[r++]}while(void 0!==s)},subclip:function(e,t,i,n,r=30){const s=e.clone();s.name=t;const a=[];for(let e=0;e<s.tracks.length;++e){const t=s.tracks[e],o=t.getValueSize(),l=[],c=[];for(let e=0;e<t.times.length;++e){const s=t.times[e]*r;if(!(s<i||s>=n)){l.push(t.times[e]);for(let i=0;i<o;++i)c.push(t.values[e*o+i])}}0!==l.length&&(t.times=Mc.convertArray(l,t.times.constructor),t.values=Mc.convertArray(c,t.values.constructor),a.push(t))}s.tracks=a;let o=1/0;for(let e=0;e<s.tracks.length;++e)o>s.tracks[e].times[0]&&(o=s.tracks[e].times[0]);for(let e=0;e<s.tracks.length;++e)s.tracks[e].shift(-1*o);return s.resetDuration(),s},makeClipAdditive:function(e,t=0,i=e,n=30){n<=0&&(n=30);const r=i.tracks.length,s=t/n;for(let t=0;t<r;++t){const n=i.tracks[t],r=n.ValueTypeName;if("bool"===r||"string"===r)continue;const a=e.tracks.find((function(e){return e.name===n.name&&e.ValueTypeName===r}));if(void 0===a)continue;let o=0;const l=n.getValueSize();n.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(o=l/3);let c=0;const h=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=h/3);const d=n.times.length-1;let u;if(s<=n.times[0]){const e=o,t=l-o;u=Mc.arraySlice(n.values,e,t)}else if(s>=n.times[d]){const e=d*l+o,t=e+l-o;u=Mc.arraySlice(n.values,e,t)}else{const e=n.createInterpolant(),t=o,i=l-o;e.evaluate(s),u=Mc.arraySlice(e.resultBuffer,t,i)}if("quaternion"===r){(new ai).fromArray(u).normalize().conjugate().toArray(u)}const p=a.times.length;for(let e=0;e<p;++e){const t=e*h+c;if("quaternion"===r)ai.multiplyQuaternionsFlat(a.values,t,u,0,a.values,t);else{const e=h-2*c;for(let i=0;i<e;++i)a.values[t+i]-=u[i]}}}return e.blendMode=2501,e}};class wc{constructor(e,t,i,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,n=t[i],r=t[i-1];e:{t:{let s;i:{n:if(!(e<n)){for(let s=i+2;;){if(void 0===n){if(e<r)break n;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,e,r)}if(i===s)break;if(r=n,n=t[++i],e<n)break t}s=t.length;break i}if(e>=r)break e;{const a=t[1];e<a&&(i=2,r=a);for(let s=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(i===s)break;if(n=r,r=t[--i-1],e>=r)break t}s=i,i=0}}for(;i<s;){const n=i+s>>>1;e<t[n]?s=n:i=n+1}if(n=t[i],r=t[i-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,r,e)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,e,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=e*n;for(let e=0;e!==n;++e)t[e]=i[r+e];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}wc.prototype.beforeStart_=wc.prototype.copySampleValue_,wc.prototype.afterEnd_=wc.prototype.copySampleValue_;class Sc extends wc{constructor(e,t,i,n){super(e,t,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:pt,endingEnd:pt}}intervalChanged_(e,t,i){const n=this.parameterPositions;let r=e-2,s=e+1,a=n[r],o=n[s];if(void 0===a)switch(this.getSettings_().endingStart){case mt:r=e,a=2*t-i;break;case ft:r=n.length-2,a=t+n[r]-n[r+1];break;default:r=e,a=i}if(void 0===o)switch(this.getSettings_().endingEnd){case mt:s=e,o=2*i-t;break;case ft:s=1,o=i+n[1]-n[0];break;default:s=e-1,o=t}const l=.5*(i-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(o-i),this._offsetPrev=r*c,this._offsetNext=s*c}interpolate_(e,t,i,n){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,c=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,u=this._weightNext,p=(i-t)/(n-t),m=p*p,f=m*p,g=-d*f+2*d*m-d*p,y=(1+d)*f+(-1.5-2*d)*m+(-.5+d)*p+1,v=(-1-u)*f+(1.5+u)*m+.5*p,x=u*f-u*m;for(let e=0;e!==a;++e)r[e]=g*s[c+e]+y*s[l+e]+v*s[o+e]+x*s[h+e];return r}}class bc extends wc{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e,t,i,n){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=e*a,l=o-a,c=(i-t)/(n-t),h=1-c;for(let e=0;e!==a;++e)r[e]=s[l+e]*h+s[o+e]*c;return r}}class Ac extends wc{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ec{constructor(e,t,i,n){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Mc.convertArray(t,this.TimeBufferType),this.values=Mc.convertArray(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Mc.convertArray(e.times,Array),values:Mc.convertArray(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(i.interpolation=t)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new Ac(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new bc(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Sc(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ht:t=this.InterpolantFactoryMethodDiscrete;break;case dt:t=this.InterpolantFactoryMethodLinear;break;case ut:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ht;case this.InterpolantFactoryMethodLinear:return dt;case this.InterpolantFactoryMethodSmooth:return ut}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,n=t.length;i!==n;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,n=t.length;i!==n;++i)t[i]*=e}return this}trim(e,t){const i=this.times,n=i.length;let r=0,s=n-1;for(;r!==n&&i[r]<e;)++r;for(;-1!==s&&i[s]>t;)--s;if(++s,0!==r||s!==n){r>=s&&(s=Math.max(s,1),r=s-1);const e=this.getValueSize();this.times=Mc.arraySlice(i,r,s),this.values=Mc.arraySlice(this.values,r*e,s*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,n=this.values,r=i.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let s=null;for(let t=0;t!==r;t++){const n=i[t];if("number"==typeof n&&isNaN(n)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,n),e=!1;break}if(null!==s&&s>n){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,n,s),e=!1;break}s=n}if(void 0!==n&&Mc.isTypedArray(n))for(let t=0,i=n.length;t!==i;++t){const i=n[t];if(isNaN(i)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,i),e=!1;break}}return e}optimize(){const e=Mc.arraySlice(this.times),t=Mc.arraySlice(this.values),i=this.getValueSize(),n=this.getInterpolation()===ut,r=e.length-1;let s=1;for(let a=1;a<r;++a){let r=!1;const o=e[a];if(o!==e[a+1]&&(1!==a||o!==e[0]))if(n)r=!0;else{const e=a*i,n=e-i,s=e+i;for(let a=0;a!==i;++a){const i=t[e+a];if(i!==t[n+a]||i!==t[s+a]){r=!0;break}}}if(r){if(a!==s){e[s]=e[a];const n=a*i,r=s*i;for(let e=0;e!==i;++e)t[r+e]=t[n+e]}++s}}if(r>0){e[s]=e[r];for(let e=r*i,n=s*i,a=0;a!==i;++a)t[n+a]=t[e+a];++s}return s!==e.length?(this.times=Mc.arraySlice(e,0,s),this.values=Mc.arraySlice(t,0,s*i)):(this.times=e,this.values=t),this}clone(){const e=Mc.arraySlice(this.times,0),t=Mc.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Ec.prototype.TimeBufferType=Float32Array,Ec.prototype.ValueBufferType=Float32Array,Ec.prototype.DefaultInterpolation=dt;class Tc extends Ec{}Tc.prototype.ValueTypeName="bool",Tc.prototype.ValueBufferType=Array,Tc.prototype.DefaultInterpolation=ht,Tc.prototype.InterpolantFactoryMethodLinear=void 0,Tc.prototype.InterpolantFactoryMethodSmooth=void 0;class Cc extends Ec{}Cc.prototype.ValueTypeName="color";class Lc extends Ec{}Lc.prototype.ValueTypeName="number";class Rc extends wc{constructor(e,t,i,n){super(e,t,i,n)}interpolate_(e,t,i,n){const r=this.resultBuffer,s=this.sampleValues,a=this.valueSize,o=(i-t)/(n-t);let l=e*a;for(let e=l+a;l!==e;l+=4)ai.slerpFlat(r,0,s,l-a,s,l,o);return r}}class Vc extends Ec{InterpolantFactoryMethodLinear(e){return new Rc(this.times,this.values,this.getValueSize(),e)}}Vc.prototype.ValueTypeName="quaternion",Vc.prototype.DefaultInterpolation=dt,Vc.prototype.InterpolantFactoryMethodSmooth=void 0;class Ic extends Ec{}Ic.prototype.ValueTypeName="string",Ic.prototype.ValueBufferType=Array,Ic.prototype.DefaultInterpolation=ht,Ic.prototype.InterpolantFactoryMethodLinear=void 0,Ic.prototype.InterpolantFactoryMethodSmooth=void 0;class Pc extends Ec{}Pc.prototype.ValueTypeName="vector";class Uc{constructor(e,t=-1,i,n=2500){this.name=e,this.tracks=i,this.duration=t,this.blendMode=n,this.uuid=Pt(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,n=1/(e.fps||1);for(let e=0,r=i.length;e!==r;++e)t.push(Dc(i[e]).scale(n));const r=new this(e.name,e.duration,t,e.blendMode);return r.uuid=e.uuid,r}static toJSON(e){const t=[],i=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,n=i.length;e!==n;++e)t.push(Ec.toJSON(i[e]));return n}static CreateFromMorphTargetSequence(e,t,i,n){const r=t.length,s=[];for(let e=0;e<r;e++){let a=[],o=[];a.push((e+r-1)%r,e,(e+1)%r),o.push(0,1,0);const l=Mc.getKeyframeOrder(a);a=Mc.sortedArray(a,1,l),o=Mc.sortedArray(o,1,l),n||0!==a[0]||(a.push(r),o.push(o[0])),s.push(new Lc(".morphTargetInfluences["+t[e].name+"]",a,o).scale(1/i))}return new this(e,-1,s)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const t=e;i=t.geometry&&t.geometry.animations||t.animations}for(let e=0;e<i.length;e++)if(i[e].name===t)return i[e];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const n={},r=/^([\w-]*?)([\d]+)$/;for(let t=0,i=e.length;t<i;t++){const i=e[t],s=i.name.match(r);if(s&&s.length>1){const e=s[1];let t=n[e];t||(n[e]=t=[]),t.push(i)}}const s=[];for(const e in n)s.push(this.CreateFromMorphTargetSequence(e,n[e],t,i));return s}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(e,t,i,n,r){if(0!==i.length){const s=[],a=[];Mc.flattenJSON(i,s,a,n),0!==s.length&&r.push(new e(t,s,a))}},n=[],r=e.name||"default",s=e.fps||30,a=e.blendMode;let o=e.length||-1;const l=e.hierarchy||[];for(let e=0;e<l.length;e++){const r=l[e].keys;if(r&&0!==r.length)if(r[0].morphTargets){const e={};let t;for(t=0;t<r.length;t++)if(r[t].morphTargets)for(let i=0;i<r[t].morphTargets.length;i++)e[r[t].morphTargets[i]]=-1;for(const i in e){const e=[],s=[];for(let n=0;n!==r[t].morphTargets.length;++n){const n=r[t];e.push(n.time),s.push(n.morphTarget===i?1:0)}n.push(new Lc(".morphTargetInfluence["+i+"]",e,s))}o=e.length*s}else{const s=".bones["+t[e].name+"]";i(Pc,s+".position",r,"pos",n),i(Vc,s+".quaternion",r,"rot",n),i(Pc,s+".scale",r,"scl",n)}}if(0===n.length)return null;return new this(r,o,n,a)}resetDuration(){let e=0;for(let t=0,i=this.tracks.length;t!==i;++t){const i=this.tracks[t];e=Math.max(e,i.times[i.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Dc(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Lc;case"vector":case"vector2":case"vector3":case"vector4":return Pc;case"color":return Cc;case"quaternion":return Vc;case"bool":case"boolean":return Tc;case"string":return Ic}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],i=[];Mc.flattenJSON(e.keys,t,i,"value"),e.times=t,e.values=i}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const Bc={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};const Nc=new class{constructor(e,t,i){const n=this;let r,s=!1,a=0,o=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(e){o++,!1===s&&void 0!==n.onStart&&n.onStart(e,a,o),s=!0},this.itemEnd=function(e){a++,void 0!==n.onProgress&&n.onProgress(e,a,o),a===o&&(s=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)},this.resolveURL=function(e){return r?r(e):e},this.setURLModifier=function(e){return r=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,i=l.length;t<i;t+=2){const i=l[t],n=l[t+1];if(i.global&&(i.lastIndex=0),i.test(e))return n}return null}}};class _c{constructor(e){this.manager=void 0!==e?e:Nc,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise((function(n,r){i.load(e,n,t,r)}))}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const kc={};class qc extends _c{constructor(e){super(e)}load(e,t,i,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=Bc.get(e);if(void 0!==r)return this.manager.itemStart(e),setTimeout((()=>{t&&t(r),this.manager.itemEnd(e)}),0),r;if(void 0!==kc[e])return void kc[e].push({onLoad:t,onProgress:i,onError:n});kc[e]=[],kc[e].push({onLoad:t,onProgress:i,onError:n});const s=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,o=this.responseType;fetch(s).then((t=>{if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const i=kc[e],n=t.body.getReader(),r=t.headers.get("Content-Length"),s=r?parseInt(r):0,a=0!==s;let o=0;const l=new ReadableStream({start(e){!function t(){n.read().then((({done:n,value:r})=>{if(n)e.close();else{o+=r.byteLength;const n=new ProgressEvent("progress",{lengthComputable:a,loaded:o,total:s});for(let e=0,t=i.length;e<t;e++){const t=i[e];t.onProgress&&t.onProgress(n)}e.enqueue(r),t()}}))}()}});return new Response(l)}throw Error(`fetch for "${t.url}" responded with ${t.status}: ${t.statusText}`)})).then((e=>{switch(o){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((e=>(new DOMParser).parseFromString(e,a)));case"json":return e.json();default:if(void 0===a)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(a),i=t&&t[1]?t[1].toLowerCase():void 0,n=new TextDecoder(i);return e.arrayBuffer().then((e=>n.decode(e)))}}})).then((t=>{Bc.add(e,t);const i=kc[e];delete kc[e];for(let e=0,n=i.length;e<n;e++){const n=i[e];n.onLoad&&n.onLoad(t)}})).catch((t=>{const i=kc[e];if(void 0===i)throw this.manager.itemError(e),t;delete kc[e];for(let e=0,n=i.length;e<n;e++){const n=i[e];n.onError&&n.onError(t)}this.manager.itemError(e)})).finally((()=>{this.manager.itemEnd(e)})),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Oc extends _c{constructor(e){super(e)}load(e,t,i,n){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=Bc.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout((function(){t&&t(s),r.manager.itemEnd(e)}),0),s;const a=Ft("img");function o(){c(),Bc.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(t){c(),n&&n(t),r.manager.itemError(e),r.manager.itemEnd(e)}function c(){a.removeEventListener("load",o,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",o,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(e),a.src=e,a}}class zc extends _c{constructor(e){super(e)}load(e,t,i,n){const r=new pr,s=new Oc(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let a=0;function o(i){s.load(e[i],(function(e){r.images[i]=e,a++,6===a&&(r.needsUpdate=!0,t&&t(r))}),void 0,n)}for(let t=0;t<e.length;++t)o(t);return r}}class Fc extends _c{constructor(e){super(e)}load(e,t,i,n){const r=new ti,s=new Oc(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(e,(function(e){r.image=e,r.needsUpdate=!0,void 0!==t&&t(r)}),i,n),r}}class Gc extends hn{constructor(e,t=1){super(),this.type="Light",this.color=new Kt(e),this.intensity=t}dispose(){}copy(e){return super.copy(e),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}Gc.prototype.isLight=!0;class Wc extends Gc{constructor(e,t,i){super(e,i),this.type="HemisphereLight",this.position.copy(hn.DefaultUp),this.updateMatrix(),this.groundColor=new Kt(t)}copy(e){return Gc.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}Wc.prototype.isHemisphereLight=!0;const Hc=new ki,jc=new oi,Yc=new oi;class Jc{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new qt(512,512),this.map=null,this.mapPass=null,this.matrix=new ki,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new wr,this._frameExtents=new qt(1,1),this._viewportCount=1,this._viewports=[new ii(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;jc.setFromMatrixPosition(e.matrixWorld),t.position.copy(jc),Yc.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Yc),t.updateMatrixWorld(),Hc.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Hc),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(t.projectionMatrix),i.multiply(t.matrixWorldInverse)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Kc extends Jc{constructor(){super(new hr(50,1,.5,500)),this.focus=1}updateMatrices(e){const t=this.camera,i=2*It*e.angle*this.focus,n=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;i===t.fov&&n===t.aspect&&r===t.far||(t.fov=i,t.aspect=n,t.far=r,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}Kc.prototype.isSpotLightShadow=!0;(class extends Gc{constructor(e,t,i=0,n=Math.PI/3,r=0,s=1){super(e,t),this.type="SpotLight",this.position.copy(hn.DefaultUp),this.updateMatrix(),this.target=new hn,this.distance=i,this.angle=n,this.penumbra=r,this.decay=s,this.shadow=new Kc}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}).prototype.isSpotLight=!0;const Zc=new ki,Qc=new oi,Xc=new oi;class $c extends Jc{constructor(){super(new hr(90,1,.5,500)),this._frameExtents=new qt(4,2),this._viewportCount=6,this._viewports=[new ii(2,1,1,1),new ii(0,1,1,1),new ii(3,1,1,1),new ii(1,1,1,1),new ii(3,0,1,1),new ii(1,0,1,1)],this._cubeDirections=[new oi(1,0,0),new oi(-1,0,0),new oi(0,0,1),new oi(0,0,-1),new oi(0,1,0),new oi(0,-1,0)],this._cubeUps=[new oi(0,1,0),new oi(0,1,0),new oi(0,1,0),new oi(0,1,0),new oi(0,0,1),new oi(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,n=this.matrix,r=e.distance||i.far;r!==i.far&&(i.far=r,i.updateProjectionMatrix()),Qc.setFromMatrixPosition(e.matrixWorld),i.position.copy(Qc),Xc.copy(i.position),Xc.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(Xc),i.updateMatrixWorld(),n.makeTranslation(-Qc.x,-Qc.y,-Qc.z),Zc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Zc)}}$c.prototype.isPointLightShadow=!0;class eh extends Gc{constructor(e,t,i=0,n=1){super(e,t),this.type="PointLight",this.distance=i,this.decay=n,this.shadow=new $c}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}eh.prototype.isPointLight=!0;class th extends Jc{constructor(){super(new Dr(-5,5,5,-5,.5,500))}}th.prototype.isDirectionalLightShadow=!0;class ih extends Gc{constructor(e,t){super(e,t),this.type="DirectionalLight",this.position.copy(hn.DefaultUp),this.updateMatrix(),this.target=new hn,this.shadow=new th}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}ih.prototype.isDirectionalLight=!0;class nh extends Gc{constructor(e,t){super(e,t),this.type="AmbientLight"}}nh.prototype.isAmbientLight=!0;(class extends Gc{constructor(e,t,i=10,n=10){super(e,t),this.type="RectAreaLight",this.width=i,this.height=n}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}).prototype.isRectAreaLight=!0;class rh{constructor(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new oi)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,n=e.y,r=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.282095),t.addScaledVector(s[1],.488603*n),t.addScaledVector(s[2],.488603*r),t.addScaledVector(s[3],.488603*i),t.addScaledVector(s[4],i*n*1.092548),t.addScaledVector(s[5],n*r*1.092548),t.addScaledVector(s[6],.315392*(3*r*r-1)),t.addScaledVector(s[7],i*r*1.092548),t.addScaledVector(s[8],.546274*(i*i-n*n)),t}getIrradianceAt(e,t){const i=e.x,n=e.y,r=e.z,s=this.coefficients;return t.copy(s[0]).multiplyScalar(.886227),t.addScaledVector(s[1],1.023328*n),t.addScaledVector(s[2],1.023328*r),t.addScaledVector(s[3],1.023328*i),t.addScaledVector(s[4],.858086*i*n),t.addScaledVector(s[5],.858086*n*r),t.addScaledVector(s[6],.743125*r*r-.247708),t.addScaledVector(s[7],.858086*i*r),t.addScaledVector(s[8],.429043*(i*i-n*n)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let n=0;n<9;n++)i[n].fromArray(e,t+3*n);return this}toArray(e=[],t=0){const i=this.coefficients;for(let n=0;n<9;n++)i[n].toArray(e,t+3*n);return e}static getBasisAt(e,t){const i=e.x,n=e.y,r=e.z;t[0]=.282095,t[1]=.488603*n,t[2]=.488603*r,t[3]=.488603*i,t[4]=1.092548*i*n,t[5]=1.092548*n*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*i*r,t[8]=.546274*(i*i-n*n)}}rh.prototype.isSphericalHarmonics3=!0;class sh extends Gc{constructor(e=new rh,t=1){super(void 0,t),this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}sh.prototype.isLightProbe=!0;class ah{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let i=0,n=e.length;i<n;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch(e){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}(class extends kn{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const e=super.toJSON(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}).prototype.isInstancedBufferGeometry=!0;let oh;(class extends _c{constructor(e){super(e),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,n){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,s=Bc.get(e);if(void 0!==s)return r.manager.itemStart(e),setTimeout((function(){t&&t(s),r.manager.itemEnd(e)}),0),s;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader,fetch(e,a).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(r.options,{colorSpaceConversion:"none"}))})).then((function(i){Bc.add(e,i),t&&t(i),r.manager.itemEnd(e)})).catch((function(t){n&&n(t),r.manager.itemError(e),r.manager.itemEnd(e)})),r.manager.itemStart(e)}}).prototype.isImageBitmapLoader=!0;const lh=function(){return void 0===oh&&(oh=new(window.AudioContext||window.webkitAudioContext)),oh};class ch extends _c{constructor(e){super(e)}load(e,t,i,n){const r=this,s=new qc(this.manager);s.setResponseType("arraybuffer"),s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(i){try{const e=i.slice(0);lh().decodeAudioData(e,(function(e){t(e)}))}catch(t){n?n(t):console.error(t),r.manager.itemError(e)}}),i,n)}}(class extends sh{constructor(e,t,i=1){super(void 0,i);const n=(new Kt).set(e),r=(new Kt).set(t),s=new oi(n.r,n.g,n.b),a=new oi(r.r,r.g,r.b),o=Math.sqrt(Math.PI),l=o*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(a).multiplyScalar(o),this.sh.coefficients[1].copy(s).sub(a).multiplyScalar(l)}}).prototype.isHemisphereLightProbe=!0;(class extends sh{constructor(e,t=1){super(void 0,t);const i=(new Kt).set(e);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}}).prototype.isAmbientLightProbe=!0;class hh{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=dh(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=dh();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function dh(){return("undefined"==typeof performance?Date:performance).now()}class uh{constructor(e,t,i){let n,r,s;switch(this.binding=e,this.valueSize=i,t){case"quaternion":n=this._slerp,r=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":n=this._select,r=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:n=this._lerp,r=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=r,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,n=this.valueSize,r=e*n+n;let s=this.cumulativeWeight;if(0===s){for(let e=0;e!==n;++e)i[r+e]=i[e];s=t}else{s+=t;const e=t/s;this._mixBufferRegion(i,r,0,e,n)}this.cumulativeWeight=s}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,n=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,n=e*t+t,r=this.cumulativeWeight,s=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const e=t*this._origIndex;this._mixBufferRegion(i,n,e,1-r,t)}s>0&&this._mixBufferRegionAdditive(i,n,this._addIndex*t,1,t);for(let e=t,r=t+t;e!==r;++e)if(i[e]!==i[e+t]){a.setValue(i,n);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,n=i*this._origIndex;e.getValue(t,n);for(let e=i,r=n;e!==r;++e)t[e]=t[n+e%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,n,r){if(n>=.5)for(let n=0;n!==r;++n)e[t+n]=e[i+n]}_slerp(e,t,i,n){ai.slerpFlat(e,t,e,t,e,i,n)}_slerpAdditive(e,t,i,n,r){const s=this._workIndex*r;ai.multiplyQuaternionsFlat(e,s,e,t,e,i),ai.slerpFlat(e,t,e,t,e,s,n)}_lerp(e,t,i,n,r){const s=1-n;for(let a=0;a!==r;++a){const r=t+a;e[r]=e[r]*s+e[i+a]*n}}_lerpAdditive(e,t,i,n,r){for(let s=0;s!==r;++s){const r=t+s;e[r]=e[r]+e[i+s]*n}}}const ph="\\[\\]\\.:\\/",mh=new RegExp("["+ph+"]","g"),fh="[^"+ph+"]",gh="[^"+ph.replace("\\.","")+"]",yh=/((?:WC+[\/:])*)/.source.replace("WC",fh),vh=/(WCOD+)?/.source.replace("WCOD",gh),xh=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",fh),Mh=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",fh),wh=new RegExp("^"+yh+vh+xh+Mh+"$"),Sh=["material","materials","bones"];class bh{constructor(e,t,i){this.path=t,this.parsedPath=i||bh.parseTrackName(t),this.node=bh.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new bh.Composite(e,t,i):new bh(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(mh,"")}static parseTrackName(e){const t=wh.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){const e=i.nodeName.substring(n+1);-1!==Sh.indexOf(e)&&(i.nodeName=i.nodeName.substring(0,n),i.objectName=e)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(void 0!==i)return i}if(e.children){const i=function(e){for(let n=0;n<e.length;n++){const r=e[n];if(r.name===t||r.uuid===t)return r;const s=i(r.children);if(s)return s}return null},n=i(e.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)e[t++]=i[n]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)i[n]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)i[n]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)i[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,n=t.propertyName;let r=t.propertyIndex;if(e||(e=bh.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(i){let n=t.objectIndex;switch(i){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===n){n=t;break}break;default:if(void 0===e[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[i]}if(void 0!==n){if(void 0===e[n])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[n]}}const s=e[n];if(void 0===s){const i=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i+"."+n+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===n){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[r]&&(r=e.morphTargetDictionary[r])}o=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(o=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(o=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}bh.Composite=class{constructor(e,t,i){const n=i||bh.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,n=this._bindings[i];void 0!==n&&n.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}},bh.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},bh.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},bh.prototype.GetterByBindingType=[bh.prototype._getValue_direct,bh.prototype._getValue_array,bh.prototype._getValue_arrayElement,bh.prototype._getValue_toArray],bh.prototype.SetterByBindingTypeAndVersioning=[[bh.prototype._setValue_direct,bh.prototype._setValue_direct_setNeedsUpdate,bh.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[bh.prototype._setValue_array,bh.prototype._setValue_array_setNeedsUpdate,bh.prototype._setValue_array_setMatrixWorldNeedsUpdate],[bh.prototype._setValue_arrayElement,bh.prototype._setValue_arrayElement_setNeedsUpdate,bh.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[bh.prototype._setValue_fromArray,bh.prototype._setValue_fromArray_setNeedsUpdate,bh.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Ah{constructor(e,t,i=null,n=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=n;const r=t.tracks,s=r.length,a=new Array(s),o={endingStart:pt,endingEnd:pt};for(let e=0;e!==s;++e){const t=r[e].createInterpolant(null);a[e]=t,t.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=ct,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i){if(e.fadeOut(t),this.fadeIn(t),i){const i=this._clip.duration,n=e._clip.duration,r=n/i,s=i/n;e.warp(1,r,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,i){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const n=this._mixer,r=n.time,s=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=n._lendControlInterpolant(),this._timeScaleInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=r,o[1]=r+i,l[0]=e/s,l[1]=t/s,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,n){if(!this.enabled)return void this._updateWeight(e);const r=this._startTime;if(null!==r){const n=(e-r)*i;if(n<0||0===i)return;this._startTime=null,t=i*n}t*=this._updateTimeScale(e);const s=this._updateTime(t),a=this._updateWeight(e);if(a>0){const e=this._interpolants,t=this._propertyBindings;if(2501===this.blendMode)for(let i=0,n=e.length;i!==n;++i)e[i].evaluate(s),t[i].accumulateAdditive(a);else for(let i=0,r=e.length;i!==r;++i)e[i].evaluate(s),t[i].accumulate(n,a)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(null!==i){const n=i.evaluate(e)[0];t*=n,e>i.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(null!==i){t*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let n=this.time+e,r=this._loopCount;const s=2202===i;if(0===e)return-1===r||!s||1&~r?n:t-n;if(2200===i){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else{if(!(n<0)){this.time=n;break e}n=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===r&&(e>=0?(r=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),n>=t||n<0){const i=Math.floor(n/t);n-=t*i,r+=Math.abs(i);const a=this.repetitions-r;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=e>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){const t=e<0;this._setEndings(t,!t,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:i})}}else this.time=n;if(s&&!(1&~r))return t-n}return n}_setEndings(e,t,i){const n=this._interpolantSettings;i?(n.endingStart=mt,n.endingEnd=mt):(n.endingStart=e?this.zeroSlopeAtStart?mt:pt:ft,n.endingEnd=t?this.zeroSlopeAtEnd?mt:pt:ft)}_scheduleFading(e,t,i){const n=this._mixer,r=n.time;let s=this._weightInterpolant;null===s&&(s=n._lendControlInterpolant(),this._weightInterpolant=s);const a=s.parameterPositions,o=s.sampleValues;return a[0]=r,o[0]=t,a[1]=r+e,o[1]=i,this}}class Eh extends Ct{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,n=e._clip.tracks,r=n.length,s=e._propertyBindings,a=e._interpolants,o=i.uuid,l=this._bindingsByRootAndName;let c=l[o];void 0===c&&(c={},l[o]=c);for(let e=0;e!==r;++e){const r=n[e],l=r.name;let h=c[l];if(void 0!==h)++h.referenceCount,s[e]=h;else{if(h=s[e],void 0!==h){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,o,l));continue}const n=t&&t._propertyBindings[e].binding.parsedPath;h=new uh(bh.create(i,l,n),r.ValueTypeName,r.getValueSize()),++h.referenceCount,this._addInactiveBinding(h,o,l),s[e]=h}a[e].resultBuffer=h.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,i=e._clip.uuid,n=this._actionsByClip[i];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,i,t)}const t=e._propertyBindings;for(let e=0,i=t.length;e!==i;++e){const i=t[e];0==i.useCount++&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,i=t.length;e!==i;++e){const i=t[e];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,i){const n=this._actions,r=this._actionsByClip;let s=r[t];if(void 0===s)s={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=s;else{const t=s.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=n.length,n.push(e),s.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],n=e._cacheIndex;i._cacheIndex=n,t[n]=i,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,s=this._actionsByClip,a=s[r],o=a.knownActions,l=o[o.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,o[c]=l,o.pop(),e._byClipCacheIndex=null;delete a.actionByRoot[(e._localRoot||this._root).uuid],0===o.length&&delete s[r],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let e=0,i=t.length;e!==i;++e){const i=t[e];0==--i.referenceCount&&this._removeInactiveBinding(i)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,n=this._nActiveActions++,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,n=--this._nActiveActions,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r}_addInactiveBinding(e,t,i){const n=this._bindingsByRootAndName,r=this._bindings;let s=n[t];void 0===s&&(s={},n[t]=s),s[i]=e,e._cacheIndex=r.length,r.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,n=i.rootNode.uuid,r=i.path,s=this._bindingsByRootAndName,a=s[n],o=t[t.length-1],l=e._cacheIndex;o._cacheIndex=l,t[l]=o,t.pop(),delete a[r],0===Object.keys(a).length&&delete s[n]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,n=this._nActiveBindings++,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,n=--this._nActiveBindings,r=t[n];e._cacheIndex=n,t[n]=e,r._cacheIndex=i,t[i]=r}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return void 0===i&&(i=new bc(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,n=--this._nActiveControlInterpolants,r=t[n];e.__cacheIndex=n,t[n]=e,r.__cacheIndex=i,t[i]=r}clipAction(e,t,i){const n=t||this._root,r=n.uuid;let s="string"==typeof e?Uc.findByName(n,e):e;const a=null!==s?s.uuid:e,o=this._actionsByClip[a];let l=null;if(void 0===i&&(i=null!==s?s.blendMode:gt),void 0!==o){const e=o.actionByRoot[r];if(void 0!==e&&e.blendMode===i)return e;l=o.knownActions[0],null===s&&(s=l._clip)}if(null===s)return null;const c=new Ah(this,s,t,i);return this._bindAction(c,l),this._addInactiveAction(c,a,r),c}existingAction(e,t){const i=t||this._root,n=i.uuid,r="string"==typeof e?Uc.findByName(i,e):e,s=r?r.uuid:e,a=this._actionsByClip[s];return void 0!==a&&a.actionByRoot[n]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,n=this.time+=e,r=Math.sign(e),s=this._accuIndex^=1;for(let a=0;a!==i;++a){t[a]._update(n,e,r,s)}const a=this._bindings,o=this._nActiveBindings;for(let e=0;e!==o;++e)a[e].apply(s);return this}setTime(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,n=this._actionsByClip,r=n[i];if(void 0!==r){const e=r.knownActions;for(let i=0,n=e.length;i!==n;++i){const n=e[i];this._deactivateAction(n);const r=n._cacheIndex,s=t[t.length-1];n._cacheIndex=null,n._byClipCacheIndex=null,s._cacheIndex=r,t[r]=s,t.pop(),this._removeInactiveBindingsForAction(n)}delete n[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const e in i){const n=i[e].actionByRoot[t];void 0!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}const n=this._bindingsByRootAndName[t];if(void 0!==n)for(const e in n){const t=n[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}}uncacheAction(e,t){const i=this.existingAction(e,t);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}Eh.prototype._controlInterpolantsResultBuffer=new Float32Array(1);(class extends so{constructor(e,t,i=1){super(e,t),this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}).prototype.isInstancedInterleavedBuffer=!0;class Th{constructor(e,t,i=0,n=1/0){this.ray=new _i(e,t),this.near=i,this.far=n,this.camera=null,this.layers=new Ki,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,i=[]){return Lh(e,this,i,t),i.sort(Ch),i}intersectObjects(e,t=!0,i=[]){for(let n=0,r=e.length;n<r;n++)Lh(e[n],this,i,t);return i.sort(Ch),i}}function Ch(e,t){return e.distance-t.distance}function Lh(e,t,i,n){if(e.layers.test(t.layers)&&e.raycast(t,i),!0===n){const n=e.children;for(let e=0,r=n.length;e<r;e++)Lh(n[e],t,i,!0)}}const Rh=new oi,Vh=new oi;class Ih{constructor(e=new oi,t=new oi){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Rh.subVectors(e,this.start),Vh.subVectors(this.end,this.start);const i=Vh.dot(Vh);let n=Vh.dot(Rh)/i;return t&&(n=Ut(n,0,1)),n}closestPointToPoint(e,t,i){const n=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(n).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}}const Ph=new oi,Uh=new ki,Dh=new ki;function Bh(e){const t=[];!0===e.isBone&&t.push(e);for(let i=0;i<e.children.length;i++)t.push.apply(t,Bh(e.children[i]));return t}class Nh extends Fo{constructor(e,t=1,i=16776960){const n=i,r=new kn;r.setAttribute("position",new Vn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),super(r,new No({color:n,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=new kn;s.setAttribute("position",new Vn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),s.computeBoundingSphere(),this.add(new ir(s,new An({color:n,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?u:d,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}}const _h=new oi;let kh,qh;class Oh extends hn{constructor(e=new oi(0,0,1),t=new oi(0,0,0),i=1,n=16776960,r=.2*i,s=.2*r){super(),this.type="ArrowHelper",void 0===kh&&(kh=new kn,kh.setAttribute("position",new Vn([0,0,0,0,1,0],3)),qh=new el(0,.5,1,5,1),qh.translate(0,-.5,0)),this.position.copy(t),this.line=new Fo(kh,new No({color:n,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ir(qh,new An({color:n,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,s)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{_h.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(_h,t)}}setLength(e,t=.2*e,i=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}class zh extends Ho{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=new kn;i.setAttribute("position",new Vn(t,3)),i.setAttribute("color",new Vn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(i,new No({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,i){const n=new Kt,r=this.geometry.attributes.color.array;return n.set(e),n.toArray(r,0),n.toArray(r,3),n.set(t),n.toArray(r,6),n.toArray(r,9),n.set(i),n.toArray(r,12),n.toArray(r,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}const Fh=new Float32Array(1);new Int32Array(Fh.buffer),ol.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(ol.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Cl.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)},class extends Ho{constructor(e=10,t=10,i=4473924,n=8947848){i=new Kt(i),n=new Kt(n);const r=t/2,s=e/t,a=e/2,o=[],l=[];for(let e=0,c=0,h=-a;e<=t;e++,h+=s){o.push(-a,0,h,a,0,h),o.push(h,0,-a,h,0,a);const t=e===r?i:n;t.toArray(l,c),c+=3,t.toArray(l,c),c+=3,t.toArray(l,c),c+=3,t.toArray(l,c),c+=3}const c=new kn;c.setAttribute("position",new Vn(o,3)),c.setAttribute("color",new Vn(l,3));super(c,new No({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class extends Ho{constructor(e){const t=Bh(e),i=new kn,n=[],r=[],s=new Kt(0,0,1),a=new Kt(0,1,0);for(let e=0;e<t.length;e++){const i=t[e];i.parent&&i.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(s.r,s.g,s.b),r.push(a.r,a.g,a.b))}i.setAttribute("position",new Vn(n,3)),i.setAttribute("color",new Vn(r,3));super(i,new No({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,n=i.getAttribute("position");Dh.copy(this.root.matrixWorld).invert();for(let e=0,i=0;e<t.length;e++){const r=t[e];r.parent&&r.parent.isBone&&(Uh.multiplyMatrices(Dh,r.matrixWorld),Ph.setFromMatrixPosition(Uh),n.setXYZ(i,Ph.x,Ph.y,Ph.z),Uh.multiplyMatrices(Dh,r.parent.matrixWorld),Ph.setFromMatrixPosition(Uh),n.setXYZ(i+1,Ph.x,Ph.y,Ph.z),i+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},_c.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),ah.extractUrlBase(e)},_c.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},hi.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},hi.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},hi.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},hi.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},hi.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},Ji.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},Ri.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},wr.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Ih.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Ot.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},Ot.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Ot.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Ot.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},Ot.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Ot.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},ki.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},ki.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},ki.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new oi).setFromMatrixColumn(this,3)},ki.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},ki.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},ki.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},ki.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},ki.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},ki.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},ki.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},ki.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},ki.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},ki.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},ki.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},ki.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},ki.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},ki.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},ki.prototype.makeFrustum=function(e,t,i,n,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,n,i,r,s)},ki.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},vr.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},ai.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},ai.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},_i.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},_i.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},_i.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},wn.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},wn.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},wn.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},wn.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},wn.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},wn.barycoordFromPoint=function(e,t,i,n,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),wn.getBarycoord(e,t,i,n,r)},wn.normal=function(e,t,i,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),wn.getNormal(e,t,i,n)},Ll.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Ll.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new nc(this,e)},Ll.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ac(this,e)},qt.prototype.fromAttribute=function(e,t,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},qt.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},qt.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},oi.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},oi.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},oi.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},oi.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},oi.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},oi.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},oi.prototype.fromAttribute=function(e,t,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},oi.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},oi.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},ii.prototype.fromAttribute=function(e,t,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,i)},ii.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},hn.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},hn.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},hn.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},hn.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},hn.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(hn.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),ir.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(ir.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Vo.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},hr.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Gc.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Cn.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===At},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(At)}}}),Cn.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?At:bt),this},Cn.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Cn.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},kn.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},kn.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Cn(arguments[1],arguments[2])))},kn.prototype.addDrawCall=function(e,t,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},kn.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},kn.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},kn.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},kn.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(kn.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),so.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?At:bt),this},so.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},nc.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},nc.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},nc.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},ro.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Object.defineProperties(bn.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Kt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(lr.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),no.prototype.clearTarget=function(e,t,i,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,i,n)},no.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},no.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},no.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},no.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},no.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},no.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},no.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},no.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},no.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},no.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},no.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},no.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},no.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},no.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},no.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},no.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},no.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},no.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},no.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},no.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},no.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},no.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},no.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},no.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(no.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?vt:yt}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(ja.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(ni.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),class extends hn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new ch).load(e,(function(e){t.setBuffer(e)})),this},ur.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},ur.prototype.clear=function(e,t,i,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,i,n)},Qt.crossOrigin=void 0,Qt.loadTexture=function(e,t,i,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new Fc;r.setCrossOrigin(this.crossOrigin);const s=r.load(e,i,void 0,n);return t&&(s.mapping=t),s},Qt.loadTextureCube=function(e,t,i,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new zc;r.setCrossOrigin(this.crossOrigin);const s=r.load(e,i,void 0,n);return t&&(s.mapping=t),s},Qt.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Qt.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:e}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=e);var Gh=function(){var e=0,t=document.createElement("div");function i(e){return t.appendChild(e.dom),e}function n(i){for(var n=0;n<t.children.length;n++)t.children[n].style.display=n===i?"block":"none";e=i}t.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",t.addEventListener("click",(function(i){i.preventDefault(),n(++e%t.children.length)}),!1);var r=(performance||Date).now(),s=r,a=0,o=i(new Gh.Panel("FPS","#0ff","#002")),l=i(new Gh.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var c=i(new Gh.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:t,addPanel:i,showPanel:n,begin:function(){r=(performance||Date).now()},end:function(){a++;var e=(performance||Date).now();if(l.update(e-r,200),e>=s+1e3&&(o.update(1e3*a/(e-s),100),s=e,a=0,c)){var t=performance.memory;c.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){r=this.end()},domElement:t,setMode:n}};Gh.Panel=function(e,t,i){var n=1/0,r=0,s=Math.round,a=s(window.devicePixelRatio||1),o=80*a,l=48*a,c=3*a,h=2*a,d=3*a,u=15*a,p=74*a,m=30*a,f=document.createElement("canvas");f.width=o,f.height=l,f.style.cssText="width:80px;height:48px";var g=f.getContext("2d");return g.font="bold "+9*a+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=i,g.fillRect(0,0,o,l),g.fillStyle=t,g.fillText(e,c,h),g.fillRect(d,u,p,m),g.fillStyle=i,g.globalAlpha=.9,g.fillRect(d,u,p,m),{dom:f,update:function(l,y){n=Math.min(n,l),r=Math.max(r,l),g.fillStyle=i,g.globalAlpha=1,g.fillRect(0,0,o,u),g.fillStyle=t,g.fillText(s(l)+" "+e+" ("+s(n)+"-"+s(r)+")",c,h),g.drawImage(f,d+a,u,p-a,m,d,u,p-a,m),g.fillRect(d+p-a,u,a,m),g.fillStyle=i,g.globalAlpha=.9,g.fillRect(d+p-a,u,a,s((1-l/y)*m))}}};var Wh={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-Wh.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*Wh.Bounce.In(2*e):.5*Wh.Bounce.Out(2*e-1)+.5}}},Hh="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},jh=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=Hh()),void 0===t&&(t=!1);var i=Object.keys(this._tweens);if(0===i.length)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var n=0;n<i.length;n++){var r=this._tweens[i[n]],s=!t;r&&!1===r.update(e,s)&&!t&&delete this._tweens[i[n]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),Yh={Linear:function(e,t){var i=e.length-1,n=i*t,r=Math.floor(n),s=Yh.Utils.Linear;return t<0?s(e[0],e[1],n):t>1?s(e[i],e[i-1],i-n):s(e[r],e[r+1>i?i:r+1],n-r)},Bezier:function(e,t){for(var i=0,n=e.length-1,r=Math.pow,s=Yh.Utils.Bernstein,a=0;a<=n;a++)i+=r(1-t,n-a)*r(t,a)*e[a]*s(n,a);return i},CatmullRom:function(e,t){var i=e.length-1,n=i*t,r=Math.floor(n),s=Yh.Utils.CatmullRom;return e[0]===e[i]?(t<0&&(r=Math.floor(n=i*(1+t))),s(e[(r-1+i)%i],e[r],e[(r+1)%i],e[(r+2)%i],n-r)):t<0?e[0]-(s(e[0],e[0],e[1],e[1],-n)-e[0]):t>1?e[i]-(s(e[i],e[i],e[i-1],e[i-1],n-i)-e[i]):s(e[r?r-1:0],e[r],e[i<r+1?i:r+1],e[i<r+2?i:r+2],n-r)},Utils:{Linear:function(e,t,i){return(t-e)*i+e},Bernstein:function(e,t){var i=Yh.Utils.Factorial;return i(e)/i(t)/i(e-t)},Factorial:function(){var e=[1];return function(t){var i=1;if(e[t])return e[t];for(var n=t;n>1;n--)i*=n;return e[t]=i,i}}(),CatmullRom:function(e,t,i,n,r){var s=.5*(i-e),a=.5*(n-t),o=r*r;return(2*t-2*i+s+a)*(r*o)+(-3*t+3*i-2*s-a)*o+s*r+t}}},Jh=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Kh=new jh,Zh=function(){function e(e,t){void 0===t&&(t=Kh),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Wh.Linear.None,this._interpolationFunction=Yh.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Jh.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"==typeof e?Hh()+parseFloat(e):e:Hh(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,i,n){for(var r in i){var s=e[r],a=Array.isArray(s),o=a?"array":typeof s,l=!a&&Array.isArray(i[r]);if("undefined"!==o&&"function"!==o){if(l){var c=i[r];if(0===c.length)continue;c=c.map(this._handleRelativeValue.bind(this,s)),i[r]=[s].concat(c)}if("object"!==o&&!a||!s||l)void 0===t[r]&&(t[r]=s),a||(t[r]*=1),n[r]=l?i[r].slice().reverse():t[r]||0;else{for(var h in t[r]=a?[]:{},s)t[r][h]=s[h];n[r]=a?[]:{},this._setupProperties(s,t[r],i[r],n[r])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=Hh()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=Hh()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=Hh()),void 0===t&&(t=!0),this._isPaused)return!0;var i,n,r=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>r)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),n=(e-this._startTime)/this._duration,n=0===this._duration||n>1?1:n;var s=this._easingFunction(n);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,s),this._onUpdateCallback&&this._onUpdateCallback(this._object,n),1===n){if(this._repeat>0){for(i in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[i]||(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var a=0,o=this._chainedTweens.length;a<o;a++)this._chainedTweens[a].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,i,n){for(var r in i)if(void 0!==t[r]){var s=t[r]||0,a=i[r],o=Array.isArray(e[r]),l=Array.isArray(a);!o&&l?e[r]=this._interpolationFunction(a,n):"object"==typeof a&&a?this._updateProperties(e[r],s,a,n):"number"==typeof(a=this._handleRelativeValue(s,a))&&(e[r]=s+(a-s)*n)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],i=this._valuesEnd[e];this._valuesStartRepeat[e]="string"==typeof i?this._valuesStartRepeat[e]+parseFloat(i):this._valuesEnd[e],this._valuesEnd[e]=t},e}();Jh.nextId;var Qh=Kh;Qh.getAll.bind(Qh);var Xh=Qh.removeAll.bind(Qh);Qh.add.bind(Qh),Qh.remove.bind(Qh);var $h=Qh.update.bind(Qh);class ed{constructor(e){this.eyeDirec=new oi(0,0,0),this.containerId=e.containerID,this.renderer=new no({alpha:!0,antialias:!0}),this.renderer.setClearColor(16777215,0),this.rendererWidth=120,this.renderer.setSize(this.rendererWidth,this.rendererWidth),this.renderer.autoClear=!1,this.scene=new ro,this.ortCamera=new Dr(-200,200,200,-200,1,1e3),this.ortCamera1=new Dr(-100,100,100,-100,1,10),this.scene1=new ro,this.ortCamera1.position.z=10,this.ortCamera1.updateMatrix(),this.ortCamera.position.set(10,10,10),this.ortCamera.updateMatrix(),this.ortCamera.lookAt(this.scene.position),this.simuView=e,this.axisRenderContainer=document.createElement("div"),this.axisRenderContainer.id=this.containerId+"_bim_axis",this.axisRenderContainer.style.position="absolute",this.axisRenderContainer.style.zIndex="2",this.axisRenderContainer.style.left=this.simuView.container.offsetWidth-this.rendererWidth+"px",this.axisRenderContainer.style.top="0px",this.axisRenderContainer.width=this.rendererWidth,this.axisRenderContainer.height=this.rendererWidth,this.simuView.container.appendChild(this.axisRenderContainer),this.axisRenderContainer.appendChild(this.renderer.domElement),this.rayCaster=new Th,this._onContextMenu=this.onContextMenu.bind(this),this._onMouseDown=this.onMouseDown.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this.axisRenderContainer.addEventListener("contextmenu",this._onContextMenu,!1),this.axisRenderContainer.addEventListener("mousedown",this._onMouseDown,!1),this.axisRenderContainer.addEventListener("mousemove",this._onMouseMove,!1),this.selColor_R=176/255,this.selColor_G=203/255,this.selColor_B=1,this.init()}init(){this.lightRoot=new Qa,this.scene.add(this.lightRoot),this.lightRoot.add(new nh(16777215,.8));let e=new ih(8947848,.25);e.position.set(1,1,1),e.updateMatrix(),this.lightRoot.add(e);let t=new ih(8947848,.25);t.position.set(1,-1,1),t.updateMatrix(),this.lightRoot.add(t);let i=new ih(8947848,.25);i.position.set(-1,1,1),i.updateMatrix(),this.lightRoot.add(i);let n=new ih(8947848,.25);n.position.set(-1,-1,1),n.updateMatrix(),this.lightRoot.add(n);var r=[-40,-40,40,-40,-40,-40,40,-40,40,40,-40,-40,-40,40,40,-40,40,-40,40,40,40,40,40,-40];for(let e=0;e<8;e++){var s=new pc({color:10066329});let t=new rr(20,20,20,1,1,1);t.translate(r[3*e],r[3*e+1],r[3*e+2]);let i=new ir(t,s);i.iidd=6+e,this.scene.add(i)}r=[0,-40,40,0,-40,-40,0,40,40,0,40,-40,40,0,40,40,0,-40,-40,0,40,-40,0,-40];for(let e=0;e<8;e++){let t;t=e<4?new rr(60,20,20,1,1,1):new rr(20,60,20,1,1,1);var a=new pc({color:8947848});t.translate(r[3*e],r[3*e+1],r[3*e+2]);let i=new ir(t,a);i.iidd=14+e,this.scene.add(i)}for(var o=new kn,l=[],c=[],h=[0,3,1,3,2,1],u=[-50,30,50,30,50,-30,-50,-30],p=[0,.8,1,.8,1,.2,0,.2],m=0;m<4;m++)l.push(u[2*m],u[2*m+1],0),c.push(p[2*m],p[2*m+1]);o.setIndex(new Cn(new Uint16Array(h),1)),o.setAttribute("position",new Cn(new Float32Array(l),3)),o.setAttribute("uv",new Cn(new Float32Array(c),2));var f=new kn,g=[],y=[],v=[-30,30,30,30,30,-30,-30,-30],x=[0,.8,.8,.8,.8,.2,0,.2];for(let e=0;e<4;e++)g.push(v[2*e],v[2*e+1],0),y.push(x[2*e],x[2*e+1]);f.setIndex(new Cn(new Uint16Array(h),1)),f.setAttribute("position",new Cn(new Float32Array(g),3)),f.setAttribute("uv",new Cn(new Float32Array(x),2));let M=this;var w=new oi(0,0,0);{let e=document.createElement("canvas");e.width=50,e.height=50;let t=e.getContext("2d");t.rect(0,0,e.width,e.height),t.fillStyle="rgb(195, 195, 195)",t.fill(),t.fillStyle="rgb(25, 30, 36)",t.font="30px arial",t.fillText("顶",5,35);let i=new Xo(e);i.needsUpdate=!0;let n=new ir(f,new An({map:i,side:d}));n.position.set(0,0,50),n.updateMatrix(),n.iidd=0,M.scene.add(n)}{let e=document.createElement("canvas");e.width=50,e.height=50;let t=e.getContext("2d");t.rect(0,0,e.width,e.height),t.fillStyle="rgb(195, 195, 195)",t.fill(),t.fillStyle="rgb(25, 30, 36)",t.font="30px arial",t.fillText("底",5,35);let i=new Xo(e);i.needsUpdate=!0;let n=new ir(f,new An({map:i,side:d}));n.position.set(0,0,-50),n.iidd=1,w.set(0,1,0),n.rotateOnAxis(w,kt.degToRad(180)),w.set(0,0,1),n.rotateOnAxis(w,kt.degToRad(180)),n.updateMatrix(),M.scene.add(n)}{let e=document.createElement("canvas");e.width=50,e.height=50;let t=e.getContext("2d");t.rect(0,0,e.width,e.height),t.fillStyle="rgb(195, 195, 195)",t.fill(),t.fillStyle="rgb(25, 30, 36)",t.font="30px arial",t.fillText("前",5,35);let i=new Xo(e);i.needsUpdate=!0;let n=new ir(o,new An({map:i,side:d}));w.set(1,0,0),n.position.set(0,-50,0),n.rotateOnAxis(w,kt.degToRad(90)),n.iidd=2,n.updateMatrix(),M.scene.add(n)}{let e=document.createElement("canvas");e.width=50,e.height=50;let t=e.getContext("2d");t.rect(0,0,e.width,e.height),t.fillStyle="rgb(195, 195, 195)",t.fill(),t.fillStyle="rgb(25, 30, 36)",t.font="30px arial",t.fillText("后",5,35);let i=new Xo(e);i.needsUpdate=!0;let n=new ir(o,new An({map:i,side:d}));w.set(1,0,0),n.position.set(0,50,0),n.rotateOnAxis(w,kt.degToRad(90)),w.set(0,1,0),n.rotateOnAxis(w,kt.degToRad(180)),n.iidd=3,n.updateMatrix(),M.scene.add(n)}{let e=document.createElement("canvas");e.width=50,e.height=50;let t=e.getContext("2d");t.rect(0,0,e.width,e.height),t.fillStyle="rgb(195, 195, 195)",t.fill(),t.fillStyle="rgb(25, 30, 36)",t.font="30px arial",t.fillText("左",5,35);let i=new Xo(e);i.needsUpdate=!0;let n=new ir(o,new An({map:i,side:d}));w.set(0,1,0),n.position.set(-50,0,0),n.rotateOnAxis(w,kt.degToRad(-90)),w.set(0,0,1),n.rotateOnAxis(w,kt.degToRad(-90)),n.iidd=4,n.updateMatrix(),M.scene.add(n)}{let e=document.createElement("canvas");e.width=50,e.height=50;let t=e.getContext("2d");t.rect(0,0,e.width,e.height),t.fillStyle="rgb(195, 195, 195)",t.fill(),t.fillStyle="rgb(25, 30, 36)",t.font="30px arial",t.fillText("右",5,35);let i=new Xo(e);i.needsUpdate=!0;let n=new ir(o,new An({map:i,side:d}));w.set(0,1,0),n.position.set(50,0,0),n.rotateOnAxis(w,kt.degToRad(90)),w.set(0,0,1),n.rotateOnAxis(w,kt.degToRad(90)),n.iidd=5,n.updateMatrix(),M.scene.add(n)}{let e=document.createElement("canvas");e.width=50,e.height=50;let t=e.getContext("2d");t.fillStyle="rgb(25, 30, 36)",t.font="30px arial",t.fillText("主",5,35);let i=new Xo(e);i.needsUpdate=!0;var S=new lo({map:i,depthTest:!1}),b=S.map.image.width,A=S.map.image.height,E=new bo(S);E.center.set(-.2,1.4),E.scale.set(b,A,1),E.position.set(-100,100,1),E.updateMatrix(),M.scene1.add(E)}}render(){this.eyeDirec.subVectors(this.simuView.camera.position,this.simuView.controls.target).normalize().multiplyScalar(350),this.ortCamera.position.copy(this.eyeDirec),this.ortCamera.up.copy(this.simuView.camera.up),this.ortCamera.lookAt(this.scene.position),this.ortCamera.updateMatrix(),this.ortCamera.updateMatrixWorld(),this.renderer.render(this.scene,this.ortCamera),this.renderer.clearDepth(),this.renderer.render(this.scene1,this.ortCamera1)}onWindowResize(e,t,i,n){this.axisRenderContainer.style.left=i-this.rendererWidth+"px",this.axisRenderContainer.style.top="0px"}onContextMenu(e){e.preventDefault()}onMouseDown(e){e.preventDefault(),0==e.button&&(null!=this.curSelMesh&&this.simuView.setCameraView(this.curSelMesh.iidd),null!=this.curSelSprite&&this.simuView.setCameraView(14))}onMouseMove(e){e.preventDefault();var t=this.axisRenderContainer.getBoundingClientRect(),i=e.clientX,n=e.clientY,r=new qt;r.set((i-t.left)/t.width*2-1,(n-t.top)/t.height*-2+1),this.rayCaster.setFromCamera(r,this.ortCamera);var s=this.rayCaster.intersectObject(this.scene,!0);if(s.length>0){var a=s[0];if("LineSegments"!=a.object.type){var o=a.object;this.curSelMesh!=o&&(null!=this.curSelMesh&&(this.curSelMesh.material.color.setRGB(this.lastSelColor_R,this.lastSelColor_G,this.lastSelColor_B),this.curSelMesh=null),this.lastSelColor_R=o.material.color.r,this.lastSelColor_G=o.material.color.g,this.lastSelColor_B=o.material.color.b,this.curSelMesh=o,this.curSelMesh.material.color.setRGB(this.selColor_R,this.selColor_G,this.selColor_B)),null!=this.curSelSprite&&(this.curSelSprite.material.color.setRGB(1,1,1),this.curSelSprite=null),this.render()}}else this.rayCaster.setFromCamera(r,this.ortCamera1),(s=this.rayCaster.intersectObject(this.scene1,!0)).length>0?(this.curSelSprite=s[0].object,this.curSelSprite.material.color.setRGB(this.selColor_R,this.selColor_R,this.selColor_R)):null!=this.curSelSprite&&(this.curSelSprite.material.color.setRGB(1,1,1),this.curSelSprite=null),null!=this.curSelMesh&&(this.curSelMesh.material.color.setRGB(this.lastSelColor_R,this.lastSelColor_G,this.lastSelColor_B),this.curSelMesh=null),this.render()}}const td={type:"change"},id={type:"start"},nd={type:"end"};class rd extends Ct{constructor(e,r){super(),void 0===r&&console.warn('THREE.TrackballManipulator: The second parameter "domElement" is now mandatory.'),r===document&&console.error('THREE.TrackballManipulator: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');const s=this,a=-1,o=0,l=1,c=2,h=3,d=4,u=5;this.object=e,this.domElement=r,this.domElement.style.touchAction="none",this.enabled=!0,this.mouseButtons={LEFT:t,MIDDLE:i,RIGHT:n},this.target=new oi,this.rotation=new ai,this.distance=e.position.z,this.cameraPostion=void 0,this.cameraUp=void 0;let p=[],m={};this.trackballSize=.8,this.handleResize=function(){const e=s.domElement.getBoundingClientRect(),t=s.domElement.ownerDocument.documentElement;s.screen.left=e.left+window.pageXOffset-t.clientLeft,s.screen.top=e.top+window.pageYOffset-t.clientTop,s.screen.width=e.width,s.screen.height=e.height},this.update=function(){const e=new oi(0,1,0);return function(){if(s.cameraPostion&&s.cameraUp)s.object.up.copy(s.cameraUp),s.object.position.copy(s.cameraPostion),s.rotation=s.object.quaternion,s.distance=s.object.position.distanceTo(s.target),s.object.lookAt(s.target),s.cameraPostion=void 0,s.cameraUp=void 0;else{let t=new oi(0,0,s.distance).applyQuaternion(s.rotation);s.object.up.copy(e).applyQuaternion(s.rotation),s.object.position.addVectors(s.target,t),s.object.lookAt(s.target)}s.dispatchEvent(td)}}(),this.screen={left:0,top:0,width:0,height:0};const f=function(){const e=new qt;return function(t,i){return e.set((t-s.screen.left-.5*s.screen.width)/(.5*s.screen.width),-(i-s.screen.top-.5*s.screen.height)/(.5*s.screen.height)),e}}();function g(e){!1!==s.enabled&&(0===p.length&&(s.domElement.setPointerCapture(e.pointerId),s.domElement.addEventListener("pointermove",y),s.domElement.addEventListener("pointerup",v)),function(e){p.push(e)}(e),"touch"===e.pointerType?function(e){if(1===(O(e),p.length))T=h,U.copy(F(p[0].pageX,p[0].pageY)),P.copy(U);else{T=d;const e=p[0].pageX-p[1].pageX,t=p[0].pageY-p[1].pageY;I=V=Math.sqrt(e*e+t*t);const i=(p[0].pageX+p[1].pageX)/2,n=(p[0].pageY+p[1].pageY)/2;D.copy(z(i,n)),B.copy(D)}s.dispatchEvent(id)}(e):function(e){switch(M=e,w=a,e.button){case s.mouseButtons.LEFT:w=u;break;case s.mouseButtons.MIDDLE:w=c;break;case s.mouseButtons.RIGHT:w=o}s.dispatchEvent(id)}(e))}function y(e){!1!==s.enabled&&("touch"===e.pointerType?function(e){if(1===(O(e),p.length))P.copy(U),U.copy(F(e.pageX,e.pageY)),N();else{const t=function(e){const t=e.pointerId===p[0].pointerId?p[1]:p[0];return m[t.pointerId]}(e),i=e.pageX-t.x,n=e.pageY-t.y;I=Math.sqrt(i*i+n*n),_();const r=(e.pageX+t.x)/2,s=(e.pageY+t.y)/2;B.copy(z(r,s)),k()}D.copy(B),V=I,s.update()}(e):S(e))}function v(e){!1!==s.enabled&&("touch"===e.pointerType?function(e){switch(p.length){case 0:T=a;break;case 1:T=h,U.copy(F(e.pageX,e.pageY)),P.copy(U);break;case 2:T=d,U.copy(F(e.pageX-P.pageX,e.pageY-P.pageY)),P.copy(U)}s.dispatchEvent(nd)}(e):(M=null,w=a,s.dispatchEvent(nd)),q(e),0===p.length&&(s.domElement.releasePointerCapture(e.pointerId),s.domElement.removeEventListener("pointermove",y),s.domElement.removeEventListener("pointerup",v)))}function x(e){q(e)}let M=null,w=a;const S=function(){const e=new qt,t=new qt;return function(i){if(null!=M)switch(e.copy(f(M.pageX,M.pageY)),t.copy(f(i.pageX,i.pageY)),w){case o:A(e,t);break;case l:!function(e,t){let i=t.y-e.y;s.distance*=1+i}(e,t);break;case c:!function(e,t){let i=-.5*s.distance,n=(t.x-e.x)*i,r=(t.y-e.y)*i,a=new oi(n,r,0).applyQuaternion(s.rotation);s.target.add(a)}(e,t)}M=i,s.update()}}();function b(e){if(!1===s.enabled)return;if(!0===s.noZoom)return;e.preventDefault();let t=1;e.deltaY<0&&(t=-1),s.distance*=1+.05*t,s.update()}const A=function(){const e=new oi(1,0,0),t=new oi(0,1,0),i=new oi(0,0,1),n=new oi,r=new oi,a=new oi,o=new ai,l=new oi,c=new oi;return function(h,d){n.copy(e).applyQuaternion(s.rotation),r.copy(t).applyQuaternion(s.rotation),a.copy(i).applyQuaternion(s.rotation);let u=E(s.trackballSize,h.x,h.y),p=E(s.trackballSize,d.x,d.y);l.x=n.x*h.x+r.x*h.y+a.x*u,l.y=n.y*h.x+r.y*h.y+a.y*u,l.z=n.z*h.x+r.z*h.y+a.z*u,c.x=n.x*d.x+r.x*d.y+a.x*p,c.y=n.y*d.x+r.y*d.y+a.y*p,c.z=n.z*d.x+r.z*d.y+a.z*p,o.setFromUnitVectors(c,l),s.rotation.premultiply(o)}}();function E(e,t,i){s.trackballSize<.1?s.trackballSize=.1:s.trackballSize>1&&(s.trackballSize=1);let n,r=Math.sqrt(t*t+i*i);if(r<.7071067811865476*e)n=Math.sqrt(e*e-r*r);else{let t=e/1.4142135623730951;n=t*t/r}return n}this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3;let T=a,C=new oi,L=new oi,R=0,V=0,I=0,P=new qt,U=new qt,D=new qt,B=new qt;!function(){const e=new oi(1,0,0),t=new oi(0,1,0),i=new oi(0,0,1),n=new oi,r=new oi,s=new oi,a=new ai,o=new oi,l=new oi}();const N=function(){const e=new oi,t=new ai,i=new oi,n=new oi,r=new oi,a=new oi;return function(){a.set(U.x-P.x,U.y-P.y,0);let o=a.length();o?(C.copy(s.object.position).sub(s.target),i.copy(C).normalize(),n.copy(s.object.up).normalize(),r.crossVectors(n,i).normalize(),n.setLength(U.y-P.y),r.setLength(U.x-P.x),a.copy(n.add(r)),e.crossVectors(a,C).normalize(),o*=s.rotateSpeed,t.setFromAxisAngle(e,o),s.rotation.premultiply(t),L.copy(e),R=o):s.staticMoving,P.copy(U)}}(),_=function(){let e;T===d&&(e=V/I,V=I,s.object.isPerspectiveCamera?s.distance*=e:s.object.isOrthographicCamera||console.warn("THREE.TrackballManipulator: Unsupported camera type"))},k=function(){const e=new qt,t=new oi,i=new oi;return function(){if(e.copy(B).sub(D),e.lengthSq()){if(s.object.isOrthographicCamera){const t=(s.object.right-s.object.left)/s.object.zoom/s.domElement.clientWidth,i=(s.object.top-s.object.bottom)/s.object.zoom/s.domElement.clientWidth;e.x*=t,e.y*=i}e.multiplyScalar(C.length()*s.panSpeed),i.copy(C).cross(s.object.up).setLength(e.x),i.add(t.copy(s.object.up).setLength(e.y)),s.target.add(i)}}}();function q(e){delete m[e.pointerId];for(let t=0;t<p.length;t++)if(p[t].pointerId==e.pointerId)return void p.splice(t,1)}function O(e){let t=m[e.pointerId];void 0===t&&(t=new qt,m[e.pointerId]=t),t.set(e.pageX,e.pageY)}const z=function(){const e=new qt;return function(t,i){return e.set((t-s.screen.left)/s.screen.width,(i-s.screen.top)/s.screen.height),e}}(),F=function(){const e=new qt;return function(t,i){return e.set((t-.5*s.screen.width-s.screen.left)/(.5*s.screen.width),(s.screen.height+2*(s.screen.top-i))/s.screen.width),e}}();function G(e){!1!==s.enabled&&e.preventDefault()}this.dispose=function(){s.domElement.removeEventListener("contextmenu",G),s.domElement.removeEventListener("pointerdown",g),s.domElement.removeEventListener("pointercancel",x),s.domElement.removeEventListener("wheel",b),s.domElement.removeEventListener("pointermove",y),s.domElement.removeEventListener("pointerup",v)},this.domElement.addEventListener("contextmenu",G),this.domElement.addEventListener("pointerdown",g),this.domElement.addEventListener("pointercancel",x),this.domElement.addEventListener("wheel",b,{passive:!1}),this.handleResize(),this.update()}}class sd{constructor(e,t){var i=new ki,n=new _i,r=new Ri,s=new oi,a=this.geometry;if(r.copy(a.boundingSphere),r.applyMatrix4(this.matrixWorld),!1!==e.ray.intersectSphere(r,s)){i.getInverse(this.matrixWorld),n.copy(e.ray).applyMatrix4(i);var o=new oi,l=new oi,c=new oi,h=this instanceof Ho?2:1,d=a.index,u=a.attributes;if(null!==d)for(var p=d.array,m=u.position.array,f=u.width.array,g=0,y=p.length-1;g<y;g+=h){var v=p[g],x=p[g+1];o.fromArray(m,3*v),l.fromArray(m,3*x);var M=null!=f[Math.floor(g/3)]?f[Math.floor(g/3)]:1,w=e.params.Line.threshold+this.material.lineWidth*M/2,S=w*w;if(!(n.distanceSqToSegment(o,l,s,c)>S)){s.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(s);b<e.near||b>e.far||(t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this}),g=y)}}}}}class ad extends kn{constructor(){super(),this.type="MeshLine",this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this._points=[],this._geom=null,this.widthCallback=null,this.matrixWorld=new ki,this.isMeshLine=!0,Object.defineProperties(this,{geometry:{enumerable:!0,get:function(){return this}},geom:{enumerable:!0,get:function(){return this._geom},set:function(e){this.setGeometry(e,this.widthCallback)}},points:{enumerable:!0,get:function(){return this._points},set:function(e){this.setPoints(e,this.widthCallback)}}})}raycast(e,t){sd(e,t)}setMatrixWorld(e){this.matrixWorld=e}setGeometry(e,t){this._geometry=e,e instanceof kn?this.setPoints(e.getAttribute("position").array,t):this.setPoints(e,t)}setPoints(e,t){if(e instanceof Float32Array||e instanceof Array){if(this._points=e,this.widthCallback=t,this.positions=[],this.counters=[],e.length&&e[0]instanceof oi)for(var i=0;i<e.length;i++){var n=e[i],r=i/e.length;this.positions.push(n.x,n.y,n.z),this.positions.push(n.x,n.y,n.z),this.counters.push(r),this.counters.push(r)}else for(i=0;i<e.length;i+=3){r=i/e.length;this.positions.push(e[i],e[i+1],e[i+2]),this.positions.push(e[i],e[i+1],e[i+2]),this.counters.push(r),this.counters.push(r)}this.process()}else console.error("ERROR: The BufferArray of points is not instancied correctly.")}compareV3(e,t){var i=6*e,n=6*t;return this.positions[i]===this.positions[n]&&this.positions[i+1]===this.positions[n+1]&&this.positions[i+2]===this.positions[n+2]}copyV3(e){var t=6*e;return[this.positions[t],this.positions[t+1],this.positions[t+2]]}process(){var e,t,i=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],t=this.compareV3(0,i-1)?this.copyV3(i-2):this.copyV3(0),this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);for(var n=0;n<i;n++){if(this.side.push(1),this.side.push(-1),e=this.widthCallback?this.widthCallback(n/(i-1)):1,this.width.push(e),this.width.push(e),this.uvs.push(n/(i-1),0),this.uvs.push(n/(i-1),1),n<i-1){t=this.copyV3(n),this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);var r=2*n;this.indices_array.push(r,r+1,r+2),this.indices_array.push(r+2,r+1,r+3)}n>0&&(t=this.copyV3(n),this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]))}t=this.compareV3(i-1,0)?this.copyV3(1):this.copyV3(i-1),this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]),this._attributes&&this._attributes.position.count===this.positions.length?(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0):this._attributes={position:new Cn(new Float32Array(this.positions),3),previous:new Cn(new Float32Array(this.previous),3),next:new Cn(new Float32Array(this.next),3),side:new Cn(new Float32Array(this.side),1),width:new Cn(new Float32Array(this.width),1),uv:new Cn(new Float32Array(this.uvs),2),index:new Cn(new Uint16Array(this.indices_array),1),counters:new Cn(new Float32Array(this.counters),1)},this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}memcpy(e,t,i,n,r){var s;if(e=e.subarray||e.slice?e:e.buffer,i=i.subarray||i.slice?i:i.buffer,e=t?e.subarray?e.subarray(t,r&&t+r):e.slice(t,r&&t+r):e,i.set)i.set(e,n);else for(s=0;s<e.length;s++)i[s+n]=e[s];return i}advance(e){var t=this._attributes.position.array,i=this._attributes.previous.array,n=this._attributes.next.array,r=t.length;this.memcpy(t,0,i,0,r),this.memcpy(t,6,t,0,r-6),t[r-6]=e.x,t[r-5]=e.y,t[r-4]=e.z,t[r-3]=e.x,t[r-2]=e.y,t[r-1]=e.z,this.memcpy(t,6,n,0,r-6),n[r-6]=e.x,n[r-5]=e.y,n[r-4]=e.z,n[r-3]=e.x,n[r-2]=e.y,n[r-1]=e.z,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}ad.isMeshLine=!0;let od={vertexShader:["","#include <logdepthbuf_pars_vertex>","#include <fog_pars_vertex>","","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute float counters;","","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","","bool isPerspectiveMatrix( mat4 m ) {","return m[ 2 ][ 3 ] == - 1.0;","}","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","\t vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","    float w = lineWidth * width;","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","","    }","","    vec4 normal = vec4( -dir.y, dir.x, 0., 1. );","    normal.xy *= .5 * w;","    normal *= projectionMatrix;","    if( sizeAttenuation == 0. ) {","        normal.xy *= finalPosition.w;","        normal.xy /= ( vec4( resolution, 0., 1. ) * projectionMatrix ).xy;","    }","","    finalPosition.xy += normal.xy * side;","","    gl_Position = finalPosition;","","   #include <logdepthbuf_vertex>","   #include <fog_vertex>","    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","   #include <fog_vertex>","}"].join("\n"),fragmentShader:["","uniform sampler2D map;","uniform sampler2D alphaMap;","uniform float useMap;","uniform float useAlphaMap;","uniform float useDash;","uniform float dashArray;","uniform float dashOffset;","uniform float dashRatio;","uniform float visibility;","uniform float alphaTest;","uniform vec2 repeat;","","varying vec2 vUV;","varying vec4 vColor;","varying float vCounters;","#include <fog_pars_fragment>","#include <logdepthbuf_pars_fragment>","void main() {","    #include <logdepthbuf_fragment>","    vec4 c = vColor;","    if( useMap == 1. ) c *= texture2D( map, vUV * repeat );","    if( useAlphaMap == 1. ) c.a *= texture2D( alphaMap, vUV * repeat ).a;","    if( c.a < alphaTest ) discard;","    if( useDash == 1. ){","        c.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));","    }","    gl_FragColor = c;","    gl_FragColor.a *= step(vCounters, visibility);","","   #include <fog_fragment>","}"].join("\n")};class ld extends lr{constructor(e){super({uniforms:Object.assign({},Tr.fog,{lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new Kt(16777215)},opacity:{value:1},resolution:{value:new qt(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new qt(1,1)}}),vertexShader:od.vertexShader,fragmentShader:od.fragmentShader}),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get:function(){return this.uniforms.lineWidth.value},set:function(e){this.uniforms.lineWidth.value=e}},map:{enumerable:!0,get:function(){return this.uniforms.map.value},set:function(e){this.uniforms.map.value=e}},useMap:{enumerable:!0,get:function(){return this.uniforms.useMap.value},set:function(e){this.uniforms.useMap.value=e}},alphaMap:{enumerable:!0,get:function(){return this.uniforms.alphaMap.value},set:function(e){this.uniforms.alphaMap.value=e}},useAlphaMap:{enumerable:!0,get:function(){return this.uniforms.useAlphaMap.value},set:function(e){this.uniforms.useAlphaMap.value=e}},color:{enumerable:!0,get:function(){return this.uniforms.color.value},set:function(e){this.uniforms.color.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}},sizeAttenuation:{enumerable:!0,get:function(){return this.uniforms.sizeAttenuation.value},set:function(e){this.uniforms.sizeAttenuation.value=e}},dashArray:{enumerable:!0,get:function(){return this.uniforms.dashArray.value},set:function(e){this.uniforms.dashArray.value=e,this.useDash=0!==e?1:0}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},dashRatio:{enumerable:!0,get:function(){return this.uniforms.dashRatio.value},set:function(e){this.uniforms.dashRatio.value=e}},useDash:{enumerable:!0,get:function(){return this.uniforms.useDash.value},set:function(e){this.uniforms.useDash.value=e}},visibility:{enumerable:!0,get:function(){return this.uniforms.visibility.value},set:function(e){this.uniforms.visibility.value=e}},alphaTest:{enumerable:!0,get:function(){return this.uniforms.alphaTest.value},set:function(e){this.uniforms.alphaTest.value=e}},repeat:{enumerable:!0,get:function(){return this.uniforms.repeat.value},set:function(e){this.uniforms.repeat.value.copy(e)}}}),this.setValues(e)}copy(e){return super.copy(this,e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray.copy(e.dashArray),this.dashOffset.copy(e.dashOffset),this.dashRatio.copy(e.dashRatio),this.useDash=e.useDash,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}ld.prototype.isMeshLineMaterial=!0;class cd{static calcDistance2Line(e,t,i){const n=(new oi).subVectors(t,e),r=(new oi).subVectors(i,e),s=n.clone().normalize(),a=r.clone().normalize(),o=s.dot(a),l=(new oi).subVectors(t,e),c=(new oi).subVectors(i,e);l.clone().normalize();const h=c.clone().normalize(),d=a.dot(h);let u=0;if(o>0&&d>0){const t=Math.sqrt(1-o*o);u=e.distanceTo(i)*t}else{const n=e.distanceTo(i),r=t.distanceTo(i);u=n>r?r:n}return u}static createLine(e){if(!e)return;let t=e.pt1,i=e.pt2,n=null==e.lineColor?65535:e.lineColor,r=null==e.lineStyle?"solid":e.lineStyle,s=null==e.lineWidth?5:e.lineWidth,a=null;if(t&&i&&(a=(new kn).setFromPoints([t,i])),e.geo&&(a=e.geo),!a)return null;let o=new ad;o.setGeometry(a);let l=new qt(e.containerWidth,e.containerHeight),c={alphaTest:0,color:new Kt(n),depthTest:!1,depthWrite:!1,lineWidth:s,opacity:1,resolution:l,side:2,sizeAttenuation:!1,transparent:!0,useMap:!1},h=null;if("dash"==r){let e=.02,t=.2,i=0;c.dashArray=e,c.dashRatio=t,c.dashOffset=i}let d=new ld(c);return h=new ir(o.geometry,d),h.updateMatrixWorld(),h.updateMatrix(),h}static creatPt(e,t){let i=new lo({map:this.utilsMarkerTexture,color:new Kt(t),depthTest:!1,depthWrite:!1,sizeAttenuation:!1});const n=e,r=.05,s=new bo(i);return s.scale.set(r,r,r),s.renderOrder=99,s.updateMatrix(),s.updateMatrixWorld(),n&&(s.position.set(n.x,n.y,n.z),s.updateMatrix(),s.updateMatrixWorld()),s}static tryMakeAbsolute(e){return"undefined"==typeof document?e:(defined(a)||(a=document.createElement("a")),a.href=e,a.href=a.href,a.href)}static getRGBA(e){let t=e.match(/rgba?\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)?(?:, ?(\d(?:\.\d?))\))?/),i=[t[1],t[2],t[3],t[4]];return t[4]&&i.push(t[4]),i}static getMouseWorldPosition(e,t,i,n,r){const s=new Th;let a=e.clientX-n.domElement.getBoundingClientRect().left,o=e.clientY-n.domElement.getBoundingClientRect().top;const l=new qt(a/r.offsetWidth*2-1,-o/r.offsetHeight*2+1);s.setFromCamera(l,i);let c=s.intersectObject(t,!0)||[],h={};return c.length>0&&(h.point=c[0].point,h.face=c[0].face,h.distance=c[0].distance,h.normal=c[0].face.normal,h.object=c[0].object),h}}cd.utilsMarkerTexture=(new Fc).load("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAARJJREFUaEPtlrENwjAQRf8tgGAOSkqoGAUmYBImIKNQQUnJHCAWOBTJSBFKUHL3JWTpp43v7P+e7cRQ+WOVrx8K8G+DMiADSQLaQkmA6XIZSCNMNpCBJMB0uQykESYbyEASYLpcBoYQuvscwLK8v5vZM427pwHdgLvPABwB7L7mawAczOzFDEINUBZ/BrAaWOQNwJYZgh3g1EP+O0tjZnuWBVqAsucfIxe2YJ0JZoA1gMvIABszu44c+3OYAnzwVL+F2iDuXu8hLgHab0C912gnRJ0fsu51Ue2vBONqnNKDdo1OmZQ5VgGYNCO9ZCBCjVkjA0yakV4yEKHGrJEBJs1ILxmIUGPWyACTZqSXDESoMWveg/1AMebvbUAAAAAASUVORK5CYII=");class hd extends hn{constructor(e=document.createElement("div")){super(),this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}hd.prototype.isCSS2DObject=!0;const dd=new oi,ud=new ki,pd=new ki,md=new oi,fd=new oi;class gd{constructor(e={}){const t=this;let i,n,r,s;const a={objects:new WeakMap},o=void 0!==e.element?e.element:document.createElement("div");function l(e,i,n){if(e.isCSS2DObject){dd.setFromMatrixPosition(e.matrixWorld),dd.applyMatrix4(pd);const l=!0===e.visible&&dd.z>=-1&&dd.z<=1&&!0===e.layers.test(n.layers);if(e.element.style.display=!0===l?"":"none",!0===l){e.onBeforeRender(t,i,n);const a=e.element;/apple/i.test(navigator.vendor)?a.style.transform="translate(-50%,-50%) translate("+Math.round(dd.x*r+r)+"px,"+Math.round(-dd.y*s+s)+"px)":a.style.transform="translate(-50%,-50%) translate("+(dd.x*r+r)+"px,"+(-dd.y*s+s)+"px)",a.parentNode!==o&&o.appendChild(a),e.onAfterRender(t,i,n)}const h={distanceToCameraSquared:c(n,e)};a.objects.set(e,h)}for(let t=0,r=e.children.length;t<r;t++)l(e.children[t],i,n)}function c(e,t){return md.setFromMatrixPosition(e.matrixWorld),fd.setFromMatrixPosition(t.matrixWorld),md.distanceToSquared(fd)}o.style.overflow="hidden",this.domElement=o,this.getSize=function(){return{width:i,height:n}},this.render=function(e,t){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),ud.copy(t.matrixWorldInverse),pd.multiplyMatrices(t.projectionMatrix,ud),l(e,e,t),function(e){const t=function(e){const t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}(e).sort((function(e,t){if(e.renderOrder!==t.renderOrder)return t.renderOrder-e.renderOrder;return a.objects.get(e).distanceToCameraSquared-a.objects.get(t).distanceToCameraSquared})),i=t.length;for(let e=0,n=t.length;e<n;e++)t[e].element.style.zIndex=i-e}(e)},this.setSize=function(e,t){i=e,n=t,r=i/2,s=n/2,o.style.width=e+"px",o.style.height=t+"px"}}}class yd{static setEffectCullBackFace(e,t){let i=e;return i.isCullbackface=t,i.modelRoot.traverse((e=>{e.isMesh&&e.isMesh&&(e.material.side=t?d:p)})),e.render(),t}static setEffectAntialias(e,t){return e.renderer.antialias=t,e.render(),t}static removeModel(e,t){let i=this;if(!t||0==t.length)return-2;e.nodeData&&e.nodeData.splice(0,e.nodeData.length);for(let n=0,r=t.length;n<r;n++){let r=t[n];if(e.addedModelIds){let t=e.addedModelIds.indexOf(r);e.addedModelIds.splice(t,1)}if(e.simuTree){let t=e.simuTree.getNodeById(r);e.simuTree.removeNode(t)}let s=e.getNodeBySid(r);s&&s.traverse((function(e){if(e.isMesh)if(e.geometry.dispose(),e.material.isMaterial)i._cleanMaterial(e.material);else for(const t of e.material)i._cleanMaterial(t)})),e.modelRoot.remove(s)}return e.render(),-1}static _cleanMaterial(e){if(null!=e){e.dispose();for(const t of Object.keys(e)){const i=e[t];i&&"object"==typeof i&&"minFilter"in i&&i.dispose()}}}static emptyScene(e){e.simuTree&&e.simuTree.destroy(),e.nodeData&&e.nodeData.splice(0,e.nodeData.length),e.modelRoot.traverse((e=>{if(e.isMesh)if(e.geometry.dispose(),e.material.isMaterial)this._cleanMaterial(e.material);else for(const t of e.material)this._cleanMaterial(t)})),e.modelRoot.clear(),e.addedModelIds&&e.addedModelIds.splice(0,e.addedModelIds.length),e.render()}static setMouseSelectedCallback(e,t){e.mouseSelectedCallBack=t}static setRightClickCallback(e,t){e.rightCallBack=t}static setMouseUnSelectedCallback(e,t){e.mouseUnselectedCallBack=t}static addSelectArray(e,t){e.selectedSimuNodes||(e.selectedSimuNodes=[]),-1==e.selectedSimuNodes.indexOf(t)&&(e.updateNodeMaterial(t),e.selectedSimuNodes.push(t),e.render())}static removeFromSelectArray(e,t){let i=e.selectedSimuNodes&&e.selectedSimuNodes.indexOf(t);-1!=i&&(e.updateNodeMaterial(t,!1),e.selectedSimuNodes.splice(i,1),e.render())}static removeAllFromSelectArray(e){if(e.selectedSimuNodes){for(let t=0;t<e.selectedSimuNodes.length;++t){let i=e.selectedSimuNodes[t];e.updateNodeMaterial(i,!1)}e.selectedSimuNodes.splice(0,e.selectedSimuNodes.length),e.selectedSimuNodes.length=0,e.render()}}static getSelectNum(e){return e.selectedSimuNodes?e.selectedSimuNodes.length:0}static getSelectNodes(e,t){if(null==t&&(t=new Array),!e.selectedSimuNodes)return t;for(let i=0;i<e.selectedSimuNodes.length;i++)t.push(e.selectedSimuNodes[i].name);return e.selectedSimuNodes?e.selectedSimuNodes:[]}static getSelectNodesIds(){}static getSelectObjectSIDByIndex(e,t){if(e.selectedSimuNodes)return t<0||t>=e.selectedSimuNodes.length?-1:e.selectedSimuNodes[t].name}static setSelectObjectBySID(e,t,i,n=!1){let r=this;i&&e.removeAllFromSelectArray();let s=0,a=!1;return t.forEach((t=>{let i=e.getNodeBySid(t);null!=i&&(a=!0,r.addSelectArray(e,i))})),n&&e.isolateModel(!1),a||(s=-2),e.render(),s}static unselectObjectBySID(e,t){let i=0,n=!1;return t.forEach((t=>{let i=e.getNodeBySid(t);null!=i&&(n=!0,e.removeFromSelectArray(i))})),e.render(),n||(i=-2),i}static unselectAllObject(e){e.removeAllFromSelectArray(),e.render()}static setObjectColorBySID(e,t,i){let n=0,r=!1,s=i.toLowerCase(),a=1,o=1,l=1,c=1;if(-1!=s.indexOf("rgba")){let e=cd.getRGBA(i);a=parseFloat(e[0])/255,o=parseFloat(e[1])/255,l=parseFloat(e[2])/255,c=parseFloat(e[3])}else{let e=new Kt(i);a=e.r,o=e.g,l=e.b}let h=this;return t.forEach((t=>{let i=e.getNodeBySid(t);null!=i&&(r=!0,h.updateNodeColor(i,a,o,l,c))})),e.render(),r||(n=-2),n}static updateNodeColor(e,t=-1,i=-1,n=-1,r=-1,s){if(1==t&&1==i&&1==n&&1==r)return;if(e.isGroup||e.isLOD||e.isLight);else if(e.isMesh||e.isLine||e.isPoints||e.isSprite){let a=e.geometry,o=e.geometry.attributes.color.clone();if(e.geometry.attributes.orgColor||a.setAttribute("orgColor",o),-2==t&&-2==i&&-2==n){let e=Array.from(o.array);for(let t=3;t<e.length-3;t+=4)e[t]=r;a.setAttribute("color",new Cn(new Float32Array(e),4))}else if(-1==t&&-1==i&&-1==n&&-1==r)e.material.map||(e.material.isUpdateMaterial&&s?e.material=s.ModelMaterial:(o=e.geometry.attributes.orgColor.clone(),a.setAttribute("color",o),a.deleteAttribute("orgColor")));else{let e=o.array.length/4,s=[];for(let a=0;a<e;a++)s.push(t),s.push(i),s.push(n),s.push(r);a.setAttribute("color",new Cn(new Float32Array(s),4))}}const a=e.children;for(let e=0,o=a.length;e<o;e++)this.updateNodeColor(a[e],t,i,n,r,s)}static getObjectColorBySID(e,t){let i=new ii(-2,-2,-2,-2),n=e.getNodeBySid(t);if(null!=n&&n.isGroup){const e=n.children;if(e.length>0){let t=e[0].geometry.attributes.color.array,n=t[0],r=t[1],s=t[2],a=t[3];i=new ii(255*n,255*r,255*s,a)}}return i}static recoverObjectColorBySID(e,t){let i=this,n=0,r=!1;return t.forEach((t=>{let n=e.getNodeBySid(t);null!=n&&(r=!0,n.children.length>0&&(n.children[0].material.isUpdateMaterial?n.traverse((function(t){t.isMesh&&(t.material=e.ModelMaterial)})):n.children[0].material.map||i.updateNodeColor(n,-1,-1,-1,-1,e)))})),e.render(),r||(n=-2),n}static recoverAllObjectColor(e){let t=this;e.modelRoot.traverse((i=>{t.updateNodeColor(i,-1,-1,-1,-1,e)})),e.render()}static setAllObjectAlpha(e,t){let i=this;e.modelRoot.traverse((e=>{i.updateNodeColor(e,-2,-2,-2,t)})),e.render()}static setObjectAlphaBySID(e,t,i){let n=0,r=!1,s=this;return t.forEach((t=>{let n=e.getNodeBySid(t);null!=n&&(r=!0,s.updateNodeColor(n,-2,-2,-2,i))})),e.render(),r||(n=-2),n}static getObjectAlphaBySID(e,t){let i=-2,n=e.getNodeBySid(t);if(null!=n&&n.isGroup){let e=n.children;if(e.length>0){let t=e[0].geometry.attributes.color.array;t.length>=4&&(i=t[3])}}return i}static recoverObjectAlphaBySID(e,t){let i=0,n=!1,r=this;return t.forEach((t=>{let i=e.getNodeBySid(t);null!=i&&(n=!0,r.updateNodeColor(i,-1,-1,-1,-1,e))})),e.render(),n||(i=-2),i}static recoverAllObjectAlpha(e){let t=this;e.modelRoot.traverse((i=>{t.updateNodeColor(i,-1,-1,-1,-1,e)})),e.render()}static setMaterialColorBySID(e,t,i){let n=0,r=1,s=1,a=1;if(-1!=i.toLowerCase().indexOf("rgba")){let e=cd.getRGBA(i);r=parseFloat(e[0])/255,s=parseFloat(e[1])/255,a=parseFloat(e[2])/255,parseFloat(e[3])}else{let e=new Kt(i);r=e.r,s=e.g,a=e.b}let o=new Kt(r,s,a);return t.forEach((t=>{e.getNodeBySid(t).traverse((function(e){e.isMesh&&(e.material=e.material.clone(),e.material.vertexColors=!1,e.material.color=o,e.material.opacity=1,e.material.isUpdateMaterial=!0)}))})),e.render(),n=-2,-2}static getMaterialColorBySID(e,t){let i=new ii(-2,-2,-2,-2),n=e.getNodeBySid(t);if(null!=n&&n.isGroup){let e=n.children;if(e.length>0){let t=e[0].material.color,n=e[0].material.opacity;i=new ii(t.r,t.g,t.b,n)}}return i}static setMaterialAlphaBySID(e,t,i){let n=0,r=!1;return t.forEach((t=>{let n=e.getNodeBySid(t);null!=n&&(r=!0,n.traverse((function(e){e.isMesh&&(e.material=e.material.clone(),e.material.opacity=i,null!=e.material.orgOpacity&&(e.material.orgOpacity=e.material.opacity),e.material.isUpdateMaterial=!0)})))})),e.render(),r||(n=-2),n}static getMaterialAlphaBySID(e,t){let i=-2,n=e.getNodeBySid(t);if(null!=n&&n.isGroup){let e=n.children;e.length>0&&(i=e[0].material.opacity)}return i}static setAllObjectVisibility(e,t){e.visibleNode(e.modelRoot,t),e.simuTree&&(t?e.simuTree.checkAllNode(!0):e.simuTree.checkAllNode(!1)),e.render()}static setObjectVisibilityBySID(e,t,i){let n=e,r=0,s=!1;return t.forEach((t=>{let r=n.getNodeBySid(t);null!=r&&(s=!0,e.visibleNode(r,i))})),e.render(),s||(r=-2),r}static getObjectVisibilityBySID(e,t){let i=e.getNodeBySid(t);return null!=i?i.visible=i.layers.test(e.camera.layers)?1:0:-2}static zoomToScene(e){let t=new oi;t.copy(e.sceneBoundingSphere.center),e.light&&e.light.position.copy(t),e.rotateCenter.copy(t);let i=kt.degToRad(25*Math.min(e.camera.aspect,1)),n=e.sceneBoundingSphere.radius/Math.sin(i),r=new oi;r.subVectors(e.camera.position,e.cameraTarget).normalize(),r.multiplyScalar(n),e.camera.position.copy(t).add(r),e.cameraTarget.copy(t),e.camera.target=e.cameraTarget.clone(),e.cameraPosition=e.camera.position.clone(),e.camera.updateMatrix(),e.camera.updateMatrixWorld(),e.render(),e.zoomToSceneTween()}static zoomToSceneTween(e){let t=new oi;t.copy(e.sceneBoundingSphere.center);let i={position:e.camera.position.clone(),target:e.controls.target.clone(),up:e.camera.up.clone()},n=kt.degToRad(25*Math.min(e.camera.aspect,1)),r=e.sceneBoundingSphere.radius/Math.sin(n),s=new oi;s.subVectors(e.camera.position,e.cameraTarget).normalize(),s.multiplyScalar(r);let a={position:e.camera.position.clone().copy(t).add(s),target:e.controls.target.clone().copy(t),up:e.camera.up.clone().copy(e.camera.up)};e._tweenCamera(i,a)}static zoomToSID(e,t){let i=[],n=0,r=!1;return t.forEach((t=>{let n=e.getNodeBySid(t);null!=n&&(r=!0,i.push(n))})),e.zoomNodes(i),r||(n=-2),n}static zoomToSelectedObject(e){e.zoomNodes(e.selectedSimuNodes)}static saveCamera(e){let t={};return t.position=e.camera.position.clone(),t.target=e.controls.target.clone(),t.up=e.camera.up.clone(),t}static setCamera(e,t){let i={position:e.camera.position.clone(),target:e.controls.target.clone(),up:e.camera.up.clone()};this._tweenCamera(e,i,t),e.camera.position.copy(t.position),e.cameraTarget.copy(t.target),e.camera.up.copy(t.up),e.camera.lookAt(e.cameraTarget),e.camera.updateMatrix(),e.camera.updateMatrixWorld(),e.render()}static _tweenCamera(e,t,i){let n=(new oi).subVectors(t.position,i.position).length(),r=Math.max(Math.min(n,500),1e3);Xh(),new Zh(t).to(i,r).onUpdate((({position:t,target:i,up:n})=>{e.controls.cameraPostion=t,e.controls.target.copy(i),e.controls.cameraUp=n,e.controls.update()})).onComplete((({position:t,target:i,up:n})=>{e.enableLoopRender(!1)})).start(),e.enableLoopRender(!0)}static setCameraView(e,t){(t<0||t>21)&&(t=14);let i=e.sceneBoundingSphere.center,n={position:e.camera.position.clone(),target:e.cameraTarget.clone(),up:e.camera.up.clone()},r=kt.degToRad(25*Math.min(e.camera.aspect,1)),s=e.sceneBoundingSphere.radius/Math.sin(r),a=0,o=new oi,l=new oi;switch(t){case 0:o.set(.1,.1,.99).normalize(),l.set(0,1,0);break;case 1:o.set(.1,.1,-.99).normalize(),l.set(0,-1,0);break;case 2:o.set(0,-1,0),l.set(0,0,1);break;case 3:o.set(0,1,0),l.set(0,0,1);break;case 4:o.set(-1,0,0),l.set(0,0,1);break;case 5:o.set(1,0,0),l.set(0,0,1);break;case 6:o.set(-1,-1,1).normalize(),l.set(0,0,1);break;case 7:o.set(-1,-1,-1).normalize(),l.set(0,0,-1);break;case 8:o.set(1,-1,1).normalize(),l.set(0,0,1);break;case 9:o.set(1,-1,-1).normalize(),l.set(0,0,-1);break;case 10:o.set(-1,1,1).normalize(),l.set(0,0,1);break;case 11:o.set(-1,1,-1).normalize(),l.set(0,0,-1);break;case 12:o.set(1,1,1).normalize(),l.set(0,0,1);break;case 13:o.set(1,1,-1).normalize(),l.set(0,0,-1);break;case 14:o.set(0,-1,1).normalize(),l.set(0,0,1);break;case 15:o.set(0,-1,-1).normalize(),l.set(0,0,-1);break;case 16:o.set(0,1,1).normalize(),l.set(0,0,1);break;case 17:o.set(0,1,-1).normalize(),l.set(0,0,-1);break;case 18:o.set(1,0,1).normalize(),l.set(0,0,1);break;case 19:o.set(1,0,-1).normalize(),l.set(0,0,-1);break;case 20:o.set(-1,0,1).normalize(),l.set(0,0,1);break;case 21:o.set(-1,0,-1).normalize(),l.set(0,0,-1);break;default:a=-2}o.multiplyScalar(s);let c={position:e.camera.position.clone().copy(i).add(o),target:e.cameraTarget.clone().copy(i),up:l.clone()};return this._tweenCamera(e,n,c),a}static updateLineMaterial(e,t){if(t.isGroup||t.isLOD||t.isLight);else if(t.isMesh||t.isLine||t.isPoints||t.isSprite){let i=t.geometry.clone();if(i.attributes.position){let n=new al(i,1),r=new No({color:16711680}),s=new Ho(n,r),a=t.matrixWorld;a&&(s.applyMatrix4(a),s.updateMatrix(),s.updateMatrixWorld()),e.borderGroup.add(s)}}const i=t.children;for(let t=0,n=i.length;t<n;t++)this.updateLineMaterial(e,i[t])}static updateBorderModeMaterial(e,t=!0){e.isGroup||e.isLOD||e.isLight||(e.isMesh||e.isLine||e.isPoints||e.isSprite)&&(e.material.wireframe=t);const i=e.children;for(let e=0,n=i.length;e<n;e++)this.updateBorderModeMaterial(i[e],t)}static setBorderMode(e,t){let i=this;e.wireframeMode&&e.setWireframeMode(!1),e.borderGroup||(e.borderGroup=new Qa,e.scene.add(e.borderGroup)),e.borderMode=t,t?(e.modelRoot.traverse((function(t){t.layers.test(e.camera.layers)&&i.updateLineMaterial(e,t)})),e.visibleNode(e.modelRoot,!1)):(e.visibleNode(e.modelRoot,!0),e.borderGroup.clear()),e.render()}static setWireframeMode(e,t){let i=this;e.wireframeMode=t,e.borderMode&&e.setBorderMode(),e.modelRoot.traverse((n=>{n.layers.test(e.camera.layers)&&i.updateBorderModeMaterial(n,t)})),e.render()}static setColorMode(e){e.setBorderMode(!1),e.setWireframeMode(!1),e.textureMode&&(e.textureMode=!1,e.modelRoot.traverse((function(t){t.isMesh&&(t.material=e.ModelMaterial)}))),e.render()}static _getColor(e,t=1){let i,n=1,r=1,s=1,a=1;return n=(e>>24&255)/255,r=(e>>16&255)/255,s=(e>>8&255)/255,t?(a=(255&e)/255,i=new ii(n,r,s,a)):i=new Kt(n,r,s),i}static setTextureMode(e,t,i){let n=new Map,r=new Map;for(let e=0,i=t.length;e<i;e++)n.set(t[e].materialid,t[e]);for(let e=0,t=i.length;e<t;e++)r.set(i[e].materialid,i[e]);let s=this;e.textureMode=!0,e.modelRoot.traverse((function(t){t.isGroup&&"modelNode"==t.modelType&&(t.materialid&&t.traverse((function(e){if(e.isMesh){let i=n.get(t.materialid);e.material=t.material.clone(),e.material.vertexColors=!1,e.material.color=s._getColor(i.diffuse),e.material.shininess=i.shininess,e.material.emissive=s._getColor(i.emission),e.material.specular=s._getColor(i.specular)}})),t.traverse((function(e){if(!e.isMesh)return;const t=new Fc;e.geometry.attributes.uv||s.computeUVs(e.geometry,1),t.load("data:image/jpeg;base64,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",(function(t){t.wrapS=ae,t.wrapT=ae,e.material=e.material.clone(),e.material.map=t}))})),e.render())}))}static setTextureMode1(e,t,i){let n=new Map,r=new Map;for(let e=0,i=t.length;e<i;e++)n.set(t[e].materialid,t[e]);for(let e=0,t=i.length;e<t;e++)r.set(i[e].materialid,i[e]);let s=this;e.modelRoot.traverse((function(e){if(e.isGroup&&"modelNode"==e.modelType&&(e.materialid&&e.traverse((function(t){if(t.isMesh){let i=n.get(e.materialid);t.material=e.material.clone(),t.material.vertexColors=!1,t.material.color=s._getColor(i.diffuse),t.material.shininess=i.shininess,t.material.emissive=s._getColor(i.emission),t.material.specular=s._getColor(i.specular)}})),e.textureid)){let t=r.get(e.textureid).texture;e.traverse((function(e){if(!e.isMesh)return;const i=new Fc;let n=t;e.geometry.attributes.uv||s.computeUVs(e.geometry,1),i.load(n,(function(t){t.wrapS=ae,t.wrapT=ae,e.material=e.material.clone(),e.material.map=t}))}))}}))}static hideSelectMesh(e){if(!e.selectedSimuNodes)return;let t=e.selectedSimuNodes,i=t.length;for(let n=0;n<i;n++){let i=t[n];e.visibleNode(i,!1)}e.render()}static hideUnSelectMesh(e){if(!e.selectedSimuNodes)return;let t=e.selectedSimuNodes,i=t.length;this.setAllObjectVisibility(e,!1);for(let n=0;n<i;n++){let i=t[n];e.visibleNode(i,!0)}e.render()}static showHidedMesh(e){this.setAllObjectVisibility(e,!0),e.render()}static setCSS2DRender(e){e.css2DRenderer=new gd,e.css2DRenderer.setSize(e.container.offsetWidth,e.container.offsetHeight),e.css2DRenderer.domElement.style.position="absolute",e.css2DRenderer.domElement.style.pointerEvents="none",e.renderer.domElement.getBoundingClientRect(),e.css2DRenderer.domElement.style.top="0px",e.css2DRenderer.domElement.style.left="0px",e.container.appendChild(e.css2DRenderer.domElement)}static computeUVs(e,t){if(!e.isBufferGeometry)return;e.computeBoundingBox();const i=e.boundingBox.max,n=e.boundingBox.min,r=e.attributes.position.array,s=e.attributes.normal.array;let a=[];const o=[new oi(1,0,0),new oi(0,1,0),new oi(0,0,1)],l=[new qt(0-n.y,0-n.z),new qt(0-n.x,0-n.z),new qt(0-n.x,0-n.y)],c=[new qt(i.y-n.y,i.z-n.z),new qt(i.x-n.x,i.z-n.z),new qt(i.x-n.x,i.y-n.y)];for(let e=0;e<r.length;e+=3){const i=r[e],n=r[e+1],h=r[e+2];let d=new oi(i,n,h);const u=s[e],p=s[e+1],m=s[e+2];let f=new oi(u,p,m);f=f.normalize();let g,y=[Math.abs(f.dot(o[0])),Math.abs(f.dot(o[1])),Math.abs(f.dot(o[2]))],v=y[0],x=0;y[1]>v&&(v=y[1],x=1),y[2]>v&&(v=y[2],x=2),g=0==x?this.generateUVCord(d,f,o[1],o[2],o[0],l[x],c[x],t):1==x?this.generateUVCord(d,f,o[0],o[2],o[1],l[x],c[x],t):this.generateUVCord(d,f,o[0],o[1],o[2],l[x],c[x],t),a.push(g[0],g[1])}return e.attributes.uv=new Cn(new Float32Array(a),2),e.attributes.uv.needsUpdate=!0,a}static generateUVCord(e,t,i,n,r,s,a,o=1){let l=r.clone().multiplyScalar(t.clone().dot(r)),c=i.clone().multiplyScalar(t.clone().dot(i)).add(l),h=n.clone().multiplyScalar(t.clone().dot(n)).add(l),d=1,u=1;c.length()>.01&&(d=c.dot(r)/c.length()),h.length()>.01&&(u=h.dot(r)/h.length());let p=new qt(s.x/d,s.y/u),m=new qt(a.x/d,a.y/u),f=e.dot(i)/d,g=e.dot(n)/u;return[(f+p.x)/m.x,(g+p.y)/m.y]}static editMaterial(e,t){let i=this,n=t.url,r=null==t.mapType?"1":t.mapType,s=null==t.imgScaleX?1:t.imgScaleX,a=null==t.imgScaleY?1:t.imgScaleY,o=t.callback;const l=new Fc;let c=[];l.load(n,(function(l){var h=l.image;0==r?(l.wrapS=se,l.wrapT=se):(l.wrapS=ae,l.wrapT=ae),l.encoding=vt,0==r&&l.repeat.set(s,a),l.magFilter=le;let d=h.width/h.height;if(t.ids&&Array.isArray(t.ids)&&t.ids.length>0){c=t.ids;for(let n=0,r=t.ids.length;n<r;n++){let r=t.ids[n];e.getNodeBySid(r).traverse((function(e){if(e.isMesh){let t=e.geometry;t.attributes.uv||i.computeUVs(t,d);let n=e.material.clone();n.map=l,n.needsUpdate=!0,e.material=n}}))}}else if(e.selectedSimuNodes&&e.selectedSimuNodes.length>0){let t=[];for(let n=0,r=e.selectedSimuNodes.length;n<r;n++){let r=e.selectedSimuNodes[n];r.name&&t.push(r.name),r.traverse((function(e){if(e.isMesh){let t=e.geometry;t.attributes.uv||i.computeUVs(t,d);let n=e.material.clone();n.map&&n.map.dispose(),n.map=void 0,n.map=l,n.needsUpdate=!0,e.material=n}}))}c=t}e.render(),o&&o({ids:c,url:n})}),(function(){}),(function(e){}))}static updateMaterial(e,t){let i=null==t.scaleX?1:t.scaleX,n=null==t.scaleY?1:t.scaleY;if(t.ids&&Array.isArray(t.ids)&&t.ids.length>0)for(let r=0,s=t.ids.length;r<s;r++){let s=t.ids[r];e.getNodeBySid(s).traverse((function(e){e.isMesh&&e.material&&e.material.map&&(e.material.map.wrapS==se&&e.material.map.repeat.set(i,n),e.material.map.magFilter=le)}))}else if(e.selectedSimuNodes&&e.selectedSimuNodes.length>0)for(let t=0,r=e.selectedSimuNodes.length;t<r;t++){e.selectedSimuNodes[t].traverse((function(e){e.isMesh&&e.material&&e.material.map&&(e.material.map.wrapS==se&&e.material.map.repeat.set(i,n),e.material.map.magFilter=le)}))}e.render()}}class vd{constructor(e){let t=this;this.simuViewer=e,this.scene=this.simuViewer.scene,this.camera=this.simuViewer.camera,this.renderer=this.simuViewer.renderer,this.canvas=this.renderer.domElement,this.raycaster=new Th,this.intersected=null,this.isActive=!1,this.type="",this.SECTIONTYPE={XY:"XY",XZ:"XZ",YZ:"YZ",THREEPTS:"THREEPTS",PICKFACE:"PICKFACE",FREESECTION:"FREESECTION"},this.mouse=new qt,this.ray=new Th,t.lastPoint=void 0,t.lastIntersection=void 0,t.offset=new oi,this.XYNormal=new oi(0,0,-1),this.XZNormal=new oi(0,-1,0),this.YZNormal=new oi(-1,0,0),this.planeHelper=null,t.pickArray=[],t.sectionGroup=new Qa,this.simuViewer.scene.add(t.sectionGroup),this.boxSelectState=this.simuViewer.boxSelect,t._beginDrag=t.beginDrag.bind(this),t._onMouseClicked=t.onMouseClicked.bind(this)}beginDrag(e){let t=this;if(!t.simuViewer.globalPlaneMesh||!t.simuViewer.globalPlaneMesh.visible||0!=e.button)return;let i=e.clientX,n=e.clientY,r=t.simuViewer.renderer.domElement.getBoundingClientRect();t.mouse.x=(i-r.left)/r.width*2-1,t.mouse.y=-(n-r.top)/r.height*2+1,t.ray.setFromCamera(t.mouse,t.simuViewer.camera);let s=t.ray.intersectObjects([t.simuViewer.globalPlaneMesh]);if(!(s.length>0))return;t.activeObject=s[0].object,t.screenPlane=new vr,t.screenPlane.setFromNormalAndCoplanarPoint(t.simuViewer.camera.getWorldDirection(t.screenPlane.normal),t.activeObject.position),t.press=!0,e.preventDefault(),e.stopPropagation(),t.simuViewer.renderer.domElement.style.cursor="move";let a=function(e){if(t.press&&t.simuViewer.globalPlaneMesh.visible){if(e.preventDefault(),e.stopPropagation(),t.lastPoint&&t.lastIntersection){let i=t.screenTOWorld(e.clientX,e.clientY);t.offset.subVectors(i,t.lastIntersection),t.offset.projectOnVector(t.ClipPlaneNormal);let n,r=t.offset.add(t.lastPoint),s=t.simuViewer.globalPlaneMesh.index;0===s?n=r.x:1===s?n=r.y:2===s&&(n=r.z);let a=t.simuViewer.globalPlaneMesh.position;0===s||1===s||2===s?a.setComponent(s,n):a=r.clone();let o=new vr(t.ClipPlaneNormal,0).distanceToPoint(r);t.simuViewer.globalPlaneMesh.position.copy(a),t.simuViewer.globalPlane.constant=-o}t.lastPoint=t.simuViewer.globalPlaneMesh.position.clone(),t.lastIntersection=t.screenTOWorld(e.clientX,e.clientY),t.simuViewer.globalPlaneMesh.updateMatrix(),t.simuViewer.globalPlaneMesh.updateMatrixWorld(),t.simuViewer.render()}},o=function(e){t.press=!1,t.simuViewer.renderer.domElement.style.cursor="pointer",document.removeEventListener("mousemove",a,!1),document.removeEventListener("touchmove",a,{passive:!1}),document.removeEventListener("mouseup",o,!1),document.removeEventListener("touchend",o,{passive:!1}),document.removeEventListener("touchcancel",o,{passive:!1}),document.removeEventListener("touchleave",o,{passive:!1})};document.addEventListener("mousemove",a,!1),document.addEventListener("touchmove",a,{passive:!1}),document.addEventListener("mouseup",o,!1),document.addEventListener("touchend",o,{passive:!1}),document.addEventListener("touchcancel",o,{passive:!1}),document.addEventListener("touchleave",o,{passive:!1})}onMouseClicked(e){let t=this;if(!t.raycaster||!t.camera||!t.scene)return;let i=t.getMouseWorldPos(e);const n=i.point,r=i.normal;if(!n)return;this.localIDS&&this.updateNodeClippingPlanes(!0);let s=new vr,a=t.simuViewer;if(t.SECTIONTYPE.PICKFACE==t.simuViewer.clippingType){let e=(new vr).setFromNormalAndCoplanarPoint(r.normalize(),n);t.ClipPlaneNormal=r,a.globalPlaneMesh||a.scene.remove(a.globalPlaneMesh),a.globalPlaneMesh=new ir(new Ar(3*a.sceneBoundingSphere.radius,3*a.sceneBoundingSphere.radius,2,2),new An({color:16711680,transparent:!0,opacity:.2,side:p,depthWrite:!1,depthTest:!1})),a.scene.add(a.globalPlaneMesh),a.globalPlaneMesh.visible=!0;let i=new oi(0,0,1),s=i.clone().cross(r).normalize(),o=i.clone().angleTo(r);const l=new ai;l.setFromAxisAngle(s,o);let c=new ki;c.makeRotationFromQuaternion(l);let h=new oi;h=a.sceneBoundingSphere.center;let d=new oi;return e.projectPoint(h,d),c.setPosition(d.x,d.y,d.z),a.globalPlane=e,a.globalPlaneMesh.applyMatrix4(c),a.globalPlaneMesh.updateMatrix(),a.globalPlaneMesh.updateMatrixWorld(),a.planeNormal=r,a.clippingType="PICKFACE",a.globalPlanes.splice(0,a.globalPlanes.length),a.globalPlanes.push(a.globalPlane),void a.render()}t.pickArray.push(n);const o=t.createPtMarker(n);if(t.sectionGroup.add(o),t.simuViewer.render(),2==t.pickArray.length&&t.SECTIONTYPE.FREESECTION==t.simuViewer.clippingType){let e=new oi(0,0,0);e.subVectors(t.pickArray[1],t.pickArray[0]);let i=new oi(0,0,0);t.camera.getWorldDirection(i);let n=i.clone().cross(e).normalize();s.setFromNormalAndCoplanarPoint(n,t.pickArray[1])}if(3==t.pickArray.length&&t.SECTIONTYPE.THREEPTS==t.simuViewer.clippingType&&s.setFromCoplanarPoints(t.pickArray[0],t.pickArray[1],t.pickArray[2]),2==t.pickArray.length&&t.SECTIONTYPE.FREESECTION==t.simuViewer.clippingType||3==t.pickArray.length&&t.SECTIONTYPE.THREEPTS==t.simuViewer.clippingType){t.ClipPlaneNormal=s.normal,a.globalPlane=s;const e=new Nh(s,2,16776960);e.updateMatrixWorld(!0),e.updateMatrix(),e.updateMatrixWorld(),t.ClipPlaneNormal=s.normal,a.globalPlaneMesh||a.scene.remove(a.globalPlaneMesh),a.globalPlaneMesh=new ir(new Ar(3*a.sceneBoundingSphere.radius,3*a.sceneBoundingSphere.radius,2,2),new An({color:16711680,transparent:!0,opacity:.2,side:p,depthWrite:!1,depthTest:!1})),a.globalPlaneMesh.renderOrder=9991,a.scene.add(a.globalPlaneMesh),a.render(),a.globalPlaneMesh.visible=!0;let i=new oi;i=a.sceneBoundingSphere.center;let n=new oi;s.projectPoint(i.clone(),n);let r=e.matrixWorld.clone();r.setPosition(n.x,n.y,n.z),a.globalPlaneMesh.applyMatrix4(r);let o=s.normal;a.planeNormal=o,a.globalPlaneMesh.updateMatrix(),a.globalPlaneMesh.updateMatrixWorld(),a.globalPlanes.splice(0,a.globalPlanes.length),a.globalPlanes.push(a.globalPlane),a.render(),t.sectionGroup.clear(),t.canvas.removeEventListener("click",t._onMouseClicked),t.pickArray.splice(0,t.pickArray.length)}}deactive(){let e=this,t=e.simuViewer;e.isActive=!1,t.renderer.domElement.removeEventListener("mousedown",e._beginDrag,!1),t.renderer.domElement.removeEventListener("touchstart",e._beginDrag,{passive:!1}),e.clearSectionView(),e.simuViewer.render()}updateNodeClippingPlanes(e=!0){let t=this.simuViewer;if(this.localIDS)for(let i=0,n=this.localIDS.length;i<n;i++){let n=t.getNodeBySid(this.localIDS[i]);n&&n.traverse((function(i){if(i.isMesh){let n=i.material.isSelect;i.material.map||i.material.isUpdateMaterial?i.material.clippingPlanes=e?t.clipModelMaterial.clippingPlanes:t.ModelMaterial.clippingPlanes:i.material=e?n?t.clipSelectMaterial:t.clipModelMaterial:n?t.SelectMaterial:t.ModelMaterial}}))}}setSectionView(e){let t=this,i=this.simuViewer;if(t.clearSectionView(),t.isActive=!0,i.globalPlanes.splice(0,i.globalPlanes.length),e.localClip){let t=e.ids;this.localIDS=[].concat(t),i.ModelMaterial.clippingPlanes=Object.freeze([]),i.SelectMaterial.clippingPlanes=Object.freeze([]),i.clipModelMaterial.clippingPlanes=i.globalPlanes,i.clipSelectMaterial.clippingPlanes=i.globalPlanes,i.modelRoot.traverse((function(e){e.isMesh&&(e.material.map||e.material.isUpdateMaterial)&&(e.material.clippingPlanes=i.ModelMaterial.clippingPlanes)}))}else i.clipModelMaterial.clippingPlanes=Object.freeze([]),i.clipSelectMaterial.clippingPlanes=Object.freeze([]),i.ModelMaterial.clippingPlanes=i.globalPlanes,i.SelectMaterial.clippingPlanes=i.globalPlanes,i.modelRoot.traverse((function(e){e.isMesh&&(e.material.map||e.material.isUpdateMaterial)&&(e.material.clippingPlanes=i.ModelMaterial.clippingPlanes)}));if(i.renderer.domElement.addEventListener("mousedown",t._beginDrag,!1),i.renderer.domElement.addEventListener("touchstart",t._beginDrag,{passive:!1}),e.type==t.SECTIONTYPE.PICKFACE)t.simuViewer.clippingType="PICKFACE",t.canvas.addEventListener("click",this._onMouseClicked);else if(e.type==t.SECTIONTYPE.THREEPTS)t.simuViewer.clippingType="THREEPTS",t.canvas.addEventListener("click",this._onMouseClicked);else if(e.type==t.SECTIONTYPE.FREESECTION)t.simuViewer.clippingType="FREESECTION",t.canvas.addEventListener("click",this._onMouseClicked);else{e.localClip&&this.updateNodeClippingPlanes(!0);let n=new oi;n=i.sceneBoundingSphere.center;let r=new kn;const s=new Float32Array([n.x-1,n.y-1,n.z-1]);t.boxCenter=n.clone(),r.setAttribute("position",new Cn(s,3)),i.globalPlaneMesh||(i.globalPlaneMesh=new ir(new Ar(3*i.sceneBoundingSphere.radius,3*i.sceneBoundingSphere.radius,2,2),new An({color:16711680,transparent:!0,opacity:.2,side:p,depthWrite:!1,depthTest:!1})),i.scene.add(i.globalPlaneMesh)),i.globalPlaneMesh.visible=!0;let a=new ki;console.log(a),i.globalPlaneMesh.applyMatrix4(a),i.globalPlaneMesh.updateMatrixWorld(),i.globalPlaneMesh.updateMatrix();let o,l=e.type;if(t.type=l,"XY"==l?(o=t.XYNormal,i.globalPlaneMesh.index=2,i.globalPlaneMesh.rotation.z=-Math.PI/2):"XZ"==l?(i.globalPlaneMesh.rotation.x=-Math.PI/2,o=t.XZNormal,i.globalPlaneMesh.index=1):"YZ"==l?(i.globalPlaneMesh.rotation.y=-Math.PI/2,i.globalPlaneMesh.index=0,o=t.YZNormal):o=e.planeNormal,!o)return;let c=new vr(o,0).distanceToPoint(n);t.ClipPlaneNormal=o,i.globalPlane=new vr(o,-c);let h=new oi(n.x,n.y,n.z);i.globalPlaneMesh.visible=!0,i.globalPlaneMesh.position.copy(h),i.globalPlaneMesh.updateMatrix(),i.globalPlaneMesh.updateMatrixWorld(),i.planeNormal=o,i.clippingType=l,i.globalPlanes.splice(0,i.globalPlanes.length),i.globalPlanes.push(i.globalPlane),i.render()}}getMouseWorldPos(e){let t=this;if(t.raycaster&&t.camera&&t.scene)return cd.getMouseWorldPosition(e,t.simuViewer.modelRoot,t.simuViewer.camera,this.simuViewer.renderer,this.simuViewer.container)}createPtMarker(e){let t=cd.creatPt(e,"rgba(0,255,255)");return t.name=this.OBJ_NAME,t}clearSectionView(){let e=this;this.localIDS&&(this.updateNodeClippingPlanes(!1),this.localIDS.splice(0,this.localIDS.length)),e.simuViewer.globalPlaneMesh&&(e.simuViewer.globalPlaneMesh.visible=!1),e.scene.remove(e.simuViewer.globalPlaneMesh),e.simuViewer.globalPlaneMesh=void 0,e.simuViewer.globalPlane=void 0,e.simuViewer.globalPlanes&&e.simuViewer.globalPlanes.splice(0,e.simuViewer.globalPlanes.length),e.simuViewer.renderer.clippingPlanes=Object.freeze([]),e.clipPlaneHelper&&(e.clipPlaneHelper.visible=!1),e.canvas.removeEventListener("click",this._onMouseClicked),e.pointArray=[],e.sectionGroup.clear(),e.simuViewer.render()}screenTOWorld(e,t){let i=this,n=this.simuViewer,r=new oi,s=n.renderer.domElement.getBoundingClientRect();return i.mouse.x=(e-s.left)/s.width*2-1,i.mouse.y=-(t-s.top)/s.height*2+1,i.ray.setFromCamera(i.mouse,n.camera),i.ray.ray.intersectPlane(i.screenPlane,r),r}}class xd{constructor(e){this.simuViewer=e,this.scene=this.simuViewer.scene,this.camera=this.simuViewer.camera,this.renderer=this.simuViewer.renderer,this.canvas=this.renderer.domElement,this.type="",this.explodeNode=[]}explodeModel(e){let t=e.node,i=e.explodeCenter,n=e.explodeFactor;t&&(t.traverse((e=>{if(e.isMesh&&(e.geometry&&!e.geometry.boundingSphere&&e.geometry.computeBoundingSphere(),e.geometry.boundingSphere)){let t=e.geometry.boundingSphere.clone().applyMatrix4(e.matrixWorld).center,r=(new oi).subVectors(t,i).normalize().multiplyScalar(n);e.orgMatrix||(e.orgMatrix=e.matrixWorld);let s=new ki,a=new oi;e.explodeVector&&(a=e.explodeVector),e.explodeVector=r,s.makeTranslation(-a.x+r.x,-a.y+r.y,-a.z+r.z),e.applyMatrix4(s),e.updateMatrix(),e.updateMatrixWorld()}})),this.simuViewer.render())}cancelExplode(e){e.node.traverse((e=>{if(e.isMesh){let t=new oi;e.explodeVector&&(t=e.explodeVector);let i=new ki;e.explodeVector=void 0,i.makeTranslation(-t.x,-t.y,-t.z),e.applyMatrix4(i),e.updateMatrix(),e.updateMatrixWorld()}})),this.simuViewer.render()}globeExpodeModel(e){let t=this;this.isLocalExplodeModel&&(this.cancelGlobeExplode(),this.isLocalExplodeModel=!1),t.isGlobeExplodeModel=!0;let i=void 0!==(e=e||{}).explodeFactor?e.explodeFactor:10,n=t.simuViewer.sceneBoundingSphere,r=new oi(0,0,0);r=n.center;let s={};s.node=t.simuViewer.modelRoot,s.explodeCenter=r,s.explodeFactor=i,this.explodeModel(s)}cancelGlobeExplode(){this.isGlobeExplodeModel=!1;let e={};e.node=this.simuViewer.modelRoot,this.cancelExplode(e)}localExplodeModelBake(e){let t=this;t.isGlobeExplodeModel&&(t.cancelGlobeExplode(),t.isGlobeExplodeModel=!1);let i=e.ids,n=void 0!==e.explodeFactor?e.explodeFactor:10;t.isLocalExplodeModel=!0;for(let e=0,r=i.length;e<r;e++){let r=i[e],s=this.simuViewer.modelRoot.getObjectByName(r),a=this.simuViewer.getBoundingSphere(s,t.camera);if(a){let e=a.center;this.explodeModel({node:s,explodeCenter:e,explodeFactor:n})}}}cancelLocalExplodeBake(e){let t=e.ids,i=this;i.isLocalExplodeModel=!1;for(let e=0,n=t.length;e<n;e++){let n=t[e],r=this.simuViewer.modelRoot.getObjectByName(n);i.cancelExplode({node:r})}}localExplodeModel(e){let t=this;t.isGlobeExplodeModel&&(t.cancelGlobeExplode(),t.isGlobeExplodeModel=!1);let i,n=e.ids,r=null!=e.type?e.type:1,s=void 0!==e.explodeFactor?e.explodeFactor:10;t.isLocalExplodeModel=!0;let a,o=[];r&&(a=this.simuViewer.sceneBoundingSphere.center);let l="";for(let e=0,c=n.length;e<c;e++){let c=n[e],h=this.simuViewer.modelRoot.getObjectByName(c);if(h)if(r)t.explodeModel({node:h,explodeCenter:a,explodeFactor:s});else{let e=this.simuViewer.getBoundingSphere(h,t.camera);e&&(i?i.union(e):i=e,o.push(h))}else l+=c+"、"}l&&console.log("未找到以下节点"+l),!r&&i&&(a=i.center,o.forEach((e=>{t.explodeModel({node:e,explodeCenter:a,explodeFactor:s})})))}cancelLocalExplode(e){let t=e.ids,i=this;i.isLocalExplodeModel=!1;let n="";for(let e=0,r=t.length;e<r;e++){let r=t[e],s=this.simuViewer.modelRoot.getObjectByName(r);s?i.cancelExplode({node:s}):n+=r+"、"}n&&console.log("未找到以下节点"+n)}}class Md{constructor(e){this.simuViewer=e,this.LINE_MATERIAL=new No({color:39914,linewidth:10,opacity:1,transparent:!0,side:p,depthWrite:!1,depthTest:!1}),this.MESH_MATERIAL=new An({color:8900346,transparent:!0,opacity:0,side:p,depthWrite:!1,depthTest:!1}),this.yellowMeshMtl=new An({color:16776960,transparent:!0,opacity:.5,side:p,depthWrite:!1,depthTest:!1}),this.grayMeshMtl=new An({color:8421504,side:p,transparent:!0,opacity:.2,depthWrite:!1,depthTest:!1}),this.pickFaceMaterial=new An({color:255,transparent:!0,wireframe:!0,depthTest:!1}),this.writeLineMtl=new No({transparent:!0,color:1048575,depthWrite:!1,depthTest:!1}),this.yellowLineMtl=new No({transparent:!0,color:16776960,depthWrite:!1,depthTest:!1}),this.MESH_MATERIAL.needsUpdate=!0,this.MAX_POINTS=100,this.MAX_DISTANCE=500,this.OBJ_NAME="object_for_measure",this.LABEL_NAME="label_for_measure",this.MeasureMode={Coordinate:"Coordinate",Distance:"Distance",Area:"Area",Angle:"Angle",DistOfPt2Line:"DistOfPt2Line",DistOfPt2Face:"DistOfPt2Face",DistOf2Lines:"DistOf2Lines",DistOf2Objects:"DistOf2Objects",LineLen:"LineLen",LinesAngle:"LinesAngle",MeasureRadius:"MeasureRadius",Volume:"Volume",PlaneArea:"PlaneArea",PlanePerimeter:"PlanePerimeter",SlopeRatio:"SlopeRatio",SurfaceArea:"SurfaceArea"},this.MeasureMsg={LinesNonCoplanar:"两线不共面",LinesParallel:"两线平行"},this.renderer=this.simuViewer.renderer,this.scene=this.simuViewer.scene,this.camera=this.simuViewer.camera,this.controls=this.simuViewer.controls,this.mouseMoved=!1,this.isCompleted=!1,this.pointMarkers=[],this.labels=[],this.pointArray=[],this.lastClickTime=0,this.canvas=this.renderer.domElement,this.measureGroup=new Qa,this.simuViewer.scene.add(this.measureGroup);let t=this;t._onMeasureClickEvt=t.onMeasureClickEvt.bind(this),t.renderer.domElement.addEventListener("click",this._onMeasureClickEvt),t._mousedown=t.mousedown.bind(t),t._mousemove=t.mousemove.bind(t),t._mouseup=t.mouseup.bind(t),t._rightClick=t.rightClick.bind(t),t._onMouseClicked=t.onMouseClicked.bind(t),t._keydown=t.keydown.bind(t),t._getCordClick=t.getCordClick.bind(t),t._measureLineHover=t.measureLineHover.bind(this),t._measureFaceHover=t.measureFaceHover.bind(this),t._measureObjectHover=t.measureObjectHover.bind(this),t._measureSurfaceHover=t.measureSurfaceHover.bind(this)}onMeasureClickEvt(e){let t=this,i=e.clientX-t.renderer.domElement.getBoundingClientRect().left,n=e.clientY-t.renderer.domElement.getBoundingClientRect().top;const r=new qt(i/this.simuViewer.container.offsetWidth*2-1,-n/this.simuViewer.container.offsetHeight*2+1);let s=new Th;s.setFromCamera(r,this.camera);const a=s.intersectObject(this.simuViewer.modelRoot,!0);a.length>0&&(a[0].object.parent,t.measureClickCallback&&t.measureClickCallback(a[0])),this.simuViewer.render()}setMeasureClickCallback(e){this.measureClickCallback=e}mousedown(e){this.mouseMoved=!1}mousemove(e){let t=this;t.mouseMoved=!0;const i=t.getMouseWorldPosition(e).point;if(i)if(t.mode!=t.MeasureMode.DistOfPt2Line&&t.mode!=t.MeasureMode.DistOfPt2Face&&t.mode!=t.MeasureMode.MeasureRadius&&t.mode!=t.MeasureMode.Distance&&t.mode!==t.MeasureMode.Area&&t.mode!==t.MeasureMode.Angle||t.isCompleted?t.tempPointMarker&&(t.measureGroup.remove(t.tempPointMarker),t.tempPointMarker=void 0):t.tempPointMarker?(t.tempPointMarker.position.set(i.x,i.y,i.z),t.tempPointMarker.updateMatrix(),t.tempPointMarker.updateMatrixWorld()):(t.tempPointMarker=cd.creatPt(i,"rgba(0,255,255)"),t.measureGroup.add(t.tempPointMarker)),t.mode!=t.MeasureMode.Distance&&t.mode!==t.MeasureMode.Area&&t.mode!==t.MeasureMode.Angle||t.isCompleted)t.tempLine&&(t.measureGroup.remove(t.tempLine),t.tempLine=void 0);else{if(t.mode===t.MeasureMode.Area&&t.pointArray.length>0){const e=(t.tempLine||t.createLine(3)).geometry,i=e.attributes&&e.attributes.position||void 0;if(i){let e=6;i.array[e++]=t.pointArray[0].x,i.array[e++]=t.pointArray[0].y,i.array[e++]=t.pointArray[0].z}}if(t.pointArray.length>0){const e=t.pointArray[t.pointArray.length-1],n=t.tempLine||t.createLine(3);n.computeLineDistances();const r=n.geometry,s=r.attributes&&r.attributes.position||void 0;if(s){let n=0;s.array[n++]=e.x,s.array[n++]=e.y,s.array[n++]=e.z,s.array[n++]=i.x,s.array[n++]=i.y,s.array[n++]=i.z;const a=t.mode===t.MeasureMode.Area&&t.pointArray.length>=2?t.pointArray.length:2;r.setDrawRange(0,a),r.computeBoundingBox(),r.computeBoundingSphere(),this.polyline&&(this.polyline.updateMatrix(),this.polyline.updateMatrixWorld()),this.simuViewer.render(),s.needsUpdate=!0}if(t.mode===t.MeasureMode.Distance){const n=e.distanceTo(i),r=t.numberToString(n)+t.getUnitString(),s=new oi((i.x+e.x)/2,(i.y+e.y)/2,(i.z+e.z)/2);t.addOrUpdateTempLabel(r,s)}t.tempLine||(t.measureGroup.add(n),t.tempLine=n),t.simuViewer.render()}}}mouseup(e){this.onMouseClicked(e)}rightClick(e){e.preventDefault();this.complete()}onMouseClicked(e){let t=this;if(!t.raycaster||!t.camera||!t.scene||t.isCompleted)return;const i=Date.now();if(t.lastClickTime&&i-t.lastClickTime<300)return;const n=t.getMouseWorldPosition(e).point;if(!n)return;t.lastClickTime=i;const r=t.pointArray.length;if(t.mode==t.MeasureMode.DistOfPt2Line||t.mode==t.MeasureMode.DistOfPt2Face||t.mode==t.MeasureMode.MeasureRadius||t.mode==t.MeasureMode.Distance||t.mode===t.MeasureMode.Area||t.mode===t.MeasureMode.Angle){const e=cd.creatPt(n,"rgba(0,255,255)");t.pointMarkers.push(e),t.measureGroup.add(e)}if((t.mode===t.MeasureMode.Distance||t.mode===t.MeasureMode.Area||t.mode===t.MeasureMode.Angle)&&t.polyline){const e=t.polyline.geometry,i=e.attributes&&e.attributes.position||void 0;if(i&&3*r+3<t.MAX_POINTS){const s=3*r;if(e.setDrawRange(0,r),i.array[s]=n.x,i.array[s+1]=n.y,i.array[s+2]=n.z,e.setDrawRange(0,r+1),e.computeBoundingBox(),e.computeBoundingSphere(),this.polyline&&(this.polyline.updateMatrix(),this.polyline.updateMatrixWorld()),i.needsUpdate=!0,t.tempLabel&&r>0){const e=t.pointArray[r-1];t.tempLabel.position.set((e.x+n.x)/2,(e.y+n.y)/2,(e.z+n.z)/2),t.tempLabel.updateMatrix(),t.tempLabel.updateMatrixWorld(),t.measureGroup.add(t.tempLabel),t.labels.push(t.tempLabel),t.tempLabel=void 0}this.simuViewer.render()}else console.error("[Measure] Failed to get attributes.position, or number of points exceeded MAX_POINTS!");t.polyline.computeLineDistances()}if(t.mode===t.MeasureMode.Area&&t.faces){const e=t.faces.geometry,i=e.attributes&&e.attributes.position||void 0;if(i&&3*r+3<t.MAX_POINTS){const s=3*r;i.array[s]=n.x,i.array[s+1]=n.y,i.array[s+2]=n.z,e.setDrawRange(0,r+1),e.attributes.position.needsUpdate=!0,e.computeBoundingBox(),e.computeBoundingSphere(),this.polyline&&(this.polyline.updateMatrix(),this.polyline.updateMatrixWorld()),this.simuViewer.render(),t.faces.material=t.MESH_MATERIAL,t.faces.material.needsUpdate=!0,t.faces.updateMatrix(),t.faces.updateMatrixWorld()}i.array.length/3>2&&e.computeVertexNormals()}if(t.pointArray.push(n),t.mode===t.MeasureMode.Angle&&t.pointArray.length>=3&&t.complete(),t.mode==this.MeasureMode.DistOfPt2Line&&1==t.pointArray.length&&(t.complete(),t.distPt=n,t.setMeasureClickCallback((function(e){t.getDistOfPt2Line(e)})),t.simuViewer.renderer.domElement.addEventListener("mousemove",t._measureLineHover)),t.mode==this.MeasureMode.DistOfPt2Face&&1==t.pointArray.length&&(t.complete(),t.distPt=n,t.setMeasureClickCallback((function(e){t.getDistOfPt2Face(e)})),t.simuViewer.renderer.domElement.addEventListener("mousemove",t._measureFaceHover)),t.mode==this.MeasureMode.MeasureRadius&&3==t.pointArray.length){t.complete();let e=t.pointArray[0],i=t.pointArray[1],n=t.pointArray[2],r=new oi(0,0,0),s=new oi(0,0,0);r.subVectors(e,i).normalize(),s.subVectors(n,i).normalize();let a=r.clone().cross(s).normalize(),o=a.clone().cross(r).normalize(),l=new oi(0,0,0);l.addVectors(n,i).multiplyScalar(.5);let c=new oi(0,0,0);c.addVectors(e,i).multiplyScalar(.5);let h=r.dot(s).toFixed(4);if("1.0000"==h||"-1.0000"==h)return alert("三点共线"),t.deactive(),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),void t.simuViewer.render();let d=s,u=t.lineIntersectPlane(l,d,c,o);if(!u)return t.deactive(),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),void t.simuViewer.render();{let i=cd.creatPt(u,"rgba(0,255,255)");t.measureGroup.add(i);let n=t.addDoubleArrowLine(u,e).lineCenter,r=u.distanceTo(e);const s=this.numberToString(r)+this.getUnitString(),o=this.createLabel(s);o.position.set(n.x,n.y,n.z),o.element.innerHTML=s,this.measureGroup.add(o),o.updateMatrix(),o.updateMatrixWorld(),this.labels.push(o);let l=new $o(r,32),c=new al(l,1),h=new Ho(c,this.yellowLineMtl);t.measureGroup.add(h);let d=new oi(0,0,1),p=d.clone().cross(a).normalize(),m=d.clone().angleTo(a);const f=new ai;f.setFromAxisAngle(p,m);let g=new ki;g.makeRotationFromQuaternion(f),g.setPosition(u.x,u.y,u.z),h.applyMatrix4(g),h.updateMatrix(),h.updateMatrixWorld(),t.simuViewer.render()}}}keydown(e){let t=this;"Enter"===e.key?t.complete():"Escape"===e.key&&t.cancel()}getCordClick(e){let t=this;if(!t.raycaster||!t.camera||!t.scene)return;let i=t.simuViewer,n=t.getMouseWorldPosition(e).point;if(!n)return;const r=cd.creatPt(n,"rgba(0,255,255)");if(t.measureGroup.add(r),t.mode===t.MeasureMode.Coordinate){const e="x:"+n.x.toFixed(4)+";y:"+n.y.toFixed(4)+",z:"+n.z.toFixed(4);t.addOrUpdateTempLabel(e,n)}t.canvas.removeEventListener("click",t._getCordClick),t.renderer.domElement.style.cursor="",i.render()}getClosestIntersection(e){let t=this,i=t.simuViewer;if(!t.raycaster||!t.camera||!t.scene||t.isCompleted)return;const n=e.clientX,r=e.clientY,s=new qt;let a=t.renderer.domElement.getBoundingClientRect();s.set((n-a.left)/a.width*2-1,(r-a.top)/a.height*-2+1),t.raycaster.setFromCamera(s,t.camera);let o=t.raycaster.intersectObject(i.scene,!0)||[];return o&&o.length>0&&(o=o.filter((e=>e.object.name!==t.OBJ_NAME)),o.length>0&&o[0].distance<t.MAX_DISTANCE)?o[0].point:null}getMouseWorldPosition(e){let t=this,i={};return i=cd.getMouseWorldPosition(e,t.simuViewer.modelRoot,t.simuViewer.camera,t.simuViewer.renderer,t.simuViewer.container),i}activate(e="Distance"){this.deactive(),this.mode=e;let t=this,i=this.simuViewer;t.isCompleted=!0,t.orgSelectedColor=i.selectedColor.clone(),i.selectedColor=new ii(1,1,1,1,1),this.raycaster=new Th,this.mode==this.MeasureMode.Volume?(t.setMeasureClickCallback((function(e){t.getVolume(e)})),i.renderer.domElement.addEventListener("mousemove",t._measureObjectHover)):this.mode==this.MeasureMode.PlaneArea?(t.setMeasureClickCallback((function(e){t.getPlaneArea(e)})),i.renderer.domElement.addEventListener("mousemove",t._measureSurfaceHover)):this.mode==this.MeasureMode.PlanePerimeter?(t.setMeasureClickCallback((function(e){t.getPlanePerimeter(e)})),i.renderer.domElement.addEventListener("mousemove",t._measureSurfaceHover)):this.mode==this.MeasureMode.LineLen?(t.setMeasureClickCallback((function(e){t.getPickLineLen(e)})),i.renderer.domElement.addEventListener("mousemove",t._measureLineHover)):this.mode==this.MeasureMode.LinesAngle?(t.setMeasureClickCallback((function(e){t.pickLinesAngle(e)})),i.renderer.domElement.addEventListener("mousemove",t._measureLineHover)):this.mode==this.MeasureMode.SlopeRatio?(t.setMeasureClickCallback((function(e){t.getSlopeRatio(e)})),i.renderer.domElement.addEventListener("mousemove",t._measureSurfaceHover)):this.mode==this.MeasureMode.SurfaceArea?(t.setMeasureClickCallback((function(e){t.getCompSurfaceArea(e)})),i.renderer.domElement.addEventListener("mousemove",t._measureObjectHover)):this.mode==this.MeasureMode.Distance||this.mode===this.MeasureMode.Area||this.mode===this.MeasureMode.Angle?(this.canvas.addEventListener("mousedown",this._mousedown),this.canvas.addEventListener("pointermove",this._mousemove),this.canvas.addEventListener("click",this._mouseup),this.canvas.addEventListener("contextmenu",this._rightClick),window.addEventListener("keydown",this._keydown),this.pointArray=[],this.polyline=this.createLine(),this.measureGroup.add(this.polyline),this.mode===this.MeasureMode.Area&&(this.faces=this.createFaces(),this.measureGroup.add(this.faces)),this.isCompleted=!1):this.mode==this.MeasureMode.DistOfPt2Line||this.mode==this.MeasureMode.DistOfPt2Face||this.mode==this.MeasureMode.MeasureRadius?(this.canvas.addEventListener("click",this._onMouseClicked),this.pointArray=[],this.isCompleted=!1):this.mode==this.MeasureMode.DistOf2Lines?(t.setMeasureClickCallback((function(e){t.getDistOf2Lines(e)})),i.renderer.domElement.addEventListener("mousemove",t._measureLineHover)):this.mode==this.MeasureMode.DistOf2Objects?(t.setMeasureClickCallback((function(e){t.getDistOf2Objects(e)})),i.renderer.domElement.addEventListener("mousemove",t._measureObjectHover)):this.mode==this.MeasureMode.Coordinate&&(this.canvas.addEventListener("click",this._getCordClick),this.isCompleted=!1),this.renderer.domElement.style.cursor="crosshair"}deactive(){if(this.orgSelectedColor&&(this.simuViewer.selectedColor=this.orgSelectedColor),this.canvas.removeEventListener("mousedown",this.mousedown),this.canvas.removeEventListener("mousemove",this.mousemove),this.canvas.removeEventListener("click",this.mouseup),this.canvas.removeEventListener("rightClick",this.rightClick),window.removeEventListener("keydown",this.keydown),this.tempPointMarker&&this.scene.remove(this.tempPointMarker),this.tempLine&&this.scene.remove(this.tempLine),this.tempLineForArea&&this.scene.remove(this.tempLineForArea),this.tempLabel&&this.scene.remove(this.tempLabel),this.pointMarkers.forEach((e=>this.scene.remove(e))),this.polyline&&this.scene.remove(this.polyline),this.faces&&this.scene.remove(this.faces),this.curve&&this.scene.remove(this.curve),this.labels.forEach((e=>this.scene.remove(e))),this.pointArray=[],this.tempPointMarker=void 0,this.tempLine=void 0,this.tempLineForArea=void 0,this.tempLabel=void 0,this.pointMarkers=[],this.polyline=void 0,this.labels=[],this.renderer.domElement.style.cursor="",this.mode==this.MeasureMode.Volume||this.mode==this.MeasureMode.PlaneArea||this.mode==this.MeasureMode.PlanePerimeter||this.mode==this.MeasureMode.LineLen||this.mode==this.SlopeRatio||this.mode==this.MeasureMode.SurfaceArea||this.mode==this.MeasureMode.LinesAngle||this.mode==this.MeasureMode.DistOfPt2Line||this.mode==this.MeasureMode.DistOfPt2Face||this.mode==this.MeasureMode.DistOf2Lines||this.mode==this.MeasureMode.DistOf2Objects||this.mode==this.MeasureMode.SlopeRatio){let e=this.simuViewer;this.setMeasureClickCallback(void 0),e.renderer.domElement.removeEventListener("mousemove",this._measureLineHover),e.renderer.domElement.removeEventListener("mousemove",this._measureFaceHover),e.renderer.domElement.removeEventListener("mousemove",this._measureObjectHover),e.renderer.domElement.removeEventListener("mousemove",this._measureSurfaceHover),this.lineHoverMesh&&this.simuViewer.scene.remove(this.lineHoverMesh),this.faceHoverMesh&&this.simuViewer.scene.remove(this.faceHoverMesh),this.surfaceHoverMesh&&this.simuViewer.scene.remove(this.surfaceHoverMesh),this.objectsMesh&&this.simuViewer.scene.remove(this.objectsMesh),this.distPt=void 0}this.pickLines&&(this.pickLines=[])}clear(){this.deactive(),this.measureGroup.clear(),this.simuViewer.render()}createLine(e=this.MAX_POINTS){const t=new kn,i=new Float32Array(3*e);t.setAttribute("position",new Cn(i,3));const n=new Fo(t,this.LINE_MATERIAL);return n.name=this.OBJ_NAME,n}createFaces(){const e=new kn,t=new Float32Array(3*this.MAX_POINTS);e.setAttribute("position",new Cn(t,3));const i=new ir(e,this.MESH_MATERIAL);return i.name=this.OBJ_NAME,i}complete(){if(this.isCompleted)return;let e=!1,t=!1;const i=this.pointArray.length;if(this.mode===this.MeasureMode.Area&&this.polyline)if(i>2){const e=this.pointArray[0],t=this.polyline.geometry,n=t.attributes&&t.attributes.position||void 0;if(n&&3*i+3<this.MAX_POINTS){const r=3*i;n.array[r]=e.x,n.array[r+1]=e.y,n.array[r+2]=e.z,t.setDrawRange(0,i+1),t.computeBoundingBox(),t.computeBoundingSphere(),this.polyline&&(this.polyline.updateMatrix(),this.polyline.updateMatrixWorld()),this.simuViewer.render(),n.needsUpdate=!0}const r=this.calculateArea(this.pointArray),s=this.numberToString(r)+this.getUnitString(),a=this.getBarycenter(this.pointArray),o=this.createLabel(s);o.position.set(a.x,a.y,a.z),o.element.innerHTML=s,this.measureGroup.add(o),o.updateMatrix(),o.updateMatrixWorld(),this.simuViewer.render(),this.labels.push(o)}else e=!0,t=!0;if(this.mode===this.MeasureMode.Distance&&i<2&&(e=!0),this.mode===this.MeasureMode.Angle&&this.polyline)if(i>=3){const e=this.pointArray[0],t=this.pointArray[1],i=this.pointArray[2],n=new oi(e.x-t.x,e.y-t.y,e.z-t.z).normalize(),r=this.getAngleBisector(e,t,i),s=new oi(i.x-t.x,i.y-t.y,i.z-t.z).normalize(),a=this.calculateAngle(e,t,i),o=this.numberToString(a)+this.getUnitString(),l=Math.min(e.distanceTo(t),i.distanceTo(t));let c=.3*l,h=t.clone().add(new oi(r.x*c,r.y*c,r.z*c));const d=this.createLabel(o);d.position.set(h.x,h.y,h.z),d.element.innerHTML=o,d.updateMatrix(),d.updateMatrixWorld(),this.measureGroup.add(d),this.labels.push(d),c=.2*l,h=t.clone().add(new oi(r.x*c,r.y*c,r.z*c));const u=t.clone().add(new oi(n.x*c,n.y*c,n.z*c)),p=t.clone().add(new oi(s.x*c,s.y*c,s.z*c));this.curve=this.createCurve(u,h,p),this.measureGroup.add(this.curve)}else e=!0,t=!0;e&&(this.pointMarkers.forEach((e=>this.scene.remove(e))),this.pointMarkers=[]),t&&this.polyline&&(this.scene.remove(this.polyline),this.polyline=void 0),this.isCompleted=!0,this.renderer.domElement.style.cursor="",this.tempPointMarker&&this.scene.remove(this.tempPointMarker)&&this.measureGroup.remove(this.tempPointMarker),this.tempLine&&this.scene.remove(this.tempLine)&&this.measureGroup.remove(this.tempLine),this.tempLineForArea&&this.scene.remove(this.tempLineForArea)&&this.measureGroup.remove(this.tempLineForArea),this.tempLabel&&this.scene.remove(this.tempLabel)&&this.measureGroup.remove(this.tempLabel),this.simuViewer.render()}cancel(){this.deactive()}addOrUpdateTempLabel(e,t){this.tempLabel||(this.tempLabel=this.createLabel(e),this.measureGroup.add(this.tempLabel)),this.simuViewer.render(),this.tempLabel.position.set(t.x,t.y,t.z),this.tempLabel.element.innerHTML=e,this.tempLabel.updateMatrix(),this.tempLabel.updateMatrixWorld()}createLabel(e){const t=document.createElement("div");t.innerHTML=e,t.style.padding="3px 6px",t.style.color="#fff",t.style.fontSize="12px",t.style.position="absolute",t.style.backgroundColor="rgba(25, 25, 25, 0.3)",t.style.borderRadius="12px",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none";const i=new hd(t);return i.name=this.LABEL_NAME,i}createCurve(e,t,i){const n=new bl(e,t,i).getPoints(4),r=(new kn).setFromPoints(n),s=cd.createLine({geo:r,lineColor:39914,containerWidth:this.simuViewer.container.offsetWidth,containerHeight:this.simuViewer.container.offsetHeight});return s.name=this.LABEL_NAME,s}calculateArea(e){let t=0;for(let i=0,n=1,r=2;r<e.length;n++,r++){const s=e[i].distanceTo(e[n]),a=e[n].distanceTo(e[r]),o=e[r].distanceTo(e[i]),l=(s+a+o)/2;t+=Math.sqrt(l*(l-s)*(l-a)*(l-o))}return t}areaOfTriangle(e,t,i){var n=new oi,r=new oi;n=e.clone().sub(t),r=e.clone().sub(i);var s=new oi;return s.crossVectors(n,r),s.length()/2}calculateAngle(e,t,i){const n=e,r=t,s=i,a=new oi(n.x-r.x,n.y-r.y,n.z-r.z),o=new oi(s.x-r.x,s.y-r.y,s.z-r.z);return 180*a.angleTo(o)/Math.PI}getAngleBisector(e,t,i){const n=e,r=t,s=i,a=new oi(n.x-r.x,n.y-r.y,n.z-r.z).normalize(),o=new oi(s.x-r.x,s.y-r.y,s.z-r.z).normalize();return new oi(a.x+o.x,a.y+o.y,a.z+o.z).normalize()}getBarycenter(e){const t=e.length;let i=0,n=0,r=0;return e.forEach((e=>{i+=e.x,n+=e.y,r+=e.z})),new oi(i/t,n/t,r/t)}getUnitString(){return this.mode===this.MeasureMode.Distance||this.mode===this.MeasureMode.PlanePerimeter||this.mode===this.MeasureMode.LineLen||this.mode===this.MeasureMode.DistOf2Lines||this.mode===this.MeasureMode.DistOfPt2Face||this.mode===this.MeasureMode.DistOfPt2Line||this.mode===this.MeasureMode.getDistOfPt2Face?"m":this.mode===this.MeasureMode.Area||this.mode===this.MeasureMode.PlaneArea||this.mode===this.MeasureMode.SurfaceArea?"m²":this.mode===this.MeasureMode.Angle||this.mode===this.MeasureMode.LinesAngle?"°":this.mode===this.MeasureMode.Volume?"m³":""}numberToString(e){if(e<=0)return 0;if(Math.abs(e)<1e-4){let t=6;return e.toFixed(t)}let t=3;return e<.01?t=4:e<.1&&(t=3),e.toFixed(t)}volumeOfT(e,t,i){return(-(i.x*t.y*e.z)+t.x*i.y*e.z+i.x*e.y*t.z-e.x*i.y*t.z-t.x*e.y*i.z+e.x*t.y*i.z)/6}getVolume(e){let t=this;if(e.object&&e.object.parent){let i=e.object.parent,n=t.simuViewer.getBoundingSphere(i,t.simuViewer.camera),r=0;i.traverse((function(e){if(e.isMesh){let i=e.geometry.clone();if(!i.attributes.position)return void console.log("geometry.attributes.position为空");let n=e.matrixWorld;i.applyMatrix4(n);let s=new al(i,1),a=new Ho(s,t.yellowLineMtl);a.updateMatrix(),a.updateMatrixWorld(),t.measureGroup.add(a);let o=i.getAttribute("position"),l=i.getAttribute("position").array,c=i.index?i.index.array:[];if(c.length>0)for(let e=0;e<c.length-2;e+=3){const t=c[e],i=c[e+1],n=c[e+2];let s=new oi,a=new oi,l=new oi;s.fromBufferAttribute(o,t),a.fromBufferAttribute(o,i),l.fromBufferAttribute(o,n),r+=s.clone().cross(a).dot(l)/6}else for(let e=0,t=l.length;e<t-8;e+=9){const t=l[e],i=l[e+1],n=l[e+2],s=new oi(t,i,n),a=l[e+3],o=l[e+4],c=l[e+5],h=new oi(a,o,c),d=l[e+6],u=l[e+7],p=l[e+8],m=new oi(d,u,p);r+=s.clone().cross(h).dot(m)/6}}}));let s=new oi;s=n.center;const a=t.numberToString(r)+t.getUnitString(),o=this.createLabel(a);o.position.set(s.x,s.y,s.z),this.measureGroup.add(o),o.updateMatrix(),o.updateMatrixWorld(),this.simuViewer.render(),this.labels.push(o)}t.deactive()}pickFace(e,t){let i,n=this,r=!1;if(t&&(i=t.neededFace,r=null!=t.needCalcPrjArea&&t.needCalcPrjArea),e.object){let t=e.object,s=t.geometry.clone();if(!s.attributes.position)return void console.log("geometry.attributes.position为空");t.matrixWorld&&s.applyMatrix4(t.matrixWorld),new ir(s,n.pickFaceMaterial);let a=0,o=0,l=null,c=null;c=e.face.normal.clone();let h=s,d=h.index?h.index.array:[];l=e.point;let u=h.attributes.position,p=h.attributes.position.array,m=[],f=new vr;if(f.setFromNormalAndCoplanarPoint(c.normalize(),l),d.length>0)for(let e=0;e<d.length-2;e+=3){let t=d[e],i=d[e+1],n=d[e+2],s=new oi;s.fromBufferAttribute(u,t);let l=new oi;l.fromBufferAttribute(u,i);let c=new oi;c.fromBufferAttribute(u,n);let h=Math.abs(f.distanceToPoint(s)),p=Math.abs(f.distanceToPoint(l)),g=Math.abs(f.distanceToPoint(c));h<=1e-4&&p<=1e-4&&g<=1e-4&&(m.push(s.x),m.push(s.y),m.push(s.z),m.push(l.x),m.push(l.y),m.push(l.z),m.push(c.x),m.push(c.y),m.push(c.z),a+=this.areaOfTriangle(s,l,c),r&&(o+=this.areaOfTriangle(new oi(s.x,s.y,0),new oi(l.x,l.y,0),new oi(c.x,c.y,0))))}else for(let e=0,t=p.length;e<t-8;e+=9){let t=p[e],i=p[e+1],n=p[e+2],s=p[e+3],l=p[e+4],c=p[e+5],h=p[e+6],d=p[e+7],u=p[e+8],g=new oi(t,i,n),y=new oi(s,l,c),v=new oi(h,d,u),x=Math.abs(f.distanceToPoint(g)),M=Math.abs(f.distanceToPoint(y)),w=Math.abs(f.distanceToPoint(v));x<=1e-4&&M<=1e-4&&w<=1e-4&&(m.push(g.x),m.push(g.y),m.push(g.z),m.push(y.x),m.push(y.y),m.push(y.z),m.push(v.x),m.push(v.y),m.push(v.z),a+=this.areaOfTriangle(g,y,v),r&&(o+=this.areaOfTriangle(new oi(g.x,g.y,0),new oi(y.x,y.y,0),new oi(v.x,v.y,0))))}const g=new kn,y=new Float32Array(m);g.setAttribute("position",new Cn(y,3));const v=new ir(g,n.yellowMeshMtl);v.updateMatrix(),v.updateMatrixWorld(),(null==i||i)&&this.measureGroup.add(v);let x={};return x.sumArea=a,x.sumPrjArea=o,x.geometryPlane=g,x.intersectPt=l,x.faceNormal=c,x}return null}pickLine(e,t){let i=this;if(e.object){let n=this.pickFace(e,{neededFace:!1});if(!n)return;let r=n.geometryPlane,s=n.intersectPt;r.computeBoundingBox();let a=new al(r,1).getAttribute("position").array,o=0,l=-1,c=null,h=null,d=-1;for(let e=0,t=a.length;e<t-3;e+=3){let i,n,r,o=a[e],u=a[e+1],p=a[e+2];e+3>t?(i=a[0],n=a[1],r=a[2]):(i=a[e+3],n=a[e+4],r=a[e+5]);const m=new oi(o,u,p),f=new oi(i,n,r);o==i&&u==n&&p==r||(d=cd.calcDistance2Line(m,f,s)),(-1==l&&-1!=d||d<l)&&(l=d,c=m,h=f)}if(!c||!h)return null;o=c.distanceTo(h);const u=(new kn).setFromPoints([c,h]);u.computeBoundingBox();let p=cd.createLine({pt1:c,pt2:h,lineColor:16776960,containerWidth:i.simuViewer.container.offsetWidth,containerHeight:i.simuViewer.container.offsetHeight});if(t&&"doubleArrowLine"==t.style){let e=16776960;this.addDoubleArrowLine(c,h,e)}else t&&"dashLine"==t.style?(p=cd.createLine({pt1:c,pt2:h,lineColor:16776960,lineStyle:"dash",containerWidth:i.simuViewer.container.offsetWidth,containerHeight:i.simuViewer.container.offsetHeight}),this.measureGroup.add(p)):t&&"none"==t.style||this.measureGroup.add(p);return n.insertLineMesh=p,n.insertLine=u,n.linePt0=c,n.linePt1=h,n.lineLenVal=o,n}return null}getPlaneArea(e){let t=this;if(e.object){let i=this.pickFace(e);if(!i)return;let n=i.sumArea,r=i.geometryPlane,s=new oi;r.computeBoundingBox(),s=r.boundingBox.getCenter(s);const a=t.numberToString(n)+t.getUnitString(),o=this.createLabel(a);o.position.set(s.x,s.y,s.z),o.element.innerHTML=a,this.measureGroup.add(o),o.updateMatrix(),o.updateMatrixWorld(),this.simuViewer.render(),this.labels.push(o)}t.deactive()}getPlanePerimeter(e){let t=this;if(e.object){let i=this.pickFace(e);if(!i)return;let n=i.geometryPlane,r=new oi;n.computeBoundingBox();let s=new al(n,1),a=new Ho(s,t.writeLineMtl);a.computeLineDistances();let o=a.geometry.getAttribute("lineDistance"),l=0;if(o&&o.array.length>0){let e=o.array;l=e[e.length-1]}this.measureGroup.add(a),r=n.boundingBox.getCenter(r);const c=t.numberToString(l)+t.getUnitString(),h=this.createLabel(c);h.position.set(r.x,r.y,r.z),h.element.innerHTML=c,this.measureGroup.add(h),h.updateMatrix(),h.updateMatrixWorld(),this.simuViewer.render(),this.labels.push(h)}t.deactive()}calcDistance2Line(e,t,i){const n=(new oi).subVectors(t,e),r=(new oi).subVectors(i,e),s=n.clone().normalize(),a=r.clone().normalize(),o=s.dot(a),l=(new oi).subVectors(t,e),c=(new oi).subVectors(i,e);l.clone().normalize();const h=c.clone().normalize(),d=a.dot(h);let u=0;if(o>0&&d>0){const t=Math.sqrt(1-o*o);u=e.distanceTo(i)*t}else{const n=e.distanceTo(i),r=t.distanceTo(i);u=n>r?r:n}return u}getPickLineLen(e){let t=this,i=t.pickLine(e,{style:"doubleArrowLine"}),n=i.insertLine,r=i.lineLenVal,s=new oi;s=n.boundingBox.getCenter(s);const a=t.numberToString(r)+t.getUnitString(),o=this.createLabel(a);o.position.set(s.x,s.y,s.z),o.element.innerHTML=a,this.measureGroup.add(o),o.updateMatrix(),o.updateMatrixWorld(),this.simuViewer.render(),this.labels.push(o),t.deactive()}getDistOfPt2Line(e){let t=this,i=t.pickLine(e);i.insertLine;let n=i.linePt0,r=i.linePt1,s=new Ih(n,r),a=t.distPt,o=new oi(0,0,0);s.closestPointToPoint(a,!1,o);let l=a.distanceTo(o);l<=.005&&(alert("点到线的距离小于0.005"),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.distPt=void 0,this.simuViewer.render(),t.deactive());let c=new oi(0,0,0);if(s.closestPointToPoint(o,!0,c),!(o.equals(n)||o.equals(r)||c.equals(o))){let e=cd.createLine({pt1:c,pt2:o,lineColor:16776960,lineStyle:"dash",containerWidth:t.simuViewer.container.offsetWidth,containerHeight:t.simuViewer.container.offsetHeight});this.measureGroup.add(e)}let h=t.addDoubleArrowLine(a,o).lineCenter;const d=t.numberToString(l)+t.getUnitString(),u=this.createLabel(d);u.position.set(h.x,h.y,h.z),u.element.innerHTML=d,this.measureGroup.add(u),u.updateMatrix(),u.updateMatrixWorld(),this.simuViewer.render(),this.labels.push(u),t.deactive()}addDoubleArrowLine(e,t,i){let n=this,r={},s=i||16777215,a=new oi(0,0,0);a.addVectors(e,t).multiplyScalar(.5);let o=new oi(0,0,0);o=o.subVectors(e,t).normalize();let l=e.distanceTo(t);if(l<.7)cd.createLine({pt1:e,pt2:t,lineStyle:"dash",containerWidth:n.simuViewer.container.offsetWidth,containerHeight:n.simuViewer.container.offsetHeight}),r.lineMesh=this.lineHoverMesh;else{let e=new Oh(o,a,l/2,s,.25,.1),t=new Oh(o.clone().negate(),a,l/2,s,.25,.1);e.line.material.transparent=!0,e.line.material.depthTest=!1,t.line.material.transparent=!0,t.line.material.depthTest=!1,e.cone.material.transparent=!0,e.cone.material.depthTest=!1,t.cone.material.depthTest=!1,t.cone.material.transparent=!0,e.updateMatrix(),e.updateMatrixWorld(),t.updateMatrix(),t.updateMatrixWorld(),this.measureGroup.add(e),this.measureGroup.add(t),r.arrowMesh1=e,r.arrowMesh2=t}return r.lineCenter=a,r.lineLenVal=l,r.directionVector=o,r}addLine(e){if(!e)return;let t=e.pt1,i=e.pt2,n=null==e.lineColor?65535:e.lineColor,r=null==e.lineStyle?"solid":e.lineStyle,s=null==e.lineWidth?5:e.lineWidth,a=null;if(t&&i&&(a=(new kn).setFromPoints([t,i])),e.geo&&(a=e.geo),!a)return null;var o=new ad;o.setGeometry(a);let l=new qt(this.simuViewer.container.offsetWidth,this.simuViewer.container.offsetHeight),c={alphaTest:0,color:new Kt(n),depthTest:!1,depthWrite:!1,lineWidth:s,opacity:1,resolution:l,side:2,sizeAttenuation:!1,transparent:!0,useMap:!1},h=null;if("dash"==r){let e=.02,t=.2,i=0;c.dashArray=e,c.dashRatio=t,c.dashOffset=i}var d=new ld(c);return h=new ir(o.geometry,d),h.updateMatrixWorld(),h.updateMatrix(),h}getDistOfPt2Face(e){let t=this;if(e.object){let i=t.pickFace(e,{neededFace:!1});if(!i)return;let n=i.intersectPt,r=i.faceNormal,s=new vr;s.setFromNormalAndCoplanarPoint(r,n);let a=new Nh(s);a.updateMatrixWorld(!0),a.updateMatrix(),a.updateMatrixWorld();let o=a.matrixWorld.clone();o.setPosition(n.x,n.y,n.z);let l=4;const c=new Ar(l,l,2),h=new ir(c,this.grayMeshMtl);let d=new al(c,1),u=new Ho(d,this.yellowLineMtl);h.applyMatrix4(o),h.updateMatrix(),h.updateMatrixWorld(),u.applyMatrix4(o),u.updateMatrix(),u.updateMatrixWorld(),t.measureGroup.add(h),t.measureGroup.add(u);let p=Math.abs(s.distanceToPoint(this.distPt)),m=new oi(0,0,0);if(s.projectPoint(this.distPt,m),p<=.005)return alert("点到面的距离小于0.005"),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.distPt=void 0,t.simuViewer.render(),void t.deactive();let f=t.addDoubleArrowLine(m,this.distPt),g=f.lineCenter,y=f.lineLenVal;if(m.distanceTo(n)>l/2){let e=c.clone();e.applyMatrix(o),e.attributes.position.count;let i,n=3,r=e.attributes.position.array,s=0;for(let e=0;e<r.length;e+=n){let t=r[e],n=r[e+1],a=r[e+2],o=new oi(t,n,a);if(0==e)i=o,s=0;else{let e=i.distanceTo(m);e<s&&(i=o,s=e)}}let a=cd.createLine({pt1:i,pt2:m,lineColor:16776960,lineStyle:"dash",containerWidth:t.simuViewer.container.offsetWidth,containerHeight:t.simuViewer.container.offsetHeight});this.measureGroup.add(a)}const v=t.numberToString(y)+t.getUnitString(),x=this.createLabel(v);x.position.set(g.x,g.y,g.z),x.element.innerHTML=v,this.measureGroup.add(x),x.updateMatrix(),x.updateMatrixWorld(),this.simuViewer.render(),this.labels.push(x),t.deactive()}}getDistOf2Lines(e){let t=this;if(t.pickLines=t.pickLines?t.pickLines:[],t.pickLines.length<2){let i=t.pickLine(e);i.insertLine;let n=i.linePt0,r=i.linePt1,s=new Ih(n,r);t.pickLines.push(s)}if(2==t.pickLines.length){let e=t.pickLines[0].start,i=t.pickLines[0].end,n=t.pickLines[1].start,r=t.pickLines[1].end,s=new oi(0,0,0);s.subVectors(e,i).normalize();let a=new oi(0,0,0);a.subVectors(n,r).normalize();let o=null,l=0,c=t.lineLineIntersection(e,s,n,a);if(c.state){let e=c.pt;o=e;let i=new oi(0,0,0),n=new oi(0,0,0);t.pickLines[0].closestPointToPoint(e,!0,i),t.pickLines[1].closestPointToPoint(e,!0,n);let r=cd.createLine({pt1:i,pt2:e,lineColor:16776960,lineStyle:"dash",containerWidth:t.simuViewer.container.offsetWidth,containerHeight:t.simuViewer.container.offsetHeight}),s=cd.createLine({pt1:n,pt2:e,lineColor:16776960,lineStyle:"dash",containerWidth:t.simuViewer.container.offsetWidth,containerHeight:t.simuViewer.container.offsetHeight});t.measureGroup.add(r),t.measureGroup.add(s),l=0}else{if(t.MeasureMsg.LinesNonCoplanar==c.msg)return alert(c.msg),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.deactive(),t.pickLines=[],t.pickLinesPts=[],void this.simuViewer.render();if(t.MeasureMsg.LinesParallel==c.msg){let i=new oi(0,0,0);if(t.pickLines[1].closestPointToPoint(e,!1,i),l=i.distanceTo(e),l<=.005)return alert("两直线距离小于0.005"),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.pickLines=[],t.pickLinesPts=[],this.simuViewer.render(),void t.deactive();o=t.addDoubleArrowLine(e,i).lineCenter;let n=new oi(0,0,0);t.pickLines[1].closestPointToPoint(i,!0,n);let r=t.pickLines[1].closestPointToPointParameter(e,!1);if(r>1||r<0){let e=cd.createLine({pt1:i,pt2:n,lineColor:16776960,lineStyle:"dash",containerWidth:t.simuViewer.container.offsetWidth,containerHeight:t.simuViewer.container.offsetHeight});t.measureGroup.add(e)}}}const h=t.numberToString(l)+t.getUnitString(),d=this.createLabel(h);d.position.set(o.x,o.y,o.z),d.element.innerHTML=h,this.measureGroup.add(d),d.updateMatrix(),d.updateMatrixWorld(),this.simuViewer.render(),this.labels.push(d),t.pickLines=[],t.deactive()}}getDistOf2Objects(e){let t=this;if(t.pickOjects=t.pickOjects?t.pickOjects:[],t.pickOjects.length<2&&e.object){let i=e.object;if(i){let e=i.geometry.clone(),n=i.matrixWorld;e.applyMatrix4(n);let r=new al(e,1),s=new Ho(r,this.yellowLineMtl);t.measureGroup.add(s),t.pickOjects.push(e)}}if(2==t.pickOjects.length){let e=t.pickOjects[0],i=t.pickOjects[1],n=0,r=null,s=null,a=e.attributes.position.array,o=i.attributes.position.array;for(let e=0,t=a.length;e<t;e+=3){let t=new oi(a[e],a[e+1],a[e+2]);for(let i=0,a=o.length;i<a;i+=3){let a=new oi(o[i],o[i+1],o[i+2]),l=t.distanceTo(a);(0==e||l<n)&&(r=t,s=a,n=l)}}let l=s;if(n>0){l=t.addDoubleArrowLine(r,s,16776960).lineCenter}const c=t.numberToString(n)+t.getUnitString(),h=this.createLabel(c);h.position.set(l.x,l.y,l.z),h.element.innerHTML=c,this.measureGroup.add(h),h.updateMatrix(),h.updateMatrixWorld(),this.simuViewer.render(),this.labels.push(h),t.pickOjects=[],t.deactive()}}getSlopeRatio(e){if(e){let t=this.pickFace(e,{needCalcPrjArea:!0});if(!t)return;let i=t.sumArea,n=t.sumPrjArea,r=t.geometryPlane,s=Math.abs(n/i),a=Math.sqrt(1-s*s),o="";if(Math.abs(s)<=1e-4)o="垂直";else if(Math.abs(s)>=.9999)o="水平";else{o="1:"+(s/a).toFixed(3)}let l=new oi;r.computeBoundingBox(),l=r.boundingBox.getCenter(l);const c=o,h=this.createLabel(c);h.position.set(l.x,l.y,l.z),h.element.innerHTML=c,this.measureGroup.add(h),h.updateMatrix(),h.updateMatrixWorld(),this.simuViewer.render(),this.labels.push(h)}this.deactive()}getCompSurfaceArea(e){let t=this;if(e.object){let i=e.object;if(!i)return;let n=i.geometry.clone();const r=i.matrixWorld;n.applyMatrix4(r);let s=new al(n,1),a=new Ho(s,this.yellowLineMtl);t.measureGroup.add(a);let o=n.getAttribute("position").array,l=n.index?n.index.array:[],c=[];for(let e=0;e<o.length-2;e+=3){const t=o[e],i=o[e+1],n=o[e+2];c.push(new oi(t,i,n))}let h=0;if(l.length>0)for(let e=0;e<l.length-2;e+=3){let t=l[e],i=l[e+1],n=l[e+2],r=c[t],s=c[i],a=c[n];h+=this.areaOfTriangle(r,s,a)}else for(let e=0,t=c.length;e<t-2;e+=3){const t=c[e],i=c[e+1],n=c[e+2];h+=this.areaOfTriangle(t,i,n)}n.computeBoundingBox();let d=new oi;d=n.boundingBox.getCenter(d);const u=t.numberToString(h)+t.getUnitString(),p=this.createLabel(u);p.position.set(d.x,d.y,d.z),p.element.innerHTML=u,this.measureGroup.add(p),p.updateMatrix(),p.updateMatrixWorld(),this.simuViewer.render(),this.labels.push(p)}t.deactive()}pickLinesAngle(e){let t=this;if(!t.pickLines||t.pickLines.length<2){let i=t.pickLine(e);if(!i)return;let n=i.insertLine;t.pickLines||(t.pickLines=[],t.pickLinesPts=[]),t.pickLines||(t.pickLines=[]),t.pickLinesPts||(t.pickLinesPts=[]),t.pickLines.push(n),t.pickLinesPts.push(i.linePt0),t.pickLinesPts.push(i.linePt1),this.renderer.domElement.style.cursor="crosshair"}if(t.pickLines&&2==t.pickLines.length){let e=t.pickLinesPts[0],i=t.pickLinesPts[1],n=t.pickLinesPts[2],r=t.pickLinesPts[3],s=new oi(0,0,0);s.subVectors(e,i).normalize();let a=new oi(0,0,0);a.subVectors(n,r).normalize();let o=t.lineLineIntersection(e,s,n,a);if(!o.state)return alert(o.msg),this.simuViewer.render(),t.pickLines=[],t.pickLinesPts=[],t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),t.measureGroup.remove(t.measureGroup.children[t.measureGroup.children.length-1]),void t.deactive();let l,c,h,d=new oi(0,0,0);if(d=o.pt,null!=d){l=d.equals(e)?i:e,c=d.equals(n)?r:n,h=d;const s=this.getAngleBisector(l,h,c),a=this.calculateAngle(l,h,c),o=this.numberToString(a)+this.getUnitString();let u=.3*Math.min(l.distanceTo(h),c.distanceTo(h)),p=h.clone().add(new oi(s.x*u,s.y*u,s.z*u));const m=this.createLabel(o);m.position.set(p.x,p.y,p.z),m.element.innerHTML=o,m.updateMatrix(),m.updateMatrixWorld(),this.measureGroup.add(m),this.labels.push(m);const f=new oi(0,0,0);f.subVectors(l,h).normalize();const g=new oi(0,0,0);g.subVectors(c,h).normalize();const y=h.clone().add(new oi(f.x*u,f.y*u,f.z*u)),v=h.clone().add(new oi(g.x*u,g.y*u,g.z*u));if(this.curve=this.createCurve(y,p,v),this.measureGroup.add(this.curve),!t.isPointOnLineAndBetweenPoints(e,i,d)){let n=new Ih(e,i),r=new oi(0,0,0);n.closestPointToPoint(d,!0,r);let s=cd.createLine({pt1:d,pt2:r,lineColor:16776960,lineStyle:"dash",containerWidth:t.simuViewer.container.offsetWidth,containerHeight:t.simuViewer.container.offsetHeight});this.measureGroup.add(s)}if(!t.isPointOnLineAndBetweenPoints(n,r,d)){let e=new Ih(n,r),i=new oi(0,0,0);e.closestPointToPoint(d,!0,i);let s=cd.createLine({pt1:d,pt2:i,lineColor:16776960,lineStyle:"dash",containerWidth:t.simuViewer.container.offsetWidth,containerHeight:t.simuViewer.container.offsetHeight});this.measureGroup.add(s)}}this.simuViewer.render(),t.pickLines=[],t.pickLinesPts=[],t.deactive()}}lineLineIntersection(e,t,i,n,r){r||(r=new oi(0,0,0));let s={},a=t.dot(n).toFixed(4);if("1.0000"==a||"-1.0000"==a)return s.state=!1,s.msg="两线平行",s;let o=new oi(0,0,0);o.subVectors(i,e);let l=new oi(0,0,0);l.cross(t,n);let c=new oi(0,0,0);if(c.cross(o,n),"0.0000"!=o.dot(l).toFixed(4))return s.state=!1,s.msg=this.MeasureMsg.LinesNonCoplanar,s;let h=new oi(0,0,0).distanceToSquared(l),d=c.dot(l)/h;return r=e.clone().add(new oi(t.x*d,t.y*d,t.z*d)),s.state=!0,s.msg="两线段有交点",s.pt=r,s}isPointOnLine(e,t,i){var n=new oi;return n.crossVectors(e.clone().sub(i),t.clone().sub(i)),!n.length()}isPointOnLineAndBetweenPoints(e,t,i){if(!this.isPointOnLine(e,t,i))return!1;var n=t.x-e.x,r=t.y-e.y;return Math.abs(n)>=Math.abs(r)?n>0?e.x<=i.x&&i.x<=t.x:t.x<=i.x&&i.x<=e.x:r>0?e.y<=i.y&&i.y<=t.y:t.y<=i.y&&i.y<=e.y}measureLineHover(e){let t=this,i=t.getMouseWorldPosition(e),n=i.object;if(t.lineHoverMesh&&t.simuViewer.scene.remove(t.lineHoverMesh),n){let e=t.pickLine(i,{style:"none"});e&&e.insertLine&&(e.insertLine,t.lineHoverMesh=cd.createLine({pt1:e.linePt0,pt2:e.linePt1,containerWidth:t.simuViewer.container.offsetWidth,containerHeight:t.simuViewer.container.offsetHeight}),t.simuViewer.scene.add(t.lineHoverMesh))}t.simuViewer.render()}measureFaceHover(e){let t=this,i=t.getMouseWorldPosition(e),n=i.object;if(t.faceHoverMesh&&t.simuViewer.scene.remove(t.faceHoverMesh),n){let e=t.pickFace(i,{neededFace:!1});if(!e)return;let n=e.intersectPt,r=e.faceNormal,s=new vr;s.setFromNormalAndCoplanarPoint(r,n);let a=new Nh(s);a.updateMatrixWorld(!0),a.updateMatrix(),a.updateMatrixWorld();let o=a.matrixWorld.clone();o.setPosition(n.x,n.y,n.z);let l=4;const c=new Ar(l,l,2);let h=new al(c,1);t.faceHoverMesh=new ir(c,this.grayMeshMtl),t.faceHoverMesh=new Ho(h,this.writeLineMtl),t.faceHoverMesh.applyMatrix4(o),t.faceHoverMesh.updateMatrix(),t.faceHoverMesh.updateMatrixWorld(),t.simuViewer.scene.add(t.faceHoverMesh)}t.simuViewer.render()}measureSurfaceHover(e){let t=this,i=t.getMouseWorldPosition(e),n=i.object;if(t.surfaceHoverMesh&&t.simuViewer.scene.remove(t.surfaceHoverMesh),n){let e=t.pickFace(i,{neededFace:!1});if(!e)return;let n=e.geometryPlane,r=new al(n,1);t.surfaceHoverMesh=new Ho(r,this.writeLineMtl),t.surfaceHoverMesh.updateMatrix(),t.surfaceHoverMesh.updateMatrixWorld(),t.simuViewer.scene.add(t.surfaceHoverMesh)}t.simuViewer.render()}measureObjectHover(e){let t=this,i=t.getMouseWorldPosition(e).object;if(t.objectsMesh&&t.simuViewer.scene.remove(t.objectsMesh),i&&i.geometry.attributes.position){let e=i,n=e.geometry.attributes.position.clone().array,r=new Float32Array(n),s=new kn;s.setAttribute("position",new Cn(r,3)),s.setIndex(e.geometry.getIndex());let a=i.matrixWorld;t.objectsMesh=new ir(s,this.yellowMeshMtl),t.objectsMesh.applyMatrix4(a),t.objectsMesh.updateMatrix(),t.objectsMesh.updateMatrixWorld(),t.simuViewer.scene.add(t.objectsMesh)}t.simuViewer.render()}lineIntersectPlane(e,t,i,n){let r=null;if(Math.abs(t.clone().dot(n))<.01)return r;let s=new oi(0,0,0);s.subVectors(i,e);let a=-s.clone().dot(t)/n.clone().dot(t),o=parseFloat(a),l=n.multiplyScalar(o);return r=i.clone().add(l),r}}let wd=new Th,Sd=new vr,bd=new oi,Ad=new oi;class Ed{constructor(e,t,i,n,r){this.simuViewer=e,this.div=t,this.positionWorld=new oi(i,n,r),this.positionInit=this.positionWorld.clone(),this.divScreenPos=this.positionWorld.clone(),this.labelType=0,this.showType=0,this.hasInitDivPos=!1,this.bMove=!1;let s=new kn,a=[];a.push(this.positionWorld.x,this.positionWorld.y,this.positionWorld.z),a.push(this.positionInit.x,this.positionInit.y,this.positionInit.z),s.setAttribute("position",new Vn(a,3)),s.attributes.position.dynamic=!0,s.computeBoundingSphere();let o=new Fo(s,new No({color:16729344,depthTest:!0}));this.line=o,this.simuViewer.lineRootGroup||(this.simuViewer.lineRootGroup=new Qa,this.simuViewer.scene.add(this.simuViewer.lineRootGroup)),this.simuViewer.lineRootGroup.add(o)}update(e,t,i){if(this.hasInitDivPos&&0!=this.showType&&!this.bMove||this._updateDivPos(e,t,i),1==this.showType&&!this.bMove){let n=this.div.clientWidth||this.div.offsetWidth,r=this.div.clientHeight||this.div.offsetHeight,s=this.divScreenPos.x-n/2,a=this.divScreenPos.y-r/2;s=Math.min(s,e),s=Math.max(s,0),a=Math.min(a,t),a=Math.max(a,0),this.div.style.top=a+"px",this.div.style.left=s+"px",Ad.x=(s+n/2)/e*2-1,Ad.y=(t-(a+r/2))/t*2-1,Ad.z=this.divScreenPos.z,Ad.applyMatrix4(i.projectionMatrixInverse).applyMatrix4(i.matrixWorld),this.positionWorld.copy(Ad);let o=this.line.geometry.attributes.position;o.setXYZ(0,Ad.x,Ad.y,Ad.z),o.needsUpdate=!0,this.line.geometry.computeBoundingSphere()}}_updateDivPos(e,t,i){this.divScreenPos.copy(this.positionWorld),this.divScreenPos.project(i),this.divScreenPos.x*=.5,this.divScreenPos.x+=.5,this.divScreenPos.y*=.5,this.divScreenPos.y+=.5,this.divScreenPos.x*=e,this.divScreenPos.y=(1-this.divScreenPos.y)*t;let n=this.div.clientWidth||this.div.offsetWidth,r=this.div.clientHeight||this.div.offsetHeight,s=this.simuViewer.css2DRenderer.domElement.getBoundingClientRect().height,a=this.simuViewer.css2DRenderer.domElement.getBoundingClientRect().width,o=this.divScreenPos.y-r/2,l=this.divScreenPos.x-n/2,c=this.div.style.top,h=this.div.style.left;this.div.style.top=o+"px",this.div.style.left=l+"px",o+r>s&&(this.div.style.top=c),l+n>a&&(this.div.style.left=h),this.hasInitDivPos=!0}_setEvent(){this.div.style.cursor="pointer",this.div.addEventListener("mousedown",(function(i){if(0!==i.button)return;i.preventDefault(),e=i.clientX,t=i.clientY,document.addEventListener("mousemove",n,!1),document.addEventListener("mouseup",r,!1)}),!1),this.div.addEventListener("contextmenu",(function(e){e.preventDefault()}),!1);let e,t,i=this;function n(n){if(e==n.clientX&&t==n.clientY)return;e=n.clientX,t=n.clientY,i.bMove=!0,Sd.setFromNormalAndCoplanarPoint(i.simuViewer.camera.getWorldDirection(Sd.normal),i.simuViewer.sceneBoundingSphere.center);let r=new oi,s=n.clientX-i.simuViewer.renderer.domElement.getBoundingClientRect().left,a=n.clientY-i.simuViewer.renderer.domElement.getBoundingClientRect().top;if(r.x=s/i.simuViewer.container.offsetWidth*2-1,r.y=(i.simuViewer.container.offsetHeight-a)/i.simuViewer.container.offsetHeight*2-1,r.z=0,wd.setFromCamera(r,i.simuViewer.camera),wd.ray.intersectPlane(Sd,bd)){i.positionWorld.copy(bd);let e=i.line.geometry.attributes.position;e.setXYZ(0,bd.x,bd.y,bd.z),e.needsUpdate=!0,i.line.geometry.computeBoundingSphere(),i.simuViewer.render()}}function r(e){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),i.bMove=!1}}}class Td{constructor(e){this.simuViewer=e,this.divLabels=[],this.labelInputs=[],this.saveInputs=[],this.parentContainer=e.container,this.defaultImg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABIJJREFUaEPVmV9oHFUUxr9zt3FFi2Z3QyoFS0N2mljRotg8FK2KYCixWCgE/IeVos3O2oiaog8i8UFUVJS0O5uiEBELtg+WVkhoH6SiIqigiKLZ2dT2wWhwdxLFVdtk5shuspBqsnPvnRv/zPP5vvP97pw7fwmmjyNHYs1T190UE0GFfVHhuPh1bjZeSV06WznzQNsfpttRVMPkkHsZreIugLoYfDNAtwGILeNbAtFRYn/UP3fRqZlH22ai9o8EkMoX+5l5AMCVqkEYOAfQmCAcK2fSb6jq6/VaAAlnogcIBgi4RbfxYh0RDpUz1r06XsoAScd9HcBunWYNNURTDOyczqQ/UvFWAkjk3OeI8KRKA+VawqCXsZ6R1UkDpPLFXcw8ImscpU4EoqP0cHtBxkMKoHm4sJUCOklAXMY0ag0DxWnbsmR8pACSTvETgDfLGJqqIfALZXtD6LiGAqSc4g4GHzUVTMWHgfumbeutRppQgGTOPQxCr0pjU7UMnJq2rVu1AZqHxzeJQHxhKpCOjxBic6mv/bPltA3PQMpxn2fgCZ3GxjSEV7yM9ZgWwL+xef8WlGjKy6Sv0APIF38E8xpjq6lp1FT5bfXUvk2VpeTLjlD1KROr8LNmT6MyEZtdW9qz8Qc1gGF3IwJ8bTSJppmA31myO8eVABK58RuJxAeaPY3KiEVXOdv+qRrA/olrKBZ8aTSJrpnAFq/P+lgN4ODEOvKDs7o9TeoCmmubyVx1RhXgcvKDyK98JkC8lvNx9F59XgmgWpx0XDYRIIpH2ONEwztxwikMEWhvlACRtSEvOCEAxW0EHo0cQt9gUsSabijtWb/kPaBqG/o0mnLc4wxs188QQSnxehkKkMhP3EEcvBshhq40dPWlzkC1KOEUhwj8z+4FidWXBsDgoEi23lPdC926y6miY9Cb03b6fhlN6AjVTVqc0x0B/DEAbTLG+jX0Iea4x+u3fpHxkAaojVLO3U6E4zLGmjWTAXPPTHaD9FugEkDt5pYvPg7mlzQDNpQRi53lbPs7Kt7KAPN36MJBgB5SaRRay7TPy6aVF0YLACPfXZz43R8lcMMvBqGhFwoIyJdty5atX1ynB1C7tH57LSFW3dRrdRov0pzwWj7vQW+vr+OjDVAbpQNuLwQO6zReuIZPCCG2/dTX7kbw0JXO65KO+zQA6a/JF5x+gR3lPutYlASRzkC9ccpxDzFwt0oQYnqqnE0/q6JZqtYIwOp8sbUJPEaM6+UC8dueveEuudrGVUYAqi2aDxS2CkHVTX1JSLCvRDzeXdq9bvI/BVDbD7nCAIhebBiM0e1lrZMmwi9cCExZzfskHPc9Apa+PxC97GXS1b+axg5jI1RPlMy5t4NwYomEZ4Xvbynt7TQyOnV/4wC1UcoXXgXTIxdcMkH9ZTu939jSLxitCEDra6fXzM361a96tf9cBLxfti0j/5T/ugArAlBtksoVdjFR7a9mANw5Y1sr8hi+YgDzo1QcAfOcZ1sPmh6dFd0DdfPm/DfrYxCz5UzH9/9LgJUKvdj3T4/WV0Bw8zrpAAAAAElFTkSuQmCC",this.defaultImgScale=1,this.LabelMode={TEXT:"TEXT",TEXTEDIT:"TEXTEDIT",IMG:"IMG",CIRCLE:"CIRCLE",RECT:"RECT",REDLINE:"REDLINE"},this._onMouseMoveAnnotation=this.onMouseMoveAnnotation.bind(this),this._onMouseUpAnnotation=this.onMouseUpAnnotation.bind(this),this._onMouseClickTxtInput=this.onMouseClickTxtInput.bind(this),this._labelOnClick=this.labelOnClick.bind(this),this.boxSelectState=this.simuViewer.boxSelect,this.labelGroup=new Qa,this.simuViewer.scene.add(this.labelGroup),this._onLabelClickEvt=this.onLabelClickEvt.bind(this),this.simuViewer.renderer.domElement.addEventListener("mousedown",this._onLabelClickEvt)}onLabelClickEvt(e){let t=this;if(t.canvasClickCallback){let i=e.clientX-t.simuViewer.renderer.domElement.getBoundingClientRect().left,n=e.clientY-t.simuViewer.renderer.domElement.getBoundingClientRect().top,r=new qt(i,n),s=this.getlabelMouseWordPosion({event:e});t.canvasClickCallback(e,s,r)}}setCanvasClickCallback(e){this.canvasClickCallback=e}activate(e="REDLINE"){let t=this;t.operaType=e,t.orgSelectedColor=t.simuViewer.selectedColor.clone(),t.simuViewer.selectedColor=new ii(1,1,1,1,1),t.setCanvasClickCallback((function(i,n,r){0==i.button?e==t.LabelMode.TEXT?(t.createDIV(n.x,n.y,n.z),t.deactive()):e==t.LabelMode.TEXTEDIT?(t.createDynamicDiv(n.x,n.y,n.z),t.deactive()):e==t.LabelMode.IMG?(t.createImgDiv(n.x,n.y,n.z),t.deactive()):e!=t.LabelMode.CIRCLE&&e!=t.LabelMode.RECT&&e!=t.LabelMode.REDLINE||t.createGeoAnnotation(n,r):(t.simuViewer&&t.simuViewer.divLabels&&t.simuViewer.divLabels.length>0&&(t.simuViewer.divLabels[0].showType=1),t.deactive())}))}deactive(){let e=this;e.setCanvasClickCallback(void 0),e.simuViewer.renderer.domElement.removeEventListener("mousemove",this._onMouseMoveAnnotation),e.simuViewer.renderer.domElement.removeEventListener("mouseup",this._onMouseUpAnnotation),setTimeout((()=>{this.orgSelectedColor&&(this.simuViewer.selectedColor=this.orgSelectedColor)}),1e3)}createDIV(e,t,i,n,r){let s;s=r||kt.generateUUID();let a=this.divLabels.length,o=document.createElement("div");o.id="_BMInnerDIV"+a.toString(),o.style.cssText="position:absolute;display:inline;background:rgba(255,255,255,0.5);white-space:nowrap;display:block;overflow:hidden;padding:5px;";let l=document.createElement("input");l.id="_BMInnerLabelPosInput"+a.toString(),l.type="hidden",l.value=e+","+t+","+i;let c=document.createElement("input");c.id="_BMInnerLabelIDInput"+a.toString(),c.type="hidden",c.value=s,o.appendChild(l),o.appendChild(c);let h=document.createElement("label");h.id="_BMInnerLabelContentInput"+a.toString(),h.innerHTML=n||"标签",o.appendChild(h),o.addEventListener("click",this._labelOnClick,!1),this.parentContainer.appendChild(o);let d=new Ed(this.simuViewer,o,e,t,i);return d._setEvent(),this.divLabels.push(d),this.simuViewer.render(),d}createDynamicDiv(e,t,i){let n=this.divLabels.length,r=document.createElement("div");r.id="_BMInnerDIV"+n.toString(),r.style.cssText="position:absolute;display:inline;background:white;white-space:nowrap;display:block;overflow:hidden;padding:5px;padding-top:10px";let s=document.createElement("input");s.id="_BMInnerLabelInput"+n.toString(),s.type="text",s.placeholder="请输入文字",s.style.cssText="zIndex:999";let a=document.createElement("input");a.id="_BMInnerSaveInput"+n.toString(),a.type="button",a.value="保存";let o=document.createElement("input");o.id="_BMInnerLabelPosInput"+n.toString(),o.type="hidden",o.value=e+","+t+","+i,a.addEventListener("mousedown",this._onMouseClickTxtInput,!1),r.appendChild(s),r.appendChild(a),r.appendChild(o),s.focus(),this.parentContainer.appendChild(r);let l=new Ed(this.simuViewer,r,e,t,i);return this.divLabels.push(l),this.simuViewer.render(),l}createImgDiv(e,t,i,n){let r=this.divLabels.length,s=document.createElement("div");s.id="_BMInnerDIV"+r.toString(),s.style.cssText="position:absolute;display:inline;;white-space:nowrap;display:block;overflow:hidden;";let a=document.createElement("input");a.id="_BMInnerLabelPosInput"+r.toString(),a.type="hidden",a.value=e+","+t+","+i;let o=document.createElement("input");o.id="_BMInnerLabelIDInput"+r.toString(),o.type="hidden";let l,c=new Image,h=this.defaultImg;l=null==(n=null==n?{}:n).id?kt.generateUUID():n.id,o.value=l;let d=null==n.imgUrl?h:n.imgUrl,u=d||h;c.src=u;let p=n.imgScale?n.imgScale:1;c.onload=function(){if(1!=p){let e=c.height,t=c.width;c.height=e*p,c.width=t*p}c.style.top=c.height/2,c.style.left=c.tmpWidth/2},s.appendChild(a),s.appendChild(o),s.appendChild(c),s.addEventListener("click",this._labelOnClick,!1),this.parentContainer.appendChild(s);let m=new Ed(this.simuViewer,s,e,t,i);m._setEvent(),this.divLabels.push(m),this.simuViewer.render(),this.imgLabelSaveEvt&&this.imgLabelSaveEvt({positions:[e,t,i],imgUrl:u})}setLabelClickCallback(e){this.labelClickCallBack=e}labelOnClick(e){let t=e.target.parentNode.childNodes,i=t[0].value,n=t[1].value;this.labelClickCallBack&&this.labelClickCallBack({id:n,positions:i})}onMouseClickTxtInput(e){let t=this,i=e.target.parentNode,n=i.firstChild.value;n=n.trim();let r="";n.isEmpty&&(n="标签"),r=n;let s=i.lastChild.value.split(",");t.parentContainer.removeChild(i),t.createDIV(s[0],s[1],s[2],r),t.txtLabelSaveEvt&&t.txtLabelSaveEvt({positions:s,content:r})}setTxtLabelSaveCallback(e){this.txtLabelSaveEvt=e}setDefaultImg(e){e&&(e.imgUrl&&(this.defaultImg=e.imgUrl),e.imgScale&&(this.defaultImgScale=e.imgScale))}setImgLabelSaveCallback(e){this.imgLabelSaveEvt=e}createGeoAnnotation(e,t,i){let n=this;n.isMouseMove=!0;let r=new oi(0,0,0);n.simuViewer.camera.getWorldDirection(r),n.labelPlane=new vr,n.labelPlane.setFromNormalAndCoplanarPoint(r.normalize(),e);let s=new Nh(n.labelPlane,2,16776960);s.updateMatrixWorld(!0),s.updateMatrix(),s.updateMatrixWorld();let a=s.matrixWorld.clone();switch(a.setPosition(e.x,e.y,e.z),n.labelPlaneMatrix=a,n.labelLastPt=e.clone(),n.operaType){case n.LabelMode.CIRCLE:n.createCircleAnnotation(e);break;case n.LabelMode.RECT:n.createRectAnnotation(e,t);break;case n.LabelMode.REDLINE:n.createRedLineAnnotation(e)}}setGeoAnnotationSaveCallback(e){this.geoAnnotationSaveEvt=e}createCircleAnnotation(e){let t=this;t.circleOrgin=e.clone(),t.tempCircle||(t.orginRaduis=1,t.tempCircle=t.createCircle(t.orginRaduis,"yellow"),this.labelGroup.add(t.tempCircle)),t.tempCircle.applyMatrix4(t.labelPlaneMatrix),t.tempCircle.updateMatrix(),t.tempCircle.updateMatrixWorld(),t.simuViewer.renderer.domElement.addEventListener("mousemove",this._onMouseMoveAnnotation),t.simuViewer.renderer.domElement.addEventListener("mouseup",this._onMouseUpAnnotation)}createCircle(e,t){let i=new $o(e,60),n=new al(i,1),r=new No({transparent:!0,color:t,depthTest:!1});return new Ho(n,r)}createRectAnnotation(e,t){let i=this;i.firstScreenCord=t.clone(),i.firstWorldPos=e.clone(),i.simuViewer.renderer.domElement.addEventListener("mousemove",this._onMouseMoveAnnotation),i.simuViewer.renderer.domElement.addEventListener("mouseup",this._onMouseUpAnnotation)}createRedLineAnnotation(e){let t=this;var i=new kn,n=new Float32Array(1500);i.setAttribute("position",new Cn(n,3));var r=new No({transparent:!0,color:16776960,linewidth:1,depthTest:!1});this.tmpLine=new Fo(i,r),this.tmpLine.renderOrder=99,this.tmpLine.updateMatrix(),this.tmpLine.updateMatrixWorld(),this.labelGroup.add(this.tmpLine),t.index=0,t.simuViewer.renderer.domElement.addEventListener("mousemove",this._onMouseMoveAnnotation),t.simuViewer.renderer.domElement.addEventListener("mouseup",this._onMouseUpAnnotation),t.simuViewer.render()}onMouseMoveAnnotation(e){let t=this;if(t.isMouseMove){let n=e.clientX-t.simuViewer.renderer.domElement.getBoundingClientRect().left,r=e.clientY-t.simuViewer.renderer.domElement.getBoundingClientRect().top;if(t.operaType==t.LabelMode.CIRCLE){let i=t.getlabelMouseWordPosion({screenX:n,screenY:r,event:e});t.circleRadius=i.distanceTo(t.circleOrgin),t.tempCircle.scale.set(t.circleRadius,t.circleRadius,1),t.tempCircle.updateMatrix(),t.tempCircle.updateMatrixWorld(),t.simuViewer.render()}else if(t.operaType==t.LabelMode.RECT){let i=t.getTargePlanePostion({screenX:n,screenY:r,event:e,targetPlane:t.labelPlane}),s=[];s.push(t.firstWorldPos);let a=t.getTargePlanePostion({screenX:n,screenY:this.firstScreenCord.y,event:e,targetPlane:t.labelPlane}),o=t.getTargePlanePostion({screenX:this.firstScreenCord.x,screenY:r,event:e,targetPlane:t.labelPlane});if(s.push(a),s.push(i),s.push(i),s.push(o),s.push(t.firstWorldPos),t.tempRect){let e=new kn;e.setFromPoints(s);let i=Array.from(e.attributes.position.array),n=t.tempRect.geometry.attributes.position;n.array.length==i.length&&n.set(i,0),t.tempRect.geometry.attributes.position.needsUpdate=!0,t.tempRect.updateMatrix(),t.tempRect.updateMatrixWorld(),this.simuViewer.renderer.render(this.simuViewer.scene,this.simuViewer.camera)}else{let e=new kn;e.setFromPoints(s);let i=new An({transparent:!0,color:16776960,depthTest:!1,wireframe:!0});t.tempRect=new ir(e,i),t.tempRect.updateMatrix(),t.tempRect.updateMatrixWorld(),this.labelGroup.add(t.tempRect),this.simuViewer.render()}}else if(t.operaType==t.LabelMode.REDLINE){let s=t.getTargePlanePostion({screenX:n,screenY:r,event:e,targetPlane:t.labelPlane}).clone();var i=t.tmpLine.geometry.attributes.position.array;0==t.index&&(i[t.index]=s.x,i[t.index+1]=s.y,i[t.index+2]=s.z,t.index=t.index+3),i[t.index]=s.x,i[t.index+1]=s.y,i[t.index+2]=s.z,t.index=t.index+3,t.tmpLine.geometry.setDrawRange(0,t.index/3),t.tmpLine.geometry.attributes.position.needsUpdate=!0,t.tmpLine.updateMatrix(),t.tmpLine.updateMatrixWorld(),t.simuViewer.render()}}}onMouseUpAnnotation(e){let t=this;t.isMouseMove=!1;let i=new qt;i.x=e.clientX-t.simuViewer.renderer.domElement.getBoundingClientRect().left,i.y=e.clientY-t.simuViewer.renderer.domElement.getBoundingClientRect().top;let n=t.getlabelMouseWordPosion({event:e});if(t.operaType==t.LabelMode.CIRCLE){t.circleRadius=n.distanceTo(t.circleOrgin);let e=t.createCircle(t.circleRadius,16711680);e.geometry.applyMatrix4(t.labelPlaneMatrix);let i=t.addLine({geo:e.geometry,lineColor:16711680});i.updateMatrix(),i.updateMatrixWorld(),this.labelGroup.add(i),this.labelGroup.remove(t.tempCircle),t.tempCircle=void 0,t.geoAnnotationSaveEvt&&t.geoAnnotationSaveEvt({positions:e.geometry.attributes.position.clone().array}),t.deactive()}else if(t.operaType==t.LabelMode.RECT){if(!t.tempRect)return;let e=t.addLine({geo:t.tempRect.geometry,lineColor:16711680});e.updateMatrix(),e.updateMatrixWorld(),this.labelGroup.add(e),t.simuViewer.render(),t.geoAnnotationSaveEvt&&t.geoAnnotationSaveEvt({positions:e.geometry.attributes.position.clone().array}),t.deactive()}else if(t.operaType==t.LabelMode.REDLINE){let e=new kn,i=t.tmpLine.geometry.attributes.position.array.slice(0,t.index);e.setAttribute("position",new Cn(i,3)),this.labelGroup.remove(this.tmpLine);let n=t.addLine({geo:e,lineColor:16711680});this.labelGroup.add(n),t.geoAnnotationSaveEvt&&t.geoAnnotationSaveEvt({positions:e.attributes.position.clone().array}),t.deactive()}}render(){let e=this.simuViewer.camera,t=this.simuViewer.container.offsetWidth,i=this.simuViewer.container.offsetHeight;this.divLabels.forEach((n=>{n.update(t,i,e)}))}clearLabel(){this.divLabels.forEach((e=>{e.div.parentNode&&e.div.parentNode.removeChild(e.div)})),this.divLabels.splice(0,this.divLabels.length),this.simuViewer.lineRootGroup&&this.simuViewer.lineRootGroup.clear(),this.labelGroup.clear(),this.simuViewer.render()}addLine(e){if(!e)return;let t=null==e.lineColor?65535:e.lineColor,i=null==e.lineStyle?"solid":e.lineStyle,n=null==e.lineWidth?5:e.lineWidth,r=null;if(e.geo&&(r=e.geo),!r)return null;var s=new ad;s.setGeometry(r);let a=new qt(this.simuViewer.container.offsetWidth,this.simuViewer.container.offsetHeight),o={alphaTest:0,color:new Kt(t),depthTest:!1,depthWrite:!1,lineWidth:n,opacity:1,resolution:a,side:2,sizeAttenuation:!1,transparent:!0,useMap:!1},l=null;if("dash"==i){let e=.02,t=.2,i=0;o.dashArray=e,o.dashRatio=t,o.dashOffset=i}var c=new ld(o);return l=new ir(s.geometry,c),l.updateMatrixWorld(),l.updateMatrix(),l}getTargePlanePostion(e){let t=this,i=e.event,n=e.targetPlane,r=e.screenX,s=e.screenY;const a=new Th;null==r&&null==s&&(r=i.clientX-t.simuViewer.renderer.domElement.getBoundingClientRect().left,s=i.clientY-t.simuViewer.renderer.domElement.getBoundingClientRect().top);let o=r/t.simuViewer.container.offsetWidth*2-1,l=(t.simuViewer.container.offsetHeight-s)/t.simuViewer.container.offsetHeight*2-1,c=new qt(o,l);if(a.setFromCamera(c,t.simuViewer.camera),n){let e=new oi;return e=a.ray.intersectPlane(n,e),e||null}{let e=-t.simuViewer.sceneBoundingBoxRadius,i=new oi(c.x,c.y,.99);i.unproject(t.simuViewer.camera);let n=new oi(0,0,e);n.applyMatrix4(t.simuViewer.camera.matrixWorld),(new oi).subVectors(t.simuViewer.cameraTarget,t.simuViewer.camera.position).normalize();let r=new oi;t.simuViewer.camera.getWorldDirection(r);let s=new vr;s.setFromNormalAndCoplanarPoint(r.normalize(),n),a.ray.intersectPlane(s,i),i.applyMatrix4(t.simuViewer.camera.matrixWorldInverse);let o=new ii;return o.set(i.x,i.y,i.z,1),o=o.applyMatrix4(t.simuViewer.camera.matrixWorld),new oi(o.x,o.y,o.z)}}getlabelMouseWordPosion(e){let t=this,i=e.event,n=e.targetPlane,r=e.screenX,s=e.screenY,a=cd.getMouseWorldPosition(i,t.simuViewer.modelRoot,this.simuViewer.camera,this.simuViewer.renderer,this.simuViewer.container);if(a&&a.point)return a.point;{const e=new Th;null==r&&null==s&&(r=i.clientX-t.simuViewer.renderer.domElement.getBoundingClientRect().left,s=i.clientY-t.simuViewer.renderer.domElement.getBoundingClientRect().top);let a=r/t.simuViewer.container.offsetWidth*2-1,o=(t.simuViewer.container.offsetHeight-s)/t.simuViewer.container.offsetHeight*2-1,l=new qt(a,o);if(e.setFromCamera(l,t.simuViewer.camera),n){let t=new oi;return t=e.ray.intersectPlane(n,t),t||null}{let i=-t.simuViewer.sceneBoundingBoxRadius,n=new oi(l.x,l.y,.99);n.unproject(t.simuViewer.camera);let r=new oi(0,0,i);r.applyMatrix4(t.simuViewer.camera.matrixWorld),(new oi).subVectors(t.simuViewer.cameraTarget,t.simuViewer.camera.position).normalize();let s=new oi;t.simuViewer.camera.getWorldDirection(s);let a=new vr;a.setFromNormalAndCoplanarPoint(s.normalize(),r),e.ray.intersectPlane(a,n),n.applyMatrix4(t.simuViewer.camera.matrixWorldInverse);let o=new ii;return o.set(n.x,n.y,n.z,1),o=o.applyMatrix4(t.simuViewer.camera.matrixWorld),new oi(o.x,o.y,o.z)}}}createLabelByParam(e){let t=this,i={};e||(i.state=!1,i.msg="传入参数为空");let n=e.type;null==n&&(i.state=!1,i.msg="type为必填字段！");let r=e.positions;(null==r||r.length<3)&&(i.state=!1,i.msg="positions为必填字段！且长度需大于等于3");let s=e.content;null==s&&(s="标签");let a=e.imgUrl;null==a&&(a=t.defaultImg);let o=e.imgScale;null==o&&(o=t.defaultImgScale);let l=e.id;switch(n){case 0:t.createDIV(r[0],r[1],r[2],s,l);break;case 1:t.createImgDiv(r[0],r[1],r[2],{id:l,imgUrl:a,imgScale:o});break;case 2:case 3:case 4:const e=new kn,i=new Float32Array(r);e.setAttribute("position",new Cn(i,3));let n=t.addLine({geo:e,lineColor:16711680});t.labelGroup.add(n)}return t.simuViewer.render(),i.state=!0,i}}const Cd={type:"change"};class Ld extends Ct{constructor(e,t){super(),void 0===t&&(console.warn('THREE.FlyControls: The second parameter "domElement" is now mandatory.'),t=document),this.object=e,this.domElement=t,this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1;const i=this,n=1e-6,r=new ai,s=new oi;this.tmpQuaternion=new ai,this.mouseStatus=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new oi(0,0,0),this.rotationVector=new oi(0,0,0),this.keydown=function(e){if(!e.altKey){switch(e.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=.1;break;case"KeyW":this.moveState.forward=1;break;case"KeyS":this.moveState.back=1;break;case"KeyA":this.moveState.left=1;break;case"KeyD":this.moveState.right=1;break;case"KeyR":this.moveState.up=1;break;case"KeyF":this.moveState.down=1;break;case"ArrowUp":this.moveState.pitchUp=1;break;case"ArrowDown":this.moveState.pitchDown=1;break;case"ArrowLeft":this.moveState.yawLeft=1;break;case"ArrowRight":this.moveState.yawRight=1;break;case"KeyQ":this.moveState.rollLeft=1;break;case"KeyE":this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(e){switch(e.code){case"ShiftLeft":case"ShiftRight":this.movementSpeedMultiplier=1;break;case"KeyW":this.moveState.forward=0;break;case"KeyS":this.moveState.back=0;break;case"KeyA":this.moveState.left=0;break;case"KeyD":this.moveState.right=0;break;case"KeyR":this.moveState.up=0;break;case"KeyF":this.moveState.down=0;break;case"ArrowUp":this.moveState.pitchUp=0;break;case"ArrowDown":this.moveState.pitchDown=0;break;case"ArrowLeft":this.moveState.yawLeft=0;break;case"ArrowRight":this.moveState.yawRight=0;break;case"KeyQ":this.moveState.rollLeft=0;break;case"KeyE":this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()},this.mousedown=function(e){if(this.dragToLook)this.mouseStatus++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},this.mousemove=function(e){if(!this.dragToLook||this.mouseStatus>0){const t=this.getContainerDimensions(),i=t.size[0]/2,n=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-i)/i,this.moveState.pitchDown=(e.pageY-t.offset[1]-n)/n,this.updateRotationVector()}},this.mouseup=function(e){if(this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()},this.update=function(e){const t=e*i.movementSpeed,a=e*i.rollSpeed;i.object.translateX(i.moveVector.x*t),i.object.translateY(i.moveVector.y*t),i.object.translateZ(i.moveVector.z*t),i.tmpQuaternion.set(i.rotationVector.x*a,i.rotationVector.y*a,i.rotationVector.z*a,1).normalize(),i.object.quaternion.multiply(i.tmpQuaternion),(s.distanceToSquared(i.object.position)>n||8*(1-r.dot(i.object.quaternion))>n)&&(i.dispatchEvent(Cd),r.copy(i.object.quaternion),s.copy(i.object.position))},this.updateMovementVector=function(){const e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",Rd),this.domElement.removeEventListener("mousedown",o),this.domElement.removeEventListener("mousemove",a),this.domElement.removeEventListener("mouseup",l),window.removeEventListener("keydown",c),window.removeEventListener("keyup",h)};const a=this.mousemove.bind(this),o=this.mousedown.bind(this),l=this.mouseup.bind(this),c=this.keydown.bind(this),h=this.keyup.bind(this);this.domElement.addEventListener("contextmenu",Rd),this.domElement.addEventListener("mousemove",a),this.domElement.addEventListener("mousedown",o),this.domElement.addEventListener("mouseup",l),window.addEventListener("keydown",c),window.addEventListener("keyup",h),this.updateMovementVector(),this.updateRotationVector()}}function Rd(e){e.preventDefault()}const Vd=new oi,Id=new class{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Ut(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},Pd=new oi;class Ud{constructor(e,t){void 0===t&&(console.warn('THREE.FirstPersonControls: The second parameter "domElement" is now mandatory.'),t=document),this.object=e,this.domElement=t,this.enabled=!0,this.movementSpeed=1,this.lookSpeed=.005,this.lookVertical=!0,this.autoForward=!1,this.activeLook=!0,this.heightSpeed=!1,this.heightCoef=1,this.heightMin=0,this.heightMax=1,this.constrainVertical=!1,this.verticalMin=0,this.verticalMax=Math.PI,this.mouseDragOn=!1,this.autoSpeedFactor=0,this.mouseX=0,this.mouseY=0,this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.viewHalfX=0,this.viewHalfY=0;let i=0,n=0;this.handleResize=function(){this.domElement===document?(this.viewHalfX=window.innerWidth/2,this.viewHalfY=window.innerHeight/2):(this.viewHalfX=this.domElement.offsetWidth/2,this.viewHalfY=this.domElement.offsetHeight/2)},this.onMouseDown=function(e){if(this.domElement!==document&&this.domElement.focus(),this.activeLook)switch(e.button){case 0:this.moveForward=!0;break;case 2:this.moveBackward=!0}this.mouseDragOn=!0},this.onMouseUp=function(e){if(this.activeLook)switch(e.button){case 0:this.moveForward=!1;break;case 2:this.moveBackward=!1}this.mouseDragOn=!1},this.onMouseMove=function(e){this.domElement===document?(this.mouseX=e.pageX-this.viewHalfX,this.mouseY=e.pageY-this.viewHalfY):(this.mouseX=e.pageX-this.domElement.offsetLeft-this.viewHalfX,this.mouseY=e.pageY-this.domElement.offsetTop-this.viewHalfY)},this.onKeyDown=function(e){switch(e.code){case"ArrowUp":case"KeyW":this.moveForward=!0;break;case"ArrowLeft":case"KeyA":this.moveLeft=!0;break;case"ArrowDown":case"KeyS":this.moveBackward=!0;break;case"ArrowRight":case"KeyD":this.moveRight=!0;break;case"KeyR":this.moveUp=!0;break;case"KeyF":this.moveDown=!0}},this.onKeyUp=function(e){switch(e.code){case"ArrowUp":case"KeyW":this.moveForward=!1;break;case"ArrowLeft":case"KeyA":this.moveLeft=!1;break;case"ArrowDown":case"KeyS":this.moveBackward=!1;break;case"ArrowRight":case"KeyD":this.moveRight=!1;break;case"KeyR":this.moveUp=!1;break;case"KeyF":this.moveDown=!1}},this.lookAt=function(e,t,i){return e.isVector3?Pd.copy(e):Pd.set(e,t,i),this.object.lookAt(Pd),c(this),this},this.update=function(){const e=new oi;return function(t){if(!1===this.enabled)return;if(this.heightSpeed){const e=kt.clamp(this.object.position.y,this.heightMin,this.heightMax)-this.heightMin;this.autoSpeedFactor=t*(e*this.heightCoef)}else this.autoSpeedFactor=0;const r=t*this.movementSpeed;(this.moveForward||this.autoForward&&!this.moveBackward)&&this.object.translateZ(-(r+this.autoSpeedFactor)),this.moveBackward&&this.object.translateZ(r),this.moveLeft&&this.object.translateX(-r),this.moveRight&&this.object.translateX(r),this.moveUp&&this.object.translateY(r),this.moveDown&&this.object.translateY(-r);let s=t*this.lookSpeed;this.activeLook||(s=0);let a=1;this.constrainVertical&&(a=Math.PI/(this.verticalMax-this.verticalMin)),n-=this.mouseX*s,this.lookVertical&&(i-=this.mouseY*s*a),i=Math.max(-85,Math.min(85,i));let o=kt.degToRad(90-i);const l=kt.degToRad(n);this.constrainVertical&&(o=kt.mapLinear(o,0,Math.PI,this.verticalMin,this.verticalMax));const c=this.object.position;e.setFromSphericalCoords(1,o,l).add(c),this.object.lookAt(e)}}(),this.dispose=function(){this.domElement.removeEventListener("contextmenu",Dd),this.domElement.removeEventListener("mousedown",s),this.domElement.removeEventListener("mousemove",r),this.domElement.removeEventListener("mouseup",a),window.removeEventListener("keydown",o),window.removeEventListener("keyup",l)};const r=this.onMouseMove.bind(this),s=this.onMouseDown.bind(this),a=this.onMouseUp.bind(this),o=this.onKeyDown.bind(this),l=this.onKeyUp.bind(this);function c(e){const t=e.object.quaternion;Vd.set(0,0,-1).applyQuaternion(t),Id.setFromVector3(Vd),i=90-kt.radToDeg(Id.phi),n=kt.radToDeg(Id.theta)}this.domElement.addEventListener("contextmenu",Dd),this.domElement.addEventListener("mousemove",r),this.domElement.addEventListener("mousedown",s),this.domElement.addEventListener("mouseup",a),window.addEventListener("keydown",o),window.addEventListener("keyup",l),this.handleResize(),c(this)}}function Dd(e){e.preventDefault()}class Bd{constructor(e,t){this.orgLoopRender=e.isLoopRender,this.simuViewer=e,this.simuViewer.enableLoopRender(!0);var i=e.camera;this.cameraPosition=new oi,this.cameraPosition.copy(i.position),this.cameraLookAt=new oi,this.cameraLookAt.copy(i.target||new oi),this.cameraUp=new oi,this.cameraUp.copy(i.up.clone()),this.scene=e.scene,this.speed=1,this.isShowPath=!1,this.pathColor=16711680,this.suspended=!1,this.startFly=!1,this.endFly=!1,t&&this.setPath(t),this.progress=0,this.position=new oi,this.tangent=new oi,this.lookAt=new oi}setPath(e){if(e instanceof Array&&0==e.length%3){for(var t=[],i=0,n=e.length;i<n;i+=3)t.push(new oi(e[i],e[i+1],e[i+2]));this.curves=new fl(t);var r=this.curves.getPoints(e.length/3*100),s=new kn;s.setFromPoints(r);var a=new No({color:this.pathColor});this.line?(this.line.geometry.setFromPoints(r),this.line.updateMatrix(),this.line.updateMatrixWorld()):(this.line=new Fo(s,a),this.line.visible=!1,this.scene.add(this.line))}else console.log("路径漫游需传入正确的路径数组")}start(){null==this.orgLoopRender&&(this.orgLoopRender=this.simuViewer.isLoopRender),this.simuViewer.enableLoopRender(!0),this.simuViewer.camera.up=new oi(0,0,1),this.startFly=!0,this.suspended=!1,this.endFly=!1}suspend(){this.suspended=!0,this.endFly=!1}stop(){this.startFly=!1,this.suspended=!1,this.endFly=!0,null!=this.orgLoopRender&&this.simuViewer.enableLoopRender(this.orgLoopRender),this.simuViewer.camera.up.copy(this.cameraUp)}update(){this.line&&(this.line.visible=this.isShowPath,this.startFly&&(this.suspended||(this.progress=this.progress+this.speed/1e3,this.progress=this.progress%1,this.position.copy(this.curves.getPointAt(this.progress)),this.tangent.copy(this.curves.getTangentAt(this.progress)),this.lookAt.copy(this.position).sub(this.tangent)),this.simuViewer.camera.position.copy(this.position),this.simuViewer.camera.lookAt(this.lookAt),this.simuViewer.camera.rotateY(Math.PI),this.simuViewer.camera.updateMatrix(),this.simuViewer.camera.updateWorldMatrix()),this.endFly&&(this.startFly=!1,this.suspended=!1,this.progress=0,this.position=new oi,this.tangent=new oi,this.lookAt=new oi,this.endFly=!1))}}class Nd{static setFirstPersonControls(e){this.initCtrl(e),e.orginIsLoopRender=e.isLoopRender,e.enableLoopRender(!0),e.controls.enabled=!1,e.firstPersonCtrlDiv=document.createElement("div"),e.firstPersonCtrlDiv.class="simu3d-panel simu3d-has-title simu3d-sizable property-panel  simu3d-roamInstructions",e.firstPersonCtrlDiv.style.cssText="position: absolute;right: 0px; bottom: 0px; width: 74px;box-sizing: border-box;color: #FFFFFF;overflow: hidden;user-select: none;background-color: rgba(20, 8, 8, 0.66);z-index: 9;",e.firstPersonCtrlDiv.innerHTML=['        <div class="simu3d-title" style="cursor: move; user-select: none;">漫游说明</div>','        <div class="simu3d-panel-body">','            <table class="simu3d-table" style="border-width:1px;padding:8px;border-style:solid;border-color:#666666;">',"                <tbody>\t\t\t               ",'\t\t\t\t<tr class="simu3d-group-content" style="border-width:1px;padding:8px;border-style:solid;border-color:#666666;">','                    <td class="simu3d-key">A</td>','                    <td class="simu3d-value">右移</td>',"                </tr>",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">D</td>','                    <td class="simu3d-value">左移</td>',"                </tr>",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">W</td>','                    <td class="simu3d-value">前进</td>',"                </tr>",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">S</td>','                    <td class="simu3d-value">后退</td>',"                </tr>","                ",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">R</td>','                    <td class="simu3d-value">下移</td>',"                </tr>",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">F</td>','                    <td class="simu3d-value">上移</td>',"                </tr>           ","            </tbody></table>","        </div>        "].join(""),e.firstPersonControls?e.firstPersonControls.enabled=!0:(e.firstPersonControls=new Ud(e.camera,e.renderer.domElement),e.firstPersonControls.enabled=!0,e.firstPersonControls.activeLook=!0,e.firstPersonControls.lookSpeed=.005,e.firstPersonControls.movementSpeed=4,e.firstPersonControls.constrainVertical=!0,e.firstPersonControls.lookVertical=!0),e.container.appendChild(e.firstPersonCtrlDiv)}static setFlyControl(e){this.initCtrl(e),e.orginIsLoopRender=e.isLoopRender,e.enableLoopRender(!0),e.controls.enabled=!1,e.flyCtrlDiv=document.createElement("div"),e.flyCtrlDiv.class="simu3d-panel simu3d-has-title simu3d-sizable property-panel  simu3d-roamInstructions",e.flyCtrlDiv.style.cssText="position: absolute;right: 0px; bottom: 0px; width: 74px;box-sizing: border-box;color: #FFFFFF;overflow: hidden;user-select: none;background-color: rgba(20, 8, 8, 0.66);z-index: 9;",e.flyCtrlDiv.innerHTML=['        <div class="simu3d-title" style="cursor: move; user-select: none;">漫游说明</div>','        <div class="simu3d-panel-body">','            <table class="simu3d-table" style="border-width:1px;padding:8px;border-style:solid;border-color:#666666;">',"                <tbody>\t\t\t               ",'\t\t\t\t<tr class="simu3d-group-content" style="border-width:1px;padding:8px;border-style:solid;border-color:#666666;">','                    <td class="simu3d-key">A</td>','                    <td class="simu3d-value">右移</td>',"                </tr>",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">D</td>','                    <td class="simu3d-value">左移</td>',"                </tr>",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">W</td>','                    <td class="simu3d-value">前进</td>',"                </tr>",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">S</td>','                    <td class="simu3d-value">后退</td>',"                </tr>","                ",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">R</td>','                    <td class="simu3d-value">下移</td>',"                </tr>",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">F</td>','                    <td class="simu3d-value">上移</td>',"                </tr>           ",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">Q</td>','                    <td class="simu3d-value">右倾</td>',"                </tr>",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">E</td>','                    <td class="simu3d-value">左倾</td>',"                </tr>",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">↑</td>','                    <td class="simu3d-value">俯</td>',"                </tr>",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">↓</td>','                    <td class="simu3d-value">仰</td>',"                </tr>",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">←</td>','                    <td class="simu3d-value">右偏</td>',"                </tr>",'                <tr class="simu3d-group-content">','                    <td class="simu3d-key">→</td>','                    <td class="simu3d-value">左偏</td>',"                </tr>","            </tbody></table>","        </div>        "].join(""),e.flyControl?e.flyControl.enabled=!0:(e.flyControl=new Ld(e.camera,e.renderer.domElement),e.flyControl.enabled=!0,e.flyControl.rollSpeed=Math.PI/24,e.flyControl.autoForward=!1,e.flyControl.dragToLook=!0,e.flyControl.movementSpeed=4),e.container.appendChild(e.flyCtrlDiv)}static setPathRoam(e,t){switch(e.pathRoamUtils||(this.initCtrl(e,!1),e.pathRoamUtils=new Bd(e)),t){case 1:e.pathRoamUtils.start();break;case 2:e.pathRoamUtils.suspend();break;case 3:e.pathRoamUtils.stop(),this.defaultCtrl(e)}}static pathRoamSetPath(e,t){e.pathRoamUtils&&e.pathRoamUtils.setPath(t)}static initCtrl(e,t=!0){e.firstPersonControls&&(e.firstPersonControls.dispose(),e.firstPersonControls=void 0,e.firstPersonCtrlDiv&&(e.container.removeChild(e.firstPersonCtrlDiv),e.firstPersonCtrlDiv=void 0)),e.flyControl&&(e.flyControl.dispose(),e.flyControl=void 0,e.flyCtrlDiv&&(e.container.removeChild(e.flyCtrlDiv),e.flyCtrlDiv=void 0)),e.pathRoamUtils&&e.pathRoamUtils.stop(),null!=e.orginIsLoopRender&&e.enableLoopRender(e.orginIsLoopRender),t&&this.initCamera(e)}static defaultCtrl(e){this.initCtrl(e,!1),e.controls.enabled=!0,e.cameraTarget.copy(e.sceneBoundingSphere.center),e.controls.target.copy(e.sceneBoundingSphere.center),e.controls.distance=2*e.sceneBoundingSphere.radius,yd.setCameraView(e,14),e.controls.update(),e.render()}static initCamera(e){let t=e.camera;e.camera=new hr(45,e.container.offsetWidth/e.container.offsetHeight,.25,5e4),e.camera.position.copy(t.position),e.camera.rotation.copy(t.rotation),e.camera.quaternion.copy(t.quaternion),e.controls.object=e.camera,e.pathRoamUtils&&(e.pathRoamUtils.train=e.camera)}}const _d=new Th,kd=new oi,qd=new oi,Od=new ai,zd={X:new oi(1,0,0),Y:new oi(0,1,0),Z:new oi(0,0,1)},Fd={type:"change"},Gd={type:"mouseDown"},Wd={type:"mouseUp",mode:null},Hd={type:"objectChange"};class jd extends hn{constructor(e,t){super(),void 0===t&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),this.visible=!1,this.domElement=t,this.domElement.style.touchAction="none";const i=new pu;this._gizmo=i,this.add(i);const n=new mu;this._plane=n,this.add(n);const r=this;function s(e,t){let s=t;Object.defineProperty(r,e,{get:function(){return void 0!==s?s:t},set:function(t){s!==t&&(s=t,n[e]=t,i[e]=t,r.dispatchEvent({type:e+"-changed",value:t}),r.dispatchEvent(Fd))}}),r[e]=t,n[e]=t,i[e]=t}s("camera",e),s("object",void 0),s("enabled",!0),s("axis",null),s("mode","translate"),s("translationSnap",null),s("rotationSnap",null),s("scaleSnap",null),s("space","world"),s("size",1),s("dragging",!1),s("showX",!0),s("showY",!0),s("showZ",!0);const a=new oi,o=new oi,l=new ai,c=new ai,h=new oi,d=new ai,u=new oi,p=new oi,m=new oi,f=new oi;s("worldPosition",a),s("worldPositionStart",o),s("worldQuaternion",l),s("worldQuaternionStart",c),s("cameraPosition",h),s("cameraQuaternion",d),s("pointStart",u),s("pointEnd",p),s("rotationAxis",m),s("rotationAngle",0),s("eye",f),this._offset=new oi,this._startNorm=new oi,this._endNorm=new oi,this._cameraScale=new oi,this._parentPosition=new oi,this._parentQuaternion=new ai,this._parentQuaternionInv=new ai,this._parentScale=new oi,this._worldScaleStart=new oi,this._worldQuaternionInv=new ai,this._worldScale=new oi,this._positionStart=new oi,this._quaternionStart=new ai,this._scaleStart=new oi,this._getPointer=Yd.bind(this),this._onPointerDown=Kd.bind(this),this._onPointerHover=Jd.bind(this),this._onPointerMove=Zd.bind(this),this._onPointerUp=Qd.bind(this),this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp)}updateMatrixWorld(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(this._parentPosition,this._parentQuaternion,this._parentScale),this.object.matrixWorld.decompose(this.worldPosition,this.worldQuaternion,this._worldScale),this._parentQuaternionInv.copy(this._parentQuaternion).invert(),this._worldQuaternionInv.copy(this.worldQuaternion).invert()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(this.cameraPosition,this.cameraQuaternion,this._cameraScale),this.eye.copy(this.cameraPosition).sub(this.worldPosition).normalize(),super.updateMatrixWorld(this)}pointerHover(e){if(void 0===this.object||!0===this.dragging)return;_d.setFromCamera(e,this.camera);const t=Xd(this._gizmo.picker[this.mode],_d);this.axis=t?t.object.name:null}pointerDown(e){if(void 0!==this.object&&!0!==this.dragging&&0===e.button&&null!==this.axis){_d.setFromCamera(e,this.camera);const t=Xd(this._plane,_d,!0);t&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)),this.dragging=!0,Gd.mode=this.mode,this.dispatchEvent(Gd)}}pointerMove(e){const t=this.axis,i=this.mode,n=this.object;let r=this.space;if("scale"===i?r="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(r="world"),void 0===n||null===t||!1===this.dragging||-1!==e.button)return;_d.setFromCamera(e,this.camera);const s=Xd(this._plane,_d,!0);if(s){if(this.pointEnd.copy(s.point).sub(this.worldPositionStart),"translate"===i)this._offset.copy(this.pointEnd).sub(this.pointStart),"local"===r&&"XYZ"!==t&&this._offset.applyQuaternion(this._worldQuaternionInv),-1===t.indexOf("X")&&(this._offset.x=0),-1===t.indexOf("Y")&&(this._offset.y=0),-1===t.indexOf("Z")&&(this._offset.z=0),"local"===r&&"XYZ"!==t?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),n.position.copy(this._offset).add(this._positionStart),this.translationSnap&&("local"===r&&(n.position.applyQuaternion(Od.copy(this._quaternionStart).invert()),-1!==t.search("X")&&(n.position.x=Math.round(n.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(n.position.y=Math.round(n.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(n.position.z=Math.round(n.position.z/this.translationSnap)*this.translationSnap),n.position.applyQuaternion(this._quaternionStart)),"world"===r&&(n.parent&&n.position.add(kd.setFromMatrixPosition(n.parent.matrixWorld)),-1!==t.search("X")&&(n.position.x=Math.round(n.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(n.position.y=Math.round(n.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(n.position.z=Math.round(n.position.z/this.translationSnap)*this.translationSnap),n.parent&&n.position.sub(kd.setFromMatrixPosition(n.parent.matrixWorld))));else if("scale"===i){if(-1!==t.search("XYZ")){let e=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(e*=-1),qd.set(e,e,e)}else kd.copy(this.pointStart),qd.copy(this.pointEnd),kd.applyQuaternion(this._worldQuaternionInv),qd.applyQuaternion(this._worldQuaternionInv),qd.divide(kd),-1===t.search("X")&&(qd.x=1),-1===t.search("Y")&&(qd.y=1),-1===t.search("Z")&&(qd.z=1);n.scale.copy(this._scaleStart).multiply(qd),this.scaleSnap&&(-1!==t.search("X")&&(n.scale.x=Math.round(n.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(n.scale.y=Math.round(n.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(n.scale.z=Math.round(n.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===i){this._offset.copy(this.pointEnd).sub(this.pointStart);const e=20/this.worldPosition.distanceTo(kd.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1):"XYZE"===t?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(kd.copy(this.rotationAxis).cross(this.eye))*e):"X"!==t&&"Y"!==t&&"Z"!==t||(this.rotationAxis.copy(zd[t]),kd.copy(zd[t]),"local"===r&&kd.applyQuaternion(this.worldQuaternion),this.rotationAngle=this._offset.dot(kd.cross(this.eye).normalize())*e),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),"local"===r&&"E"!==t&&"XYZE"!==t?(n.quaternion.copy(this._quaternionStart),n.quaternion.multiply(Od.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),n.quaternion.copy(Od.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),n.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(Fd),this.dispatchEvent(Hd)}}pointerUp(e){0===e.button&&(this.dragging&&null!==this.axis&&(Wd.mode=this.mode,this.dispatchEvent(Wd)),this.dragging=!1,this.axis=null)}dispose(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))}attach(e){return this.object=e,this.visible=!0,this}detach(){return this.object=void 0,this.visible=!1,this.axis=null,this}reset(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(Fd),this.dispatchEvent(Hd),this.pointStart.copy(this.pointEnd))}getRaycaster(){return _d}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}update(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}}function Yd(e){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};{const t=this.domElement.getBoundingClientRect();return{x:(e.clientX-t.left)/t.width*2-1,y:-(e.clientY-t.top)/t.height*2+1,button:e.button}}}function Jd(e){if(this.enabled)switch(e.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(e))}}function Kd(e){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(e.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(e)),this.pointerDown(this._getPointer(e)))}function Zd(e){this.enabled&&this.pointerMove(this._getPointer(e))}function Qd(e){this.enabled&&(this.domElement.releasePointerCapture(e.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(e)))}function Xd(e,t,i){const n=t.intersectObject(e,!0);for(let e=0;e<n.length;e++)if(n[e].object.visible||i)return n[e];return!1}jd.prototype.isTransformControls=!0;const $d=new Ji,eu=new oi(0,1,0),tu=new oi(0,0,0),iu=new ki,nu=new ai,ru=new ai,su=new oi,au=new ki,ou=new oi(1,0,0),lu=new oi(0,1,0),cu=new oi(0,0,1),hu=new oi,du=new oi,uu=new oi;class pu extends hn{constructor(){super(),this.type="TransformControlsGizmo";const e=new An({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),t=new No({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),i=e.clone();i.opacity=.15;const n=t.clone();n.opacity=.5;const r=e.clone();r.color.setHex(16711680);const s=e.clone();s.color.setHex(65280);const a=e.clone();a.color.setHex(255);const o=e.clone();o.color.setHex(16711680),o.opacity=.5;const l=e.clone();l.color.setHex(65280),l.opacity=.5;const c=e.clone();c.color.setHex(255),c.opacity=.5;const h=e.clone();h.opacity=.25;const d=e.clone();d.color.setHex(16776960),d.opacity=.25;e.clone().color.setHex(16776960);const u=e.clone();u.color.setHex(7895160);const p=new el(0,.04,.1,12);p.translate(0,.05,0);const m=new rr(.08,.08,.08);m.translate(0,.04,0);const f=new kn;f.setAttribute("position",new Vn([0,0,0,1,0,0],3));const g=new el(.0075,.0075,.5,3);function y(e,t){const i=new lc(e,.0075,3,64,t*Math.PI*2);return i.rotateY(Math.PI/2),i.rotateX(Math.PI/2),i}g.translate(0,.25,0);const v={X:[[new ir(p,r),[.5,0,0],[0,0,-Math.PI/2]],[new ir(p,r),[-.5,0,0],[0,0,Math.PI/2]],[new ir(g,r),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new ir(p,s),[0,.5,0]],[new ir(p,s),[0,-.5,0],[Math.PI,0,0]],[new ir(g,s)]],Z:[[new ir(p,a),[0,0,.5],[Math.PI/2,0,0]],[new ir(p,a),[0,0,-.5],[-Math.PI/2,0,0]],[new ir(g,a),null,[Math.PI/2,0,0]]],XYZ:[[new ir(new sc(.1,0),h.clone()),[0,0,0]]],XY:[[new ir(new rr(.15,.15,.01),c.clone()),[.15,.15,0]]],YZ:[[new ir(new rr(.15,.15,.01),o.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ir(new rr(.15,.15,.01),l.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},x={X:[[new ir(new el(.2,0,.6,4),i),[.3,0,0],[0,0,-Math.PI/2]],[new ir(new el(.2,0,.6,4),i),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new ir(new el(.2,0,.6,4),i),[0,.3,0]],[new ir(new el(.2,0,.6,4),i),[0,-.3,0],[0,0,Math.PI]]],Z:[[new ir(new el(.2,0,.6,4),i),[0,0,.3],[Math.PI/2,0,0]],[new ir(new el(.2,0,.6,4),i),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new ir(new sc(.2,0),i)]],XY:[[new ir(new rr(.2,.2,.01),i),[.15,.15,0]]],YZ:[[new ir(new rr(.2,.2,.01),i),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ir(new rr(.2,.2,.01),i),[.15,0,.15],[-Math.PI/2,0,0]]]},M={START:[[new ir(new sc(.01,2),n),null,null,null,"helper"]],END:[[new ir(new sc(.01,2),n),null,null,null,"helper"]],DELTA:[[new Fo(function(){const e=new kn;return e.setAttribute("position",new Vn([0,0,0,1,1,1],3)),e}(),n),null,null,null,"helper"]],X:[[new Fo(f,n.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Fo(f,n.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Fo(f,n.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},w={XYZE:[[new ir(y(.5,1),u),null,[0,Math.PI/2,0]]],X:[[new ir(y(.5,.5),r)]],Y:[[new ir(y(.5,.5),s),null,[0,0,-Math.PI/2]]],Z:[[new ir(y(.5,.5),a),null,[0,Math.PI/2,0]]],E:[[new ir(y(.75,1),d),null,[0,Math.PI/2,0]]]},S={AXIS:[[new Fo(f,n.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},b={XYZE:[[new ir(new oc(.25,10,8),i)]],X:[[new ir(new lc(.5,.1,4,24),i),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new ir(new lc(.5,.1,4,24),i),[0,0,0],[Math.PI/2,0,0]]],Z:[[new ir(new lc(.5,.1,4,24),i),[0,0,0],[0,0,-Math.PI/2]]],E:[[new ir(new lc(.75,.1,2,24),i)]]},A={X:[[new ir(m,r),[.5,0,0],[0,0,-Math.PI/2]],[new ir(g,r),[0,0,0],[0,0,-Math.PI/2]],[new ir(m,r),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new ir(m,s),[0,.5,0]],[new ir(g,s)],[new ir(m,s),[0,-.5,0],[0,0,Math.PI]]],Z:[[new ir(m,a),[0,0,.5],[Math.PI/2,0,0]],[new ir(g,a),[0,0,0],[Math.PI/2,0,0]],[new ir(m,a),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new ir(new rr(.15,.15,.01),c),[.15,.15,0]]],YZ:[[new ir(new rr(.15,.15,.01),o),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ir(new rr(.15,.15,.01),l),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new ir(new rr(.1,.1,.1),h.clone())]]},E={X:[[new ir(new el(.2,0,.6,4),i),[.3,0,0],[0,0,-Math.PI/2]],[new ir(new el(.2,0,.6,4),i),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new ir(new el(.2,0,.6,4),i),[0,.3,0]],[new ir(new el(.2,0,.6,4),i),[0,-.3,0],[0,0,Math.PI]]],Z:[[new ir(new el(.2,0,.6,4),i),[0,0,.3],[Math.PI/2,0,0]],[new ir(new el(.2,0,.6,4),i),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new ir(new rr(.2,.2,.01),i),[.15,.15,0]]],YZ:[[new ir(new rr(.2,.2,.01),i),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new ir(new rr(.2,.2,.01),i),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new ir(new rr(.2,.2,.2),i),[0,0,0]]]},T={X:[[new Fo(f,n.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Fo(f,n.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Fo(f,n.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function C(e){const t=new hn;for(const i in e)for(let n=e[i].length;n--;){const r=e[i][n][0].clone(),s=e[i][n][1],a=e[i][n][2],o=e[i][n][3],l=e[i][n][4];r.name=i,r.tag=l,s&&r.position.set(s[0],s[1],s[2]),a&&r.rotation.set(a[0],a[1],a[2]),o&&r.scale.set(o[0],o[1],o[2]),r.updateMatrix();const c=r.geometry.clone();c.applyMatrix4(r.matrix),r.geometry=c,r.renderOrder=1/0,r.position.set(0,0,0),r.rotation.set(0,0,0),r.scale.set(1,1,1),t.add(r)}return t}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=C(v)),this.add(this.gizmo.rotate=C(w)),this.add(this.gizmo.scale=C(A)),this.add(this.picker.translate=C(x)),this.add(this.picker.rotate=C(b)),this.add(this.picker.scale=C(E)),this.add(this.helper.translate=C(M)),this.add(this.helper.rotate=C(S)),this.add(this.helper.scale=C(T)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(e){const t="local"===("scale"===this.mode?"local":this.space)?this.worldQuaternion:ru;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;let i=[];i=i.concat(this.picker[this.mode].children),i=i.concat(this.gizmo[this.mode].children),i=i.concat(this.helper[this.mode].children);for(let e=0;e<i.length;e++){const n=i[e];let r;if(n.visible=!0,n.rotation.set(0,0,0),n.position.copy(this.worldPosition),r=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),n.scale.set(1,1,1).multiplyScalar(r*this.size/4),"helper"!==n.tag){if(n.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){const e=.99,i=.2;"X"===n.name&&Math.abs(eu.copy(ou).applyQuaternion(t).dot(this.eye))>e&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"Y"===n.name&&Math.abs(eu.copy(lu).applyQuaternion(t).dot(this.eye))>e&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"Z"===n.name&&Math.abs(eu.copy(cu).applyQuaternion(t).dot(this.eye))>e&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"XY"===n.name&&Math.abs(eu.copy(cu).applyQuaternion(t).dot(this.eye))<i&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"YZ"===n.name&&Math.abs(eu.copy(ou).applyQuaternion(t).dot(this.eye))<i&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1),"XZ"===n.name&&Math.abs(eu.copy(lu).applyQuaternion(t).dot(this.eye))<i&&(n.scale.set(1e-10,1e-10,1e-10),n.visible=!1)}else"rotate"===this.mode&&(nu.copy(t),eu.copy(this.eye).applyQuaternion(Od.copy(t).invert()),-1!==n.name.search("E")&&n.quaternion.setFromRotationMatrix(iu.lookAt(this.eye,tu,lu)),"X"===n.name&&(Od.setFromAxisAngle(ou,Math.atan2(-eu.y,eu.z)),Od.multiplyQuaternions(nu,Od),n.quaternion.copy(Od)),"Y"===n.name&&(Od.setFromAxisAngle(lu,Math.atan2(eu.x,eu.z)),Od.multiplyQuaternions(nu,Od),n.quaternion.copy(Od)),"Z"===n.name&&(Od.setFromAxisAngle(cu,Math.atan2(eu.y,eu.x)),Od.multiplyQuaternions(nu,Od),n.quaternion.copy(Od)));n.visible=n.visible&&(-1===n.name.indexOf("X")||this.showX),n.visible=n.visible&&(-1===n.name.indexOf("Y")||this.showY),n.visible=n.visible&&(-1===n.name.indexOf("Z")||this.showZ),n.visible=n.visible&&(-1===n.name.indexOf("E")||this.showX&&this.showY&&this.showZ),n.material._color=n.material._color||n.material.color.clone(),n.material._opacity=n.material._opacity||n.material.opacity,n.material.color.copy(n.material._color),n.material.opacity=n.material._opacity,this.enabled&&this.axis&&(n.name===this.axis||this.axis.split("").some((function(e){return n.name===e})))&&(n.material.color.setHex(16776960),n.material.opacity=1)}else n.visible=!1,"AXIS"===n.name?(n.position.copy(this.worldPositionStart),n.visible=!!this.axis,"X"===this.axis&&(Od.setFromEuler($d.set(0,0,0)),n.quaternion.copy(t).multiply(Od),Math.abs(eu.copy(ou).applyQuaternion(t).dot(this.eye))>.9&&(n.visible=!1)),"Y"===this.axis&&(Od.setFromEuler($d.set(0,0,Math.PI/2)),n.quaternion.copy(t).multiply(Od),Math.abs(eu.copy(lu).applyQuaternion(t).dot(this.eye))>.9&&(n.visible=!1)),"Z"===this.axis&&(Od.setFromEuler($d.set(0,Math.PI/2,0)),n.quaternion.copy(t).multiply(Od),Math.abs(eu.copy(cu).applyQuaternion(t).dot(this.eye))>.9&&(n.visible=!1)),"XYZE"===this.axis&&(Od.setFromEuler($d.set(0,Math.PI/2,0)),eu.copy(this.rotationAxis),n.quaternion.setFromRotationMatrix(iu.lookAt(tu,eu,lu)),n.quaternion.multiply(Od),n.visible=this.dragging),"E"===this.axis&&(n.visible=!1)):"START"===n.name?(n.position.copy(this.worldPositionStart),n.visible=this.dragging):"END"===n.name?(n.position.copy(this.worldPosition),n.visible=this.dragging):"DELTA"===n.name?(n.position.copy(this.worldPositionStart),n.quaternion.copy(this.worldQuaternionStart),kd.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),kd.applyQuaternion(this.worldQuaternionStart.clone().invert()),n.scale.copy(kd),n.visible=this.dragging):(n.quaternion.copy(t),this.dragging?n.position.copy(this.worldPositionStart):n.position.copy(this.worldPosition),this.axis&&(n.visible=-1!==this.axis.search(n.name)))}super.updateMatrixWorld(e)}}pu.prototype.isTransformControlsGizmo=!0;class mu extends ir{constructor(){super(new Ar(1e5,1e5,2,2),new An({visible:!1,wireframe:!0,side:p,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane"}updateMatrixWorld(e){let t=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(t="local"),hu.copy(ou).applyQuaternion("local"===t?this.worldQuaternion:ru),du.copy(lu).applyQuaternion("local"===t?this.worldQuaternion:ru),uu.copy(cu).applyQuaternion("local"===t?this.worldQuaternion:ru),eu.copy(du),this.mode){case"translate":case"scale":switch(this.axis){case"X":eu.copy(this.eye).cross(hu),su.copy(hu).cross(eu);break;case"Y":eu.copy(this.eye).cross(du),su.copy(du).cross(eu);break;case"Z":eu.copy(this.eye).cross(uu),su.copy(uu).cross(eu);break;case"XY":su.copy(uu);break;case"YZ":su.copy(hu);break;case"XZ":eu.copy(uu),su.copy(du);break;case"XYZ":case"E":su.set(0,0,0)}break;default:su.set(0,0,0)}0===su.length()?this.quaternion.copy(this.cameraQuaternion):(au.lookAt(kd.set(0,0,0),su,eu),this.quaternion.setFromRotationMatrix(au)),super.updateMatrixWorld(e)}}mu.prototype.isTransformControlsPlane=!0;class fu{constructor(e){let t=this;this.simuViewer=e,this.camera=this.simuViewer.camera,this.scene=this.simuViewer.scene,this.renderer=this.simuViewer.renderer,this.isActive=!1,this.type="",this.mouse=new qt,this.ray=new Th,this.transformControls=new jd(this.camera,this.renderer.domElement),this.simuControl=this.simuViewer.control,this.transformControls.updateMatrix(),this.transformControls.updateMatrixWorld(!0),t.transformControls._gizmo.updateMatrix(),t.transformControls._plane.updateMatrix(),t.transformControls._plane.updateMatrixWorld(),this.scene.add(this.transformControls),this.transformControls.addEventListener("change",(function(e){t.transformControls.updateMatrix(),t.transformControls.updateMatrixWorld(!0),t.transformControls._gizmo.updateMatrix(),t.transformControls._gizmo.updateMatrixWorld(!0),t.transformControls._plane.updateMatrix(),t.transformControls._plane.updateMatrixWorld(!0)})),this.transformControls.addEventListener("dragging-changed",(function(e){})),t.simuViewer.modelRoot.boundingSphere=t.simuViewer.sceneBoundingSphere,t.simuViewer.scene.add(this.simuViewer.modelRoot)}active(e){let t=this;if(t.simuViewer.modelRoot.children.length<=0)return void console.log("请先加载模型");t.operaType=e;let i=this.simuViewer;t.isCompleted=!0,t.orgSelectedColor=i.selectedColor.clone(),i.selectedColor=new ii(1,1,1,1,1),this.boxSelectState=this.simuViewer.boxSelect,t.isActive||(t.isActive=!0);let n=this.simuViewer.sceneBoundingSphere.center;switch(t.transformControls.position.copy(n),t.transformControls.attach(this.simuViewer.modelRoot),t.simuViewer.render(),e){case 0:this.transformControls.setMode("translate");break;case 1:this.transformControls.setMode("rotate");break;case 2:this.transformControls.setMode("scale")}this.transformControls.updateMatrix(),this.transformControls.updateMatrixWorld(!0),this.transformControls._gizmo.updateMatrix(),this.transformControls._gizmo.updateMatrixWorld(!0),this.transformControls._plane.updateMatrix(),this.transformControls._plane.updateMatrixWorld(!0)}deactive(){let e=this;this.orgSelectedColor&&(this.simuViewer.selectedColor=this.orgSelectedColor),e.isActive=!1,e.transformControls.detach();let t=e.simuViewer.modelRoot.matrixWorld.clone();return e.stopTransformCallback&&e.stopTransformCallback(t.elements),t.elements}setStopTransformCallback(e){this.stopTransformCallback=e}modelRestore(){let e=this;e.isActive=!1,e.deactive();let t=e.simuViewer.modelRoot.matrixWorld.clone().invert();e.simuViewer.modelRoot.applyMatrix4(t),e.simuViewer.modelRoot.updateMatrix(),e.simuViewer.modelRoot.updateMatrixWorld()}}class gu{constructor(e){this.simuViewer=e,this.AssembleMode={Pt2pt:"pt2pt",Pt2Face:"pt2Face",Line2line:"line2line",Line2Face:"line2Face",Face2face:"face2face",LineTransform:"lineTransform",NormalTransform:"normalTransform",CenterTransform:"centerTransform"},this.operatingMode="modelFile",this.renderer=this.simuViewer.renderer,this.scene=this.simuViewer.scene,this.camera=this.simuViewer.camera,this.controls=this.simuViewer.controls,this.mouseMoved=!1,this.isCompleted=!1,this.pointArray=[],this.lastClickTime=0,this.canvas=this.renderer.domElement,this.alignGroup=new Qa,this.simuViewer.scene.add(this.alignGroup);let t=this;t._pt2ptHover=t.pt2ptHover.bind(this),t._lineHover=t.lineHover.bind(this),t._faceHover=t.faceHover.bind(this),t._face2faceHover=t.face2faceHover.bind(this),t._objectHover=t.objectHover.bind(this),t._transformHelperMouseHover=t.transformHelperMouseHover.bind(this),t._onAlignManagerClickEvt=t.onAlignManagerClickEvt.bind(this),t.renderer.domElement.addEventListener("click",this._onAlignManagerClickEvt),t.drawRedoArr=[],t.drawUndoArr=[],t.operaLst=[],t.cStep=-1,this._onKeyDown=t.onKeyDown.bind(this),window.addEventListener("keydown",this._onKeyDown),this._lineTransformDown=t.lineTransformDown.bind(this),this._lineTransformUp=t.lineTransformUp.bind(this),this.yellowMeshMtl=new An({color:16776960,transparent:!0,opacity:.5,side:p,depthWrite:!1,depthTest:!1})}setOperatingMode(e=0){switch(e){case 1:this.operatingMode="component";break;case 2:this.operatingMode="modelFile";break;default:this.operatingMode="part"}}setAssembledCallback(e){this.assembledCallback=e}onAlignManagerClickEvt(e){let t=this,i=e.clientX-t.renderer.domElement.getBoundingClientRect().left,n=e.clientY-t.renderer.domElement.getBoundingClientRect().top;const r=new qt(i/this.simuViewer.container.offsetWidth*2-1,-n/this.simuViewer.container.offsetHeight*2+1);let s=new Th;s.setFromCamera(r,this.camera);const a=s.intersectObject(this.simuViewer.modelRoot,!0);let o;a.length>0&&(a[0].object.parent,o=a[0]),t.alignManagerClickCallback&&t.alignManagerClickCallback(o),this.simuViewer.render()}setAssembleManagerClickCallback(e){this.alignManagerClickCallback=e}activate(e="pt2pt"){this.mode=e;let t=this;t.deactive();let i=this.simuViewer;t.isCompleted=!0,this.raycaster=new Th,this.mode==this.AssembleMode.Pt2pt?(this.setAssembleManagerClickCallback((function(e){t.getPt2PtAlignMesh(e)})),i.renderer.domElement.addEventListener("mousemove",t._pt2ptHover)):this.mode==this.AssembleMode.Pt2Face?(this.setAssembleManagerClickCallback((function(e){t.getPt2FaceAlignMesh(e)})),i.renderer.domElement.addEventListener("mousemove",t._pt2ptHover)):this.mode==this.AssembleMode.Line2line?(this.setAssembleManagerClickCallback((function(e){t.getLine2lineAlignMesh(e)})),i.renderer.domElement.addEventListener("mousemove",t._lineHover)):this.mode==this.AssembleMode.Line2Face?(this.setAssembleManagerClickCallback((function(e){t.getLine2FaceAlignMesh(e)})),i.renderer.domElement.addEventListener("mousemove",t._lineHover)):this.mode==this.AssembleMode.Face2face?(this.setAssembleManagerClickCallback((function(e){t.getFace2faceAlignMesh(e)})),i.renderer.domElement.addEventListener("mousemove",t._face2faceHover)):this.mode==this.AssembleMode.LineTransform?(this.setAssembleManagerClickCallback((function(e){t.getLineTransformMesh(e)})),i.renderer.domElement.addEventListener("mousemove",t._lineHover),i.renderer.domElement.addEventListener("mousemove",t._transformHelperMouseHover)):this.mode==this.AssembleMode.NormalTransform?(this.setAssembleManagerClickCallback((function(e){t.getNormalTransformMesh(e)})),i.renderer.domElement.addEventListener("mousemove",t._face2faceHover),i.renderer.domElement.addEventListener("mousemove",t._transformHelperMouseHover)):this.mode==this.AssembleMode.CenterTransform&&(this.setAssembleManagerClickCallback((function(e){t.getCenterTransformMesh(e)})),i.renderer.domElement.addEventListener("mousemove",t._objectHover),i.renderer.domElement.addEventListener("mousemove",t._transformHelperMouseHover)),this.renderer.domElement.style.cursor="crosshair"}deactive(){this.orgSelectedColor&&(this.simuViewer.selectedColor=this.orgSelectedColor),this.canvas.removeEventListener("mousemove",this.mousemove),this.alignGroup.clear(),this.alignGroup.updateMatrix(),this.alignGroup.updateMatrixWorld(),this.renderer.domElement.style.cursor="";let e=this.simuViewer;this.setAssembleManagerClickCallback(void 0),e.renderer.domElement.removeEventListener("mousemove",this._pt2ptHover),e.renderer.domElement.removeEventListener("mousemove",this._lineHover),e.renderer.domElement.removeEventListener("mousemove",this._faceHover),e.renderer.domElement.removeEventListener("mousemove",this._face2faceHover),e.renderer.domElement.removeEventListener("mousedown",this._lineTransformDown),e.renderer.domElement.removeEventListener("mouseup",this._lineTransformUp),e.renderer.domElement.removeEventListener("mousemove",this._transformHelperMouseHover),this.alignNode&&(this.alignNode=void 0),this.transformNode&&(this.transformNode=void 0),this.fixedAxisTransformHelper&&(this.fixedAxisTransformHelper=void 0),this.simuViewer.render()}alignClick(e){if(this.alignNode)this.assembledCallback&&this.assembledCallback({id:this.alignNode.name,matrix:this.alignNode.matrixWorld.clone().elements}),this.addOpera({id:this.alignNode.id,lastMatrix:this.alignNode.lastMatrix.clone(),matrix:this.alignNode.matrixWorld.clone()}),this.deactive();else{if(!e)return;"part"==this.operatingMode?this.alignNode=e.object:"component"==this.operatingMode?this.alignNode=e.object.parent:this.alignNode=e.object.parent.parent,this.alignNode.lastMatrix=this.alignNode.matrixWorld.clone(),this.alignNode.orgMatrix||(this.alignNode.orgMatrix=this.alignNode.matrixWorld.clone());let t=new oi;if(this.mode==this.AssembleMode.Pt2pt){let i=this.pickFace(e,{style:"none",needPt:!0});i&&i.targetPt&&(t=i.targetPt.clone())}else if(this.mode==this.AssembleMode.Pt2Face)t=e.point.clone();else if(this.mode==this.AssembleMode.Line2line){let i=this.pickLine(e,{style:"none"});i&&i.insertLine&&(this.alignNode.pickLinePts=[i.linePt0,i.linePt1],t=i.linePt0.distanceTo(e.point)<i.linePt1.distanceTo(e.point)?i.linePt0.clone():i.linePt1.clone())}else if(this.mode==this.AssembleMode.Line2Face){let i=this.pickLine(e,{style:"none"});i&&i.insertLine&&(this.alignNode.pickLinePts=[i.linePt0,i.linePt1],t=i.linePt0.distanceTo(e.point)<i.linePt1.distanceTo(e.point)?i.linePt0.clone():i.linePt1.clone(),this.alignNode&&(this.simuViewer.renderer.domElement.removeEventListener("mousemove",this._lineHover),this.simuViewer.renderer.domElement.addEventListener("mousemove",this._faceHover)))}else if(this.mode==this.AssembleMode.Face2face){let i=this.pickLine(e,{style:"none"});i&&i.insertLine&&(this.alignNode.pickFaceNormal=e.face.normal.normalize(),t=e.point.clone())}this.alignNode.pickPt=t}}getPt2PtAlignMesh(e){this.alignClick(e)}getPt2FaceAlignMesh(e){this.alignClick(e)}getLine2lineAlignMesh(e){this.alignClick(e)}getLine2FaceAlignMesh(e){this.alignClick(e)}getFace2faceAlignMesh(e){this.alignClick(e)}transformClick(e,t){if(!e)return;if(this.simuViewer.renderer.domElement.removeEventListener("mousemove",this._lineHover),this.simuViewer.renderer.domElement.removeEventListener("mousemove",this._face2faceHover),this.simuViewer.renderer.domElement.removeEventListener("mousemove",this._objectHover),this.alignGroup.clear(),this.alignGroup.updateMatrix(),this.alignGroup.updateMatrixWorld(),this.simuViewer.render(),this.addFixedAxisTransformHelper(),"part"==this.operatingMode?this.transformNode=e.object:"component"==this.operatingMode?this.transformNode=e.object.parent:this.transformNode=e.object.parent.parent,!this.transformNode)return;this.transformNode.lastMatrix=this.transformNode.matrixWorld.clone(),this.transformNode.orgMatrix||(this.transformNode.orgMatrix=this.transformNode.matrixWorld.clone());let i,n=this.pickLine(e,{style:"none"}),r=n.linePt0,s=n.linePt1,a=new oi(1,0,0),o=new ai,l=new oi;0==t?(i=r.clone(),l.subVectors(s,r).normalize(),o.setFromUnitVectors(a,l)):1==t?(i=e.point.clone(),l.copy(e.face.normal.normalize()),o.setFromUnitVectors(a,l)):i=this.simuViewer.getBoundingSphere(this.transformNode,this.simuViewer.camera).center;let c=new oi(3,3,3),h=this.fixedAxisTransformHelper.matrixWorld.clone().invert();this.fixedAxisTransformHelper.applyMatrix4(h),this.fixedAxisTransformHelper.updateMatrix(),this.fixedAxisTransformHelper.updateMatrixWorld();let d=new ki;d.compose(i,o,c),this.fixedAxisTransformHelper.applyMatrix4(d),this.fixedAxisTransformHelper.updateMatrix(),this.fixedAxisTransformHelper.updateMatrixWorld(),this.helperCenter=(new oi).applyMatrix4(d);let u=new oi,p=new oi(1,0,0),m=new oi(0,1,0),f=new oi(0,0,1);this.targetDiretionX=new Ih(u.clone(),p.clone()).applyMatrix4(d),this.targetDiretionY=new Ih(u.clone(),m.clone()).applyMatrix4(d),this.targetDiretionZ=new Ih(u.clone(),f.clone()).applyMatrix4(d),this.simuViewer.renderer.domElement.addEventListener("mousedown",this._lineTransformDown),this.simuViewer.renderer.domElement.addEventListener("mouseup",this._lineTransformUp)}getLineTransformMesh(e){this.transformNode||this.transformClick(e,0)}getNormalTransformMesh(e){if(!this.transformNode){if(!e)return;this.transformClick(e,1)}}getCenterTransformMesh(e){if(!this.transformNode){if(!e)return;this.transformClick(e,2)}}lineTransformDown(e){let t=this;this.lineTransformPress=!0;let i=e.clientX-t.renderer.domElement.getBoundingClientRect().left,n=e.clientY-t.renderer.domElement.getBoundingClientRect().top;const r=new qt(i/this.simuViewer.container.offsetWidth*2-1,-n/this.simuViewer.container.offsetHeight*2+1);let s=new Th;s.setFromCamera(r,this.camera),s.params.Line.threshold=.05;let a,o=s.intersectObject(this.gizmo,!0);if(o.length>0){a=o[0],this.helperMouseDownObj=a.object;let e=a.object;e&&"free"==e.type&&null==this.pressFreeTransformNode?(this.pressFreeTransformNode=a.object,this.freeTranformLastPos=a.point.clone()):e&&"free"!=e.type&&e.parent&&"ArrowHelper"==e.parent.type?(this.pressTarget=e.parent,"arrowX"==this.pressTarget.name?(this.pressDirection=this.targetDiretionX.clone(),this.pressDirection.name="arrowX"):"arrowY"==this.pressTarget.name?(this.pressDirection=this.targetDiretionY.clone(),this.pressDirection.name="arrowY"):"arrowZ"==this.pressTarget.name&&(this.pressDirection=this.targetDiretionZ.clone(),this.pressDirection.name="arrowZ")):e&&e.parent&&"gizmo"==e.parent.name&&"Line"==e.type&&(this.pressRotationFace=new vr,"rotationX"==e.name?(this.pressRotationFace.setFromNormalAndCoplanarPoint((new oi).subVectors(this.targetDiretionX.end,this.targetDiretionX.start).normalize(),this.helperCenter),this.pressRotationFace.name="rotationX"):"rotationY"==e.name?(this.pressRotationFace.setFromNormalAndCoplanarPoint((new oi).subVectors(this.targetDiretionY.end,this.targetDiretionY.start).normalize(),this.helperCenter),this.pressRotationFace.name="rotationY"):"rotationZ"==e.name&&(this.pressRotationFace.setFromNormalAndCoplanarPoint((new oi).subVectors(this.targetDiretionZ.end,this.targetDiretionZ.start).normalize(),this.helperCenter),this.pressRotationFace.name="rotationZ"),this.lineTransformPt=a.point.clone()),t.simuViewer.render()}}lineTransformUp(e){this.simuViewer.render(),this.lineTransformPress=!1,this.pressDirection=void 0,this.lineTransformPt=void 0,this.pressRotationFace=void 0,this.pressFreeTransformNode=void 0}clear(){this.deactive(),this.alignGroup.clear(),this.simuViewer.render()}pt2ptHover(e){let t=this;t.ptHoverMesh&&(t.alignGroup.clear(),t.simuViewer.render());let i=e.clientX-t.renderer.domElement.getBoundingClientRect().left,n=e.clientY-t.renderer.domElement.getBoundingClientRect().top;const r=new qt(i/this.simuViewer.container.offsetWidth*2-1,-n/this.simuViewer.container.offsetHeight*2+1);let s=new Th;s.setFromCamera(r,this.camera);const a=s.intersectObject(this.simuViewer.modelRoot,!0);let o;if(!this.alignNode&&a.length>0)o=a[0];else for(let e=0,t=a.length;e<t;e++){let t=null;if(t="part"==this.operatingMode?a[e].object:"component"==this.operatingMode?a[e].object.parent:a[e].object.parent.parent,this.alignNode&&this.alignNode.id!=t.id){o=a[e];break}}if(o){let e={};if(t.mode==t.AssembleMode.Pt2pt?e=t.pickFace(o,{style:"none",needPt:!0}):e.targetPt=o.point,e&&e.targetPt&&(t.ptHoverMesh=cd.creatPt(e.targetPt,"rgba(255,255,0)"),this.alignGroup.add(t.ptHoverMesh),o.pickPt=e.targetPt.clone(),this.alignNode&&e.targetPt)){let e,t=this.alignNode.matrixWorld.clone().invert();this.alignNode.applyMatrix4(t),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld();let i=o.pickPt.x-this.alignNode.pickPt.x,n=o.pickPt.y-this.alignNode.pickPt.y,r=o.pickPt.z-this.alignNode.pickPt.z;this.alignNode.lastMatrix&&(e=this.alignNode.lastMatrix.clone(),this.alignNode.applyMatrix4(e),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld());let s=new ki;s.setPosition(new oi(i,n,r)),this.alignNode.applyMatrix4(s),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld()}t.simuViewer.render()}}lineHover(e){let t=this,i=e.clientX-t.renderer.domElement.getBoundingClientRect().left,n=e.clientY-t.renderer.domElement.getBoundingClientRect().top;const r=new qt(i/this.simuViewer.container.offsetWidth*2-1,-n/this.simuViewer.container.offsetHeight*2+1);let s=new Th;s.setFromCamera(r,this.camera);const a=s.intersectObject(this.simuViewer.modelRoot,!0);let o;if(!this.alignNode&&a.length>0)o=a[0];else for(let e=0,t=a.length;e<t;e++){let t=null;if(t="part"==this.operatingMode?a[e].object:"component"==this.operatingMode?a[e].object.parent:a[e].object.parent.parent,this.alignNode&&this.alignNode.id!=t.id){o=a[e];break}}if(t.alignGroup.clear(),t.simuViewer.render(),o){let e={};if(e=t.pickLine(o,{style:"singleArrowLine"}),e.pickLinePts=[e.linePt0,e.linePt1],t.lineHoverMesh=e.insertLineMesh,t.mode==t.AssembleMode.Line2line&&this.alignNode&&e.pickLinePts){let t,i=this.alignNode.matrixWorld.clone().invert();this.alignNode.applyMatrix4(i),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld(),this.alignNode.lastMatrix&&(t=this.alignNode.lastMatrix.clone(),this.alignNode.applyMatrix4(t),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld());let n=new oi;n.subVectors(this.alignNode.pickLinePts[0],this.alignNode.pickLinePts[1]).normalize();let r=new oi;r.subVectors(e.pickLinePts[0],e.pickLinePts[1]).normalize();let s=n.clone().cross(r).normalize(),a=n.clone().angleTo(r);const l=new ai;l.setFromAxisAngle(s,a),(new ki).makeRotationFromQuaternion(l);let c=this.alignNode.pickPt.clone();c.applyMatrix4((new ki).compose(new oi,l,new oi(1,1,1)));let h=o.point.x-c.x,d=o.point.y-c.y,u=o.point.z-c.z,p=new ki;p.compose(new oi(h,d,u),l,new oi(1,1,1)),this.alignNode.applyMatrix4(p),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld()}}t.simuViewer.render()}faceHover(e){let t=this,i=e.clientX-t.renderer.domElement.getBoundingClientRect().left,n=e.clientY-t.renderer.domElement.getBoundingClientRect().top;const r=new qt(i/this.simuViewer.container.offsetWidth*2-1,-n/this.simuViewer.container.offsetHeight*2+1);let s=new Th;s.setFromCamera(r,this.camera);const a=s.intersectObject(this.simuViewer.modelRoot,!0);let o,l;if(!this.alignNode&&a.length>0)o=a[0];else for(let e=0,t=a.length;e<t;e++){let t=null;if(t="part"==this.operatingMode?a[e].object:"component"==this.operatingMode?a[e].object.parent:a[e].object.parent.parent,this.alignNode&&this.alignNode.id!=t.id){o=a[e];break}}if(t.normalHoverMesh&&(t.alignGroup.clear(),t.simuViewer.render()),o&&this.alignNode&&this.alignNode.pickLinePts){l=o.face.normal;let e=(new ki).compose(o.point,new ai,new oi(3,3,3)),i=new oi;i.applyMatrix4(e);let n=l.applyMatrix4(e),r=new oi;r.subVectors(n,i).normalize();let s=i.clone(),a=10,c=16776960;t.normalHoverMesh=new Oh(r,s,a,c),t.normalHoverMesh.updateMatrix(),t.normalHoverMesh.updateMatrixWorld(),t.alignGroup.add(t.normalHoverMesh);let h=new oi;h.subVectors(this.alignNode.pickLinePts[0],this.alignNode.pickLinePts[1]).normalize();let d=new oi;d.crossVectors(l,h);let u=new oi;u.crossVectors(l,d).normalize();let p=new ai;p.setFromUnitVectors(h,u);let m=new ki;m.compose(new oi,p,new oi(1,1,1));let f=this.alignNode.pickPt.clone();f.applyMatrix4(m);let g=o.point.x-f.x,y=o.point.y-f.y,v=o.point.z-f.z,x=new ki;if(x.compose(new oi(g,y,v),p,new oi(1,1,1)),t.lineHoverMesh){let e=t.lineHoverMesh.matrixWorld.clone().invert();t.lineHoverMesh.applyMatrix4(e),t.lineHoverMesh.updateMatrix(),t.lineHoverMesh.updateMatrixWorld(),t.lineHoverMesh.applyMatrix4(x),t.lineHoverMesh.updateMatrix(),t.lineHoverMesh.updateMatrixWorld()}if(this.alignNode){let e,t=this.alignNode.matrixWorld.clone().invert();this.alignNode.applyMatrix4(t),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld(),this.alignNode.lastMatrix&&(e=this.alignNode.lastMatrix.clone(),this.alignNode.applyMatrix4(e),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld()),this.alignNode.applyMatrix4(x),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld()}}t.simuViewer.render()}face2faceHover(e){let t=this,i=e.clientX-t.renderer.domElement.getBoundingClientRect().left,n=e.clientY-t.renderer.domElement.getBoundingClientRect().top;const r=new qt(i/this.simuViewer.container.offsetWidth*2-1,-n/this.simuViewer.container.offsetHeight*2+1);let s=new Th;s.setFromCamera(r,this.camera);const a=s.intersectObject(this.simuViewer.modelRoot,!0);let o,l;if(this.alignNode){for(let e=0,t=a.length;e<t;e++)if(this.alignNode.id!=a[e].object.id){o=a[e];break}}else o=a.length>0?a[0]:void 0;if(t.normalHoverMesh&&(t.alignGroup.clear(),t.normalHoverMesh=void 0,t.simuViewer.render()),t.arrowNormalHoverMesh&&(t.alignGroup.clear(),t.arrowNormalHoverMesh=void 0,t.simuViewer.render()),o){l=o.face.normal.clone();let e=(new ki).compose(o.point,new ai,new oi(3,3,3)),i=new oi;i.applyMatrix4(e);let n=l.applyMatrix4(e),r=new oi;r.subVectors(n,i).normalize();let s=i.clone(),a=8,c=16776960;if(t.normalHoverMesh=new Oh(r,s,a,c),t.normalHoverMesh.updateMatrix(),t.normalHoverMesh.updateMatrixWorld(),t.alignGroup.add(t.normalHoverMesh),this.alignNode){let e=this.alignNode.pickFaceNormal.clone(),t=new ai;t.setFromUnitVectors(e.normalize(),o.face.normal.clone().normalize());let i=new ki;i.compose(new oi,t,new oi(1,1,1));let n=this.alignNode.pickPt.clone();n.applyMatrix4(i);let r=o.point.x-n.x,s=o.point.y-n.y,a=o.point.z-n.z,l=new ki;if(l.compose(new oi(r,s,a),t,new oi(1,1,1)),this.alignNode){let e,t=this.alignNode.matrixWorld.clone().invert();this.alignNode.applyMatrix4(t),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld(),this.alignNode.lastMatrix&&(e=this.alignNode.lastMatrix.clone(),this.alignNode.applyMatrix4(e),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld()),this.alignNode.applyMatrix4(l),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld()}}}t.simuViewer.render()}objectHover(e){let t=this,i=e.clientX-t.renderer.domElement.getBoundingClientRect().left,n=e.clientY-t.renderer.domElement.getBoundingClientRect().top;const r=new qt(i/this.simuViewer.container.offsetWidth*2-1,-n/this.simuViewer.container.offsetHeight*2+1);let s=new Th;s.setFromCamera(r,this.camera);const a=s.intersectObject(this.simuViewer.modelRoot,!0);let o;if(t.objectTransformNode){for(let e=0,i=a.length;e<i;e++)if(t.objectTransformNode.id!=a[e].object.id){o=a[e];break}}else o=a.length>0?a[0]:void 0;if(!o)return;let l=o.object;if(t.objectsHoverMesh&&t.alignGroup.remove(this.objectsHoverMesh),l&&l.geometry.attributes.position){let e=l,i=e.geometry.attributes.position.clone().array,n=new Float32Array(i),r=new kn;r.setAttribute("position",new Cn(n,3)),r.setIndex(e.geometry.getIndex());let s=l.matrixWorld;t.objectsHoverMesh=new ir(r,this.yellowMeshMtl),t.objectsHoverMesh.applyMatrix4(s),t.objectsHoverMesh.updateMatrix(),t.objectsHoverMesh.updateMatrixWorld(),t.alignGroup.add(t.objectsHoverMesh)}t.simuViewer.render()}pickFace(e,t){let i=e.object.geometry.clone();if(!i.attributes.position)return;e.object.matrixWorld&&i.applyMatrix4(e.object.matrixWorld);let n={},r=new oi,s=e.face,a=e.faceIndex,o=i,l=e.point;n.intersectPt=l;let c=i.attributes.position;(new oi).fromBufferAttribute(o.index,a);let h=new oi;h.fromBufferAttribute(c,s.a);let d=new oi;d.fromBufferAttribute(c,s.b);let u=new oi;if(u.fromBufferAttribute(c,s.c),t.needPt){let e=h.distanceTo(l),t=d.distanceTo(l),i=u.distanceTo(l),s=e;r=h,s>t&&(s=t,r=d),s>i&&(s=i,r=u),n.targetPt=r}if(t.needLine){let e=cd.calcDistance2Line(h,d,l),t=cd.calcDistance2Line(h,u,l),i=cd.calcDistance2Line(d,u,l),r=[h,d],s=e;t<s&&(s=t,r=[h,u]),i<s&&(s=i,r=[d,u]),n.targetLinePts=r}return n}pickLine(e,t){let i=this,n=this.pickFace(e,{neededFace:!1,needLine:!0});if(!n)return;let r=n.targetLinePts[0],s=n.targetLinePts[1];const a=(new kn).setFromPoints(n.targetLinePts);let o;if(a.computeBoundingBox(),t&&"singleArrowLine"==t.style){let e=new oi;e.subVectors(s,r).normalize();let t=r.clone(),i=r.distanceTo(s);o=new Oh(e,t,i,16776960),o.updateMatrix(),o.updateMatrixWorld(),this.alignGroup.add(o)}else t&&"doubleArrowLine"==t.style||(t&&"dashLine"==t.style?(o=cd.createLine({pt1:r,pt2:s,lineColor:16776960,lineStyle:"dash",containerWidth:i.simuViewer.container.offsetWidth,containerHeight:i.simuViewer.container.offsetHeight}),this.alignGroup.add(o)):t&&"none"==t.style?o=cd.createLine({pt1:r,pt2:s,lineColor:16776960,containerWidth:i.simuViewer.container.offsetWidth,containerHeight:i.simuViewer.container.offsetHeight}):(o=cd.createLine({pt1:r,pt2:s,lineColor:16776960,containerWidth:i.simuViewer.container.offsetWidth,containerHeight:i.simuViewer.container.offsetHeight}),this.alignGroup.add(o)));return n.insertLineMesh=o,n.insertLine=a,n.linePt0=r,n.linePt1=s,n}recoveryAlign(){if(this.alignNode){let e=this.alignNode.matrixWorld.clone().invert();this.alignNode.applyMatrix4(e),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld(),this.alignNode.applyMatrix4(this.alignNode.lastMatrix),this.alignNode.updateMatrix(),this.alignNode.updateMatrixWorld()}this.deactive(),this.simuViewer.render()}onKeyDown(e){let t=this;"Escape"==e.code&&t.recoveryAlign(),e.ctrlKey&&"z"==e.key&&!e.repeat&&t.cUndo(),e.ctrlKey&&"y"==e.key&&!e.repeat&&t.cRedo()}addOpera(e){let t=this;t.cStep++,t.cStep<t.operaLst.length&&(t.operaLst.length=t.cStep),t.operaLst.push(e)}cUndo(){if(this.cStep>=0){let e=this.operaLst[this.cStep],t=e.id,i=e.lastMatrix.clone();e.matrix.clone();let n=this.simuViewer.scene.getObjectById(t),r=n.matrixWorld.clone().invert();n.applyMatrix4(r),n.updateMatrix(),n.updateMatrixWorld(),n.applyMatrix4(i),n.updateMatrix(),n.updateMatrixWorld(),this.simuViewer.render(),this.cStep--}}cRedo(){if(this.cStep<this.operaLst.length-1){this.cStep++;let e=this.operaLst[this.cStep],t=e.id;e.lastMatrix.clone();let i=e.matrix.clone(),n=this.simuViewer.scene.getObjectById(t),r=n.matrixWorld.invert();n.applyMatrix4(r),n.updateMatrix(),n.updateMatrixWorld(),n.applyMatrix4(i),n.updateMatrix(),n.updateMatrixWorld(),this.simuViewer.render()}}addFixedAxisTransformHelper(){if(this.fixedAxisTransformHelper)return this.fixedAxisTransformHelper;this.fixedAxisTransformHelper=new Qa,this.fixedAxisTransformHelper.name="transformHelper",this.fixedAxisTransformHelper.renderOrder=999,this.alignGroup.add(this.fixedAxisTransformHelper),this.gizmo=new Qa,this.gizmo.renderOrder=999,this.gizmo.name="gizmo",this.planes=new Qa,this.fixedAxisTransformHelper.add(this.gizmo),this.fixedAxisTransformHelper.add(this.planes);let e=new oi(1,0,0),t=new oi(0,1,0),i=new oi(0,0,1),n=new oi(0,0,0),r=16711680,s=65280;this.arrowHelperX=new Oh(e,n,1,r),this.arrowHelperX.name="arrowX",this.arrowHelperX.color=r,this.arrowHelperX.cone.material.depthTest=!1,this.arrowHelperX.line.material.depthTest=!1,this.arrowHelperX.cone.material.depthWrite=!1,this.arrowHelperX.line.material.depthWrite=!1,this.arrowHelperX.cone.material.transparent=!0,this.arrowHelperX.line.material.transparent=!0,this.arrowHelperX.updateMatrix(),this.arrowHelperX.updateMatrixWorld(),this.arrowHelperY=new Oh(t,n,1,s),this.arrowHelperY.name="arrowY",this.arrowHelperY.color=s,this.arrowHelperY.cone.material.depthTest=!1,this.arrowHelperY.line.material.depthTest=!1,this.arrowHelperY.cone.material.depthWrite=!1,this.arrowHelperY.line.material.depthWrite=!1,this.arrowHelperY.cone.material.transparent=!0,this.arrowHelperY.line.material.transparent=!0,this.arrowHelperY.updateMatrix(),this.arrowHelperY.updateMatrixWorld(),this.arrowHelperZ=new Oh(i,n,1,255),this.arrowHelperZ.name="arrowZ",this.arrowHelperZ.color=255,this.arrowHelperZ.cone.material.depthTest=!1,this.arrowHelperZ.line.material.depthTest=!1,this.arrowHelperZ.cone.material.depthWrite=!1,this.arrowHelperZ.line.material.depthWrite=!1,this.arrowHelperZ.cone.material.transparent=!0,this.arrowHelperZ.line.material.transparent=!0,this.arrowHelperZ.updateMatrix(),this.arrowHelperZ.updateMatrixWorld();let a=new Ar(1e3,1e3,2,2),o=new An({visible:!1,wireframe:!0,side:p,transparent:!0,opacity:.1,toneMapped:!1});this.zPlaneMesh=new ir(a,o);let l=a.clone().rotateX(Math.PI/2),c=a.clone().rotateY(Math.PI/2);this.yPlaneMesh=new ir(l,o),this.xPlaneMesh=new ir(c,o),this.planes.add(this.xPlaneMesh),this.planes.add(this.yPlaneMesh),this.planes.add(this.zPlaneMesh),this.arrowHelperZ.updateMatrix(),this.arrowHelperZ.updateMatrixWorld(),this.gizmo.add(this.arrowHelperX),this.gizmo.add(this.arrowHelperY),this.gizmo.add(this.arrowHelperZ);let h=new cl(0,0,.5,0,2*Math.PI).getPoints(50),d=new kn;d.setFromPoints(h);let u=d.clone().rotateY(Math.PI/2),m=d.clone().rotateX(Math.PI/2),f=new No({color:16711680,side:p,transparent:!0,depthWrite:!1,toneMapped:!1,depthTest:!1});var g=new No({color:65280,side:p,transparent:!0,toneMapped:!1,depthWrite:!1,depthTest:!1});let y=new No({color:255,transparent:!0,toneMapped:!1,side:p,depthWrite:!1,depthTest:!1});this.lineX=new Fo(u,f),this.lineX.name="rotationX",this.lineX.color=r,this.lineX.renderOrder=99,this.lineY=new Fo(m,g),this.lineY.name="rotationY",this.lineY.color=s,this.lineY.renderOrder=100,this.lineZ=new Fo(d,y),this.lineZ.name="rotationZ",this.lineZ.color=255,this.lineZ.renderOrder=101,this.gizmo.add(this.lineX),this.gizmo.add(this.lineY),this.gizmo.add(this.lineZ);const v=new oc(.1,32,16),x=new pc({color:14276889,transparent:!0,depthWrite:!1,depthTest:!1});this.sphere=new ir(v,x),this.sphere.type="free",this.sphere.name="free",this.sphere.color=14276889,this.sphere.updateMatrix(),this.sphere.updateMatrixWorld(),this.gizmo.add(this.sphere)}setHelperColor(e,t){let i=t;t||(i=e.color),"ArrowHelper"==e.type?(e.setColor(i),e.updateMatrix(),e.updateMatrixWorld()):"Line"==e.type?e.material=new No({color:i,side:p,transparent:!0,depthWrite:!1,toneMapped:!1,depthTest:!1}):e.material=new pc({color:i,side:p,transparent:!0,depthWrite:!1,toneMapped:!1,depthTest:!1}),e.updateMatrix(),e.updateMatrixWorld(),this.simuViewer.render()}transformHelperMouseHover(e){if(!this.fixedAxisTransformHelper)return;this.fixedAxisTransformHelper.visible=!0;let t=e.clientX-this.renderer.domElement.getBoundingClientRect().left,i=e.clientY-this.renderer.domElement.getBoundingClientRect().top;const n=new qt(t/this.simuViewer.container.offsetWidth*2-1,-i/this.simuViewer.container.offsetHeight*2+1);let r,s,a=new Th;if(a.setFromCamera(n,this.camera),a.params.Line.threshold=.05,this.pressFreeTransformNode)r=a.intersectObject(this.simuViewer.modelRoot,!0),r.length>0?s=r[0]:(r=a.intersectObject(this.gizmo,!0),r.length>0?s=r[0]:(r=a.intersectObject(this.planes,!0),r.length>0&&(s=r[0]))),this.transformFreeTransform(s);else if(this.pressDirection)"arrowX"==this.pressDirection.name?r=a.intersectObject(this.planes.children[1],!0):"arrowY"==this.pressDirection.name?(r=a.intersectObject(this.planes.children[0],!0),r.length<0&&(r=a.intersectObject(this.planes.children[2],!0))):"arrowZ"==this.pressDirection.name&&(r=a.intersectObject(this.planes.children[1],!0)),r.length>0&&(s=r[0]),this.transformTranslation(s);else if(this.pressRotationFace)"rotationX"==this.pressRotationFace.name?r=a.intersectObject(this.planes.children[0],!0):"rotationY"==this.pressRotationFace.name?r=a.intersectObject(this.planes.children[1],!0):"rotationZ"==this.pressRotationFace.name&&(r=a.intersectObject(this.planes.children[2],!0)),r.length>0&&(s=r[0]),this.transformRotation(s);else if(r=a.intersectObject(this.gizmo,!0),this.helperHover&&this.setHelperColor(this.helperHover),r.length>0&&(s=r[0]),s&&s.object&&s.object.parent){let e=s.object;!e.name||-1==e.name.indexOf("rotation")&&-1==e.name.indexOf("free")?"ArrowHelper"==e.parent.type&&(this.helperHover=e.parent,this.setHelperColor(this.helperHover,16777215)):(this.helperHover=e,this.setHelperColor(this.helperHover,16777215))}this.simuViewer.render()}transformFreeTransform(e){if(e&&this.pressFreeTransformNode){let t=e.point.clone();this.freeTranformLastPos=t.clone();let i=new oi;i.subVectors(t,this.helperCenter);let n=new ki;n.setPosition(i),this.helperCenter.applyMatrix4(n),this.fixedAxisTransformHelper.applyMatrix4(n),this.fixedAxisTransformHelper.updateMatrix(),this.fixedAxisTransformHelper.updateMatrixWorld(),this.transformNode.applyMatrix4(n),this.transformNode.updateMatrix(),this.transformNode.updateMatrixWorld(),this.targetDiretionX.applyMatrix4(n),this.targetDiretionY.applyMatrix4(n),this.targetDiretionZ.applyMatrix4(n),this.simuViewer.render()}}transformTranslation(e){if(e&&this.pressDirection){let t=e.point.clone(),i=new oi;this.pressDirection.closestPointToPoint(t,!1,i);let n=new oi;n.subVectors(i,this.helperCenter);let r=new ki;r.setPosition(n),this.helperCenter.applyMatrix4(r),this.pressDirection.applyMatrix4(r),this.fixedAxisTransformHelper.applyMatrix4(r),this.fixedAxisTransformHelper.updateMatrix(),this.fixedAxisTransformHelper.updateMatrixWorld(),this.transformNode.applyMatrix4(r),this.transformNode.updateMatrix(),this.transformNode.updateMatrixWorld(),this.targetDiretionX.applyMatrix4(r),this.targetDiretionY.applyMatrix4(r),this.targetDiretionZ.applyMatrix4(r)}}transformRotation(e){if(e&&this.lineTransformPt&&this.pressRotationFace){let t=e.point,i=new oi,n=new oi;i.copy(this.lineTransformPt),n.copy(t);let r=new oi;r.subVectors(this.helperCenter,i).normalize();let s=new oi;s.subVectors(this.helperCenter,n).normalize(),this.lineTransformPt=n.clone();let a=new ai;a.setFromUnitVectors(r,s);let o=new oi;o.subVectors(this.helperCenter,this.helperCenter.clone().applyQuaternion(a));let l=new ki;l.compose(o,a,new oi(1,1,1)),this.fixedAxisTransformHelper.applyMatrix4(l),this.fixedAxisTransformHelper.updateMatrix(),this.fixedAxisTransformHelper.updateMatrixWorld(),this.transformNode.applyMatrix4(l),this.transformNode.updateMatrix(),this.transformNode.updateMatrixWorld(),this.targetDiretionX.applyMatrix4(l),this.targetDiretionY.applyMatrix4(l),this.targetDiretionZ.applyMatrix4(l)}}cancleTransform(){let e=this;this.assembledCallback&&this.assembledCallback({id:this.transformNode.name,matrix:this.transformNode.matrixWorld.clone().elements}),e.transformNode&&e.addOpera({id:e.transformNode.id,lastMatrix:e.transformNode.lastMatrix.clone(),matrix:e.transformNode.matrixWorld.clone()}),e.deactive()}}class yu{constructor(e){this.simuViewer=e,this.renderer=e.renderer,this.scene=e.scene,this.lights=new Qa,this.simuViewer.scene.add(this.lights),this.ambLightInt=.8,this.ambLightColor=16777215,this.dirLightInt=0,this.dirLightColor=16777215,this.ptLightInt=0,this.ptLightColor=16777215,this.spotLightInt=0,this.spotLightColor=16777215,this.hemLightInt=.1,this.hemLightColor=16777215,this.skyColor=0,this.groundColor=16777215,this.addLights()}setTextureEncoding(e){const t="sRGB"===e?vt:yt;this.renderer.outputEncoding=t,this.simuViewer.modelRoot.traverse((function(e){if(e.isMesh)if(e.material.isMaterial){let i=e.material;i.map&&(i.map.encoding=t),i.emissiveMap&&(i.emissiveMap.encoding=t),(i.map||i.emissiveMap)&&(i.needsUpdate=!0),i.needsUpdate=!0}else for(const i of e.material)i.map&&(i.map.encoding=t),i.emissiveMap&&(i.emissiveMap.encoding=t),(i.map||i.emissiveMap)&&(i.needsUpdate=!0),i.needsUpdate=!0})),this.simuViewer.render()}setExposure(e){1==(e=parseFloat(e))?(this.simuViewer.renderer.toneMapping=Y,this.simuViewer.renderer.toneMappingExposure=1):(this.simuViewer.renderer.toneMapping=K,this.simuViewer.renderer.toneMappingExposure=Math.pow(e,5)),this.simuViewer.render()}addLights(){this.pointLight=new eh(this.ptLightColor,this.ptLightInt),this.pointLight.position.set(0,1.5,2),this.pointLight.updateMatrix(),this.pointLight.updateMatrixWorld(),this.lights.add(this.pointLight),this.spotLight=new eh(this.spotLightColor,this.spotLightInt),this.spotLight.position.set(0,1.5,2),this.spotLight.updateMatrix(),this.spotLight.updateMatrixWorld(),this.lights.add(this.spotLight),this.hemiLight=new Wc(this.skyColor,this.groundColor,this.hemLightInt),this.hemiLight.name="hemi_light",this.hemiLight.updateMatrix(),this.hemiLight.updateMatrixWorld(),this.lights.add(this.hemiLight),this.ambientLight=new nh(this.ambLightColor,this.ambLightInt),this.ambientLight.name="ambient_light",this.ambientLight.updateMatrix(),this.ambientLight.updateMatrixWorld(),this.lights.add(this.ambientLight),this.directionalLight=new ih(this.dirLightColor,this.dirLightInt),this.directionalLight.position.set(.5,0,.866),this.directionalLight.name="main_light",this.directionalLight.updateMatrix(),this.directionalLight.updateMatrixWorld(),this.lights.add(this.directionalLight),this.simuViewer.render()}removeLights(){this.lights.clear(),this.simuViewer.render()}setAmbientIntensity(e){this.ambLightInt=e,this.ambientLight&&(this.ambientLight.intensity=this.ambLightInt),this.simuViewer.render()}setAmbientColor(e){let t=new Kt(e);this.ambLightColor=t,this.ambientLight&&(this.ambientLight.color=this.ambLightColor),this.simuViewer.render()}setDirectIntensity(e){this.dirLightInt=e,this.directionalLight&&(this.directionalLight.intensity=this.dirLightInt),this.simuViewer.render()}setDirectColor(e){let t=new Kt(e);this.dirLightColor=t,this.directionalLight&&(this.directionalLight.color=this.dirLightColor),this.simuViewer.render()}setPointIntensity(e){this.ptLightInt=e,this.pointLight&&(this.pointLight.intensity=this.ptLightInt),this.simuViewer.render()}setPointColor(e){let t=new Kt(e);this.ptLightColor=t,this.pointLight&&(this.pointLight.color=this.ptLightColor),this.simuViewer.render()}setSpotIntensity(e){this.spotLightInt=e,this.spotLight&&(this.spotLight.intensity=this.spotLightInt),this.simuViewer.render()}setSpotColor(e){let t=new Kt(e);this.spotLightColor=t,this.spotLight&&(this.spotLight.color=this.spotLightColor),this.simuViewer.render()}setHemisphereIntensity(e){this.hemLightInt=e,this.hemiLight&&(this.hemiLight.intensity=this.hemLightInt),this.simuViewer.render()}setSkyColor(e){let t=new Kt(e);this.skyColor=t,this.hemiLight&&(this.hemiLight.skyColor=this.skyColor),this.simuViewer.render()}setGroundColor(e){let t=new Kt(e);this.groundColor=t,this.hemiLight&&(this.hemiLight.groundColor=this.groundColor),this.simuViewer.render()}updateEnvironment(e){let t=e.color,i=e.imgUrl;if(this.simuViewer.scene.background&&this.simuViewer.scene.background.isTexture&&this.simuViewer.scene.background.dispose(),t){let e=new Kt(t);this.simuViewer.scene.background=e}else if(i){const e=new Fc;let t,n=this;i&&(t=i),this.bgTexture=e.load(t,(function(e){var t=e.image;n.simuViewer.bgWidth=t.width,n.simuViewer.bgHeight=t.height,n.simuViewer._onWindowResizeEvent()}),(function(){}),(function(e){})),n.simuViewer.bgTexture=this.bgTexture,n.simuViewer.bgTexture.wrapS=oe,n.simuViewer.bgTexture.wrapT=oe,n.simuViewer.scene.background=n.simuViewer.bgTexture}this.simuViewer.render()}}class vu{constructor(){this.Type={Uint8:0,Int16:2,Int32:3,Float32:4,FloatArry3:5},this.littleEndian=!0}checkStream(e){return this.Offset+=e,this.len>this.Offset}operStr(e){this.buffer=e,this.dataView=new DataView(e),this.len=e.byteLength,this.Offset=0,this.curptr=0}read(e){let t,i=this.littleEndian;try{switch(e){case this.Type.Uint8:if(!this.checkStream(1))break;t=this.dataView.getUint8(this.curptr,i),this.curptr+=1;break;case this.Type.Int32:if(!this.checkStream(4))break;t=this.dataView.getInt32(this.curptr,i),this.curptr+=4;break;case this.Type.Int16:if(!this.checkStream(2))break;t=this.dataView.getInt16(this.curptr,i),this.curptr+=2;break;case this.Type.Float32:if(!this.checkStream(4))break;t=this.dataView.getFloat32(this.curptr,i),this.curptr+=4}}catch(e){throw console.log(e),e}return t}readPoint(){let e=this.read(this.Type.Int32),t=new Float32Array(this.buffer.slice(this.curptr,this.curptr+3*e*4),0,3*e);return this.curptr+=3*e*4,t}readIndex(){let e=this.read(this.Type.Int32),t=new Uint32Array(this.buffer.slice(this.curptr,this.curptr+4*e),0,e);return this.curptr+=4*e,t}readGUID(){let e=this.read(this.Type.Int32),t=new TextDecoder("utf-8").decode(new Uint8Array(this.buffer,this.curptr,e));return this.curptr+=e,t}readMatrix(){let e=new Float32Array(this.buffer.slice(this.curptr,this.curptr+64),0,16);return this.curptr+=64,e}}class xu{constructor(e){this.simuViewer=e,this.camera=this.simuViewer.camera,this.scene=this.simuViewer.scene,this.renderer=this.simuViewer.renderer}parseModelFileFromLst(e,t=!0){if(this.simuViewer.addedModelIds||(this.simuViewer.addedModelIds=[]),!e||0==e.length)return console.log("该模型不存在"),-1;let i=e[0];if(0==i.model_geometry||0==i.model_node)return console.log("该模型不存在"),-1;let n,r=i.model_version,s=new Qa;if(r[0],r[2],s.name=r[0],s.nameText=r[2],-1!=this.simuViewer.addedModelIds.indexOf(s.name))return console.log("该模型在场景中已存在"),-2;this.simuViewer.addedModelIds.push(s.name),s.modelType="modelFile";let a=r[4];n=t&&a?this.parseBinaryMatrix(this._base642II(a)):a,this.simuViewer.modelRoot.add(s);let o=i.model_geometry,l=this.parseModelGeometryByLst(o,t),c=i.model_node;this.parseModelNodeFromLst(c,s,l,t);let h=new ki;return n&&h.fromArray(n),s.applyMatrix4(h),s.updateMatrix(),s.updateMatrixWorld(),this.simuViewer.zoomNode(this.simuViewer.modelRoot),this.simuViewer.setCameraView(14),this.simuViewer.render(),1}parseModelNodeFromLst(e,t,i,n){for(let r=0,s=e.length;r<s;r++){let s,a=new Qa;a.name=e[r][0],a.nameText=e[r][1],a.modelType="modelNode",a.materialid=e[r][2],a.textureid=e[r][3],s=n?this.parseBinaryMatrix(this._base642II(e[r][4])):e[r][4];let o=[];e[r][5]&&(o=this.parseBinaryNodeGeometry(this._base642II(e[r][5])));for(let t=0,n=o.length;t<n;t++){let n=o[t].geoId,s=i.get(n);if(s){let i=o[t].matrix,n=new ki;n.fromArray(i);let l=new ir(s,this.simuViewer.ModelMaterial);l.applyMatrix4(n),l.updateMatrix(),l.updateMatrixWorld(),l.name=e[r].nid+0,a.add(l)}}let l=new ki;l.fromArray(s),a.applyMatrix4(l),a.updateMatrix(),a.updateMatrixWorld(),t.add(a)}}parseModelGeometryByLst(e,t){let i=new Map;for(let n=0,r=e.length;n<r;n++){let r,s=e[n][0],a=e[n][1],o=e[n][2];if(r=t?this.parseBinaryGeometry(this._base642II(e[n][3])):e[n][3],null!=r){let e=this._getGeometry(r,a,o);null!=e&&e.computeVertexNormals(),i.get(s)||i.set(s,e)}}return i}parseModelTree(e,t,i){let n=this;if(n.simuViewer.simuTree){for(let i=0,r=e.length;i<r;i++){let r=e[i][0],s=e[i][1],a=e[i][2],o=e[i][3],l=s;""!=l&&null!=l&&null!=l||(l=t||n.simuViewer.simuTree.rootID);let c=a;this.nodeData||(this.nodeData=[]),this.nodeData.push({id:r,pId:l,name:c,nid:o,checked:!0})}this.nodeData||(this.nodeData=[]),t&&i&&this.nodeData.push({id:t,pId:n.simuViewer.simuTree.rootID,name:i,nid:t,checked:!0}),n.scene.updateMatrixWorld(!0),n.simuViewer.simuTree.addNode(this.nodeData),this.nodeData.splice(0,this.nodeData.length)}}_base642II(e){const t={0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,"+":62,"/":63};let i=.75*e.length;e=e.replace(/=*/,"");const n=new Uint8Array(i);let r,s,a,o,l=0;for(let i=0;i<e.length;i+=4)r=t[e[i]],s=t[e[i+1]],a=t[e[i+2]],o=t[e[i+3]],n[l++]=r<<2|s>>4,n[l++]=s<<4|a>>2,n[l++]=a<<6|o;return n}_getGeometry(e,t,i){let n,r=(t>>24&255)/255,s=(t>>16&255)/255,a=(t>>8&255)/255,o=(255&t)/255;if(0==o&&(o=1),0==i);else if(1==i);else if(6==i){n=new kn;let t=e.points;if(0==t.length)return;let i=t.length/3,l=new Float32Array(4*i);for(let e=0;e<i;e++)l[4*e]=r,l[4*e+1]=s,l[4*e+2]=a,l[4*e+3]=o;n.setAttribute("position",new Cn(new Float32Array(t),3)),n.setAttribute("color",new Cn(new Float32Array(l),4));let c=e.index;if(0==c.length)return;n.index=new Rn(c,1)}return n}parseBinaryMatrix(e){let t=new vu;return t.operStr(e.buffer),t.readMatrix()}parseBinaryNodeGeometry(e){let t=new vu;t.operStr(e.buffer);let i=[],n=t.read(t.Type.Int32);for(let e=0;e<n;e++){let e=t.readGUID(),n=t.readMatrix();i.push({matrix:n,geoId:e})}return i}parseBinaryGeometry(e){let t=new vu;return t.operStr(e.buffer),t.read(t.Type.Uint8),{points:t.readPoint(),index:t.readIndex()}}}class Mu{constructor(e){this.simuViewer=e,this.animationMixer=new Eh(this.simuViewer.modelRoot),this.playMode=ct,this.playSpeed=1,this.actionLst=[]}setPlayMode(e){switch(e){case 0:this.playMode=2200;break;case 1:this.playMode=ct;break;default:this.playMode=2202}for(let e=0,t=this.actionLst.length;e<t;e++){this.actionLst[e].setLoop(this.playMode)}}getPlayMode(){return this.playMode,this.playMode}setNode(){}getNode(){}setPlayTime(e){this.animationMixer.setTime(e),this.simuViewer.render()}getPlayTime(){return this.animationMixer.time}addAnimation(e){this.orgIsLoopRender||(this.orgIsLoopRender=this.simuViewer.isLoopRender),this.simuViewer.enableLoopRender(!0);let t=e.rootid,i=this.simuViewer.getNodeBySid(t),n=e.keyframeTracks,r=[];for(let e=0,t=n.length;e<t;e++){let t=n[e],i=t.name.trim(),s=t.times,a=t.values,o=new Ec(i,s,a);r.push(o)}let s=e.durationTime,a=e.name,o=e.playSpeed?e.playSpeed:this.playSpeed,l=new Uc(a,s,r),c=null;c=i?this.animationMixer.clipAction(l,i):this.animationMixer.clipAction(l),c.timeScale=o,c.setLoop(this.playMode).play(),this.actionLst.push(c)}play(){this.orgIsLoopRender||(this.orgIsLoopRender=this.simuViewer.isLoopRender),this.simuViewer.enableLoopRender(!0),this.animationMixer.timeScale=this.playSpeed;for(let e=0,t=this.actionLst.length;e<t;e++){this.actionLst[e].play()}}pause(){this.animationMixer.timeScale=0}stop(){this.animationMixer.stopAllAction();let e=this.animationMixer.getRoot();e.updateMatrix(),e.updateMatrixWorld(),this.simuViewer.render(),this.simuViewer.enableLoopRender(this.orgIsLoopRender)}setSpeed(e){this.playSpeed=e,this.animationMixer.timeScale=e}}const wu={uniforms:{u_size:{value:new oi(1,1,1)},u_renderstyle:{value:0},u_renderthreshold:{value:.5},u_clim:{value:new qt(1,1)},u_data:{value:null},u_cmdata:{value:null},cameraPos:{value:new oi}},vertexShader:'\n\n\t\tvarying vec4 v_nearpos;\n\t\tvarying vec4 v_farpos;\n\t\tvarying vec3 v_position;\n\t\t\n\t\tuniform vec3 cameraPos;\n\n\t\tout vec3 vOrigin;\n\t\tout vec3 vDirection;\n\n\t\t\t\t   \n\t\t\t\t\t  \n\t\t\t\t\t   \n\t\tvoid main() {\n\t\t\t\t// Prepare transforms to map to "camera view". See also:\n\t\t\t\t// https://threejs.org/docs/#api/renderers/webgl/WebGLProgram\n\t\t\t\tmat4 viewtransformf = modelViewMatrix;\n\t\t\t\tmat4 viewtransformi = inverse(modelViewMatrix);\n\n\t\t\t\t// Project local vertex coordinate to camera position. Then do a step\n\t\t\t\t// backward (in cam coords) to the near clipping plane, and project back. Do\n\t\t\t\t// the same for the far clipping plane. This gives us all the information we\n\t\t\t\t// need to calculate the ray and truncate it to the viewing cone.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\tvec4 position4 = vec4(position, 1.0);\n\t\t\t\tvec4 pos_in_cam = viewtransformf * position4;\n\n\t\t\t\t// Intersection of ray and near clipping plane (z = -1 in clip coords)\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\tpos_in_cam.z = -pos_in_cam.w;\n\t\t\t\tv_nearpos = viewtransformi * pos_in_cam;\n\n\t\t\t\t// Intersection of ray and far clipping plane (z = +1 in clip coords)\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\tpos_in_cam.z = pos_in_cam.w;\n\t\t\t\tv_farpos = viewtransformi * pos_in_cam;\n\n\t\t\t\t// Set varyings and output pos\n\t\t\t\t\t\t\t\t  \n\t\t\t\tv_position = position;\n\t\t\t\tvOrigin = vec3( viewtransformi * vec4( cameraPos, 1.0 ) ).xyz;\n\t\t\t\tvDirection = position - vOrigin;\n\t\t\t\tgl_Position = projectionMatrix * viewMatrix * modelMatrix * position4;\n\t\t}',fragmentShader:"\n\n\t\t\t\tprecision highp float;\n\t\t\t\tprecision mediump sampler3D;\n\n\t\t\t\tin vec3 vOrigin;\n\t\t\t\tin vec3 vDirection;\t\t\t\t\t\t   \n\t\n\t\t\t\tuniform vec3 u_size;\n\t\t\t\tuniform int u_renderstyle;\n\t\t\t\tuniform float u_renderthreshold;\n\t\t\t\tuniform vec2 u_clim;\n\n\t\t\t\tuniform sampler3D u_data;\n\t\t\t\tuniform sampler2D u_cmdata;\n\n\t\t\t\tvarying vec3 v_position;\n\t\t\t\tvarying vec4 v_nearpos;\n\t\t\t\tvarying vec4 v_farpos;\n\n\t\t\t\t// The maximum distance through our rendering volume is sqrt(3).\n\t\t\t\tconst int MAX_STEPS = 887;\t// 887 for 512^3, 1774 for 1024^3\n\t\t\t\tconst int REFINEMENT_STEPS = 4;\n\t\t\t\tconst float relative_step_size = 1.0;\n\t\t\t\tconst vec4 ambient_color = vec4(0.2, 0.4, 0.2, 1.0);\n\t\t\t\tconst vec4 diffuse_color = vec4(0.8, 0.2, 0.2, 1.0);\n\t\t\t\tconst vec4 specular_color = vec4(1.0, 1.0, 1.0, 1.0);\n\t\t\t\tconst float shininess = 40.0;\n\n\t\t\t\tvoid cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);\n\t\t\t\tvoid cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray);\n\n\t\t\t\tfloat sample1(vec3 texcoords);\n\t\t\t\tvec4 apply_colormap(float val);\n\t\t\t\tvec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray);\n\t\t\t\tvec2 boxIntersection(vec3 ro, vec3 rd, vec3 boxSize);\n\t\t\t\t\n\n\t\t\t\tvoid main() {\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\tvec3 frontPos = v_position;\t\t\t\t\t\t\n\t\t\t\t\t\tvec3 view_ray = normalize(frontPos - vOrigin);\n\t\t\t\t\t\tvec3 backPos = frontPos;\n\t\t\t\t\t\t//光线求交求的是立方体的前后两个交点\n\t\t\t\t\t\t//vec2 t = boxIntersection(vOrigin, view_ray, vec3(0.5));\n\t\t\t\t\t\tvec2 t = boxIntersection(vOrigin, view_ray, u_size);\n\t\t\t\t\t\tbackPos = vOrigin + view_ray * t.y;\n\t\t\t\t\t\tfloat distance = length(backPos - frontPos);\n\t\t\t\t\t\t// Now we have the starting position on the front surface\n\t\t\t\t\t\tvec3 front = frontPos;\n\t\t\t\t\t\t// Decide how many steps to take\n\t\t\t\t\t\t// int nsteps = int(distance / relative_step_size + 0.5);\n\t\t\t\t\t\tint nsteps = 103;\n\t\t\t\t\t\tif ( nsteps < 1 )\n\t\t\t\t\t\t\t\tdiscard;\t\t\t\t\t\n\t\t\t\t\t\t//获取纹理坐标中的起始位置和步长向量\t\t\t\t\t\t\n\t\t\t\t\t\tvec3 step = vec3(1.0);\n\t\t\t\t\t\tvec3 start_loc = front;//为什么要除以u_size\t\n\t\t\t\t\t\t\n\n\t\t\t\t\t\tif (u_renderstyle == 0)\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcast_mip(start_loc, step, nsteps, view_ray);\n\t\t\t\t\t\telse if (u_renderstyle == 1)\n\t\t\t\t\t\t\t\tcast_iso(start_loc, step, nsteps, view_ray);\n\n\t\t\t\t\t\tif (gl_FragColor.a < 0.05)\n\t\t\t\t\t\t\t\tdiscard;\n\t\t\t\t}\n\n\t\t\t\tvec2 boxIntersection(vec3 ro, vec3 rd, vec3 boxSize) {\n\t\t\t\t\t\tvec3 m = 1.0 / rd; // can precompute if traversing a set of aligned boxes\n\t\t\t\t\t\tvec3 n = m * ro;   // can precompute if traversing a set of aligned boxes\n\t\t\t\t\t\tvec3 k = abs(m) * boxSize;\n\t\t\t\t\t\tvec3 t1 = -n - k;\n\t\t\t\t\t\tvec3 t2 = -n + k;\n\t\t\t\t\t\tfloat tN = max(max(t1.x, t1.y), t1.z);\n\t\t\t\t\t\tfloat tF = min(min(t2.x, t2.y), t2.z);\n\t\t\t\t\t\tif( tN > tF || tF < 0.0) return vec2(-1.0); // no intersection\n\t\t\t\t\t\treturn vec2( tN, tF );\n\t\t\t\t}\n\n\t\t\t\tfloat sample1(vec3 texcoords) {\n\t\t\t\t\t\t/* Sample float value from a 3D texture. Assumes intensity data. */\n\t\t\t\t\t\treturn texture(u_data, texcoords.xyz).r;\n\t\t\t\t}\n\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \n\t\t\t\tvec4 apply_colormap(float val) {\n\t\t\t\t\t\tval = (val - u_clim[0]) / (u_clim[1] - u_clim[0]);\n\t\t\t\t\t\treturn texture2D(u_cmdata, vec2(val, 0.5));\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t  \n\t\t\t\t}\n\n\n\t\t\t\tvoid cast_mip(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {\n\n\t\t\t\t\t\tfloat max_val = -1e6;\n\t\t\t\t\t\tint max_i = 100;\n\t\t\t\t\t\tvec3 loc = start_loc;\n\n\t\t\t\t\t\t// Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with\n\t\t\t\t\t\t// non-constant expression. So we use a hard-coded max, and an additional condition\n\t\t\t\t\t\t// inside the loop.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\tfor (int iter=0; iter<MAX_STEPS; iter++) {\n\t\t\t\t\t\t\t\tif (iter >= nsteps)\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t// Sample from the 3D texture\n\t\t\t\t\t\t\t\tfloat val = sample1(loc);\n\t\t\t\t\t\t\t\t// Apply MIP operation\n\t\t\t\t\t\t\t\tif (val > max_val) {\n\t\t\t\t\t\t\t\t\t\tmax_val = val;\n\t\t\t\t\t\t\t\t\t\tmax_i = iter;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Advance location deeper into the volume\n\t\t\t\t\t\t\t\tloc += step;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Refine location, gives crispier images\n\t\t\t\t\t\tvec3 iloc = start_loc + step * (float(max_i) - 0.5);\n\t\t\t\t\t\tvec3 istep = step / float(REFINEMENT_STEPS);\n\t\t\t\t\t\tfor (int i=0; i<REFINEMENT_STEPS; i++) {\n\t\t\t\t\t\t\t\tmax_val = max(max_val, sample1(iloc));\n\t\t\t\t\t\t\t\tiloc += istep;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Resolve final color\n\t\t\t\t\t\tgl_FragColor = apply_colormap(max_val);\n\t\t\t\t}\n\n\n\t\t\t\tvoid cast_iso(vec3 start_loc, vec3 step, int nsteps, vec3 view_ray) {\n\n\t\t\t\t\t\tgl_FragColor = vec4(0.0);\t// init transparent\n\t\t\t\t\t\tvec4 color3 = vec4(0.0);\t// final color\n\t\t\t\t\t\tvec3 dstep = 1.5 / u_size;\t// step to sample derivative\n\t\t\t\t\t\tvec3 loc = start_loc;\n\n\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\tfloat low_threshold = u_renderthreshold - 0.02 * (u_clim[1] - u_clim[0]);\n\n\t\t\t\t\t\t// Enter the raycasting loop. In WebGL 1 the loop index cannot be compared with\n\t\t\t\t\t\t// non-constant expression. So we use a hard-coded max, and an additional condition\n\t\t\t\t\t\t// inside the loop.\n\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\tfor (int iter=0; iter<MAX_STEPS; iter++) {\n\t\t\t\t\t\t\t\tif (iter >= nsteps)\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\t\t// Sample from the 3D texture\n\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\tfloat val = sample1(loc);\n\n\t\t\t\t\t\t\t\tif (val > low_threshold) {\n\t\t\t\t\t\t\t\t\t\t// Take the last interval in smaller steps\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t\t\tvec3 iloc = loc - 0.5 * step;\n\t\t\t\t\t\t\t\t\t\tvec3 istep = step / float(REFINEMENT_STEPS);\n\t\t\t\t\t\t\t\t\t\tfor (int i=0; i<REFINEMENT_STEPS; i++) {\n\t\t\t\t\t\t\t\t\t\t\t\tval = sample1(iloc);\n\t\t\t\t\t\t\t\t\t\t\t\tif (val > u_renderthreshold) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgl_FragColor = add_lighting(val, iloc, dstep, view_ray);\n\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t \n\t\t\t\t\t\t\t\t\t\t   \n\t\t\t\t\t\t\t\t\t \n\t\t\t   \n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tiloc += istep;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Advance location deeper into the volume\n\t\t\t\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\tloc += step;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\n\n\t\t\t\tvec4 add_lighting(float val, vec3 loc, vec3 step, vec3 view_ray)\n\t\t\t\t{\n\t\t\t\t\t// Calculate color by incorporating lighting\n\t\t\t\t\t\t\t\t\t \n\n\t\t\t\t\t\t// View direction\n\t\t\t\t\t\tvec3 V = normalize(view_ray);\n\n\t\t\t\t\t\t// calculate normal vector from gradient\n\t\t\t\t\t\tvec3 N;\n\t\t\t\t\t\tfloat val1, val2;\n\t\t\t\t\t\tval1 = sample1(loc + vec3(-step[0], 0.0, 0.0));\n\t\t\t\t\t\tval2 = sample1(loc + vec3(+step[0], 0.0, 0.0));\n\t\t\t\t\t\tN[0] = val1 - val2;\n\t\t\t\t\t\tval = max(max(val1, val2), val);\n\t\t\t\t\t\tval1 = sample1(loc + vec3(0.0, -step[1], 0.0));\n\t\t\t\t\t\tval2 = sample1(loc + vec3(0.0, +step[1], 0.0));\n\t\t\t\t\t\tN[1] = val1 - val2;\n\t\t\t\t\t\tval = max(max(val1, val2), val);\n\t\t\t\t\t\tval1 = sample1(loc + vec3(0.0, 0.0, -step[2]));\n\t\t\t\t\t\tval2 = sample1(loc + vec3(0.0, 0.0, +step[2]));\n\t\t\t\t\t\tN[2] = val1 - val2;\n\t\t\t\t\t\tval = max(max(val1, val2), val);\n\n\t\t\t\t\t\tfloat gm = length(N); // gradient magnitude\n\t\t\t\t\t\tN = normalize(N);\n\n\t\t\t\t\t\t// Flip normal so it points towards viewer\n\t\t\t\t\t\tfloat Nselect = float(dot(N, V) > 0.0);\n\t\t\t\t\t\tN = (2.0 * Nselect - 1.0) * N;\t// ==\tNselect * N - (1.0-Nselect)*N;\n\n\t\t\t\t\t\t// Init colors\n\t\t\t\t\t\tvec4 ambient_color = vec4(0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\t\tvec4 diffuse_color = vec4(0.0, 0.0, 0.0, 0.0);\n\t\t\t\t\t\tvec4 specular_color = vec4(0.0, 0.0, 0.0, 0.0);\n\n\t\t\t\t\t\t// note: could allow multiple lights\n\t\t\t\t\t\tfor (int i=0; i<1; i++)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t // Get light direction (make sure to prevent zero devision)\n\t\t\t\t\t\t\t\tvec3 L = normalize(view_ray);\t//lightDirs[i];\n\t\t\t\t\t\t\t\tfloat lightEnabled = float( length(L) > 0.0 );\n\t\t\t\t\t\t\t\tL = normalize(L + (1.0 - lightEnabled));\n\n\t\t\t\t\t\t\t\t// Calculate lighting properties\n\t\t\t\t\t\t\t\tfloat lambertTerm = clamp(dot(N, L), 0.0, 1.0);\n\t\t\t\t\t\t\t\tvec3 H = normalize(L+V); // Halfway vector\n\t\t\t\t\t\t\t\tfloat specularTerm = pow(max(dot(H, N), 0.0), shininess);\n\n\t\t\t\t\t\t\t\t// Calculate mask\n\t\t\t\t\t\t\t\tfloat mask1 = lightEnabled;\n\n\t\t\t\t\t\t\t\t// Calculate colors\n\t\t\t\t\t\t\t\tambient_color +=\tmask1 * ambient_color;\t// * gl_LightSource[i].ambient;\n\t\t\t\t\t\t\t\tdiffuse_color +=\tmask1 * lambertTerm;\n\t\t\t\t\t\t\t\tspecular_color += mask1 * specularTerm * specular_color;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Calculate final color by componing different components\n\t\t\t\t\t\tvec4 final_color;\n\t\t\t\t\t\tvec4 color = apply_colormap(val);\n\t\t\t\t\t\tfinal_color = color * (ambient_color + diffuse_color) + specular_color;\n\t\t\t\t\t\tfinal_color.a = color.a;\n\t\t\t\t\t\t\t \n\t\t\t\t\t\treturn final_color;\n\t\t\t\t}"};class Su{constructor(e){this.simuViewer=e,this.scene=this.simuViewer.scene,this.camera=this.simuViewer.camera,this.renderer=this.simuViewer.renderer,this.canvas=this.renderer.domElement,this.type="",this.volumeRenderGroup=new Qa,this.scene.add(this.volumeRenderGroup)}getPaletteMap(e){let t=this,i=e.colorStops,n=e.width?e.width:256;i||(i={1:"#f00",.8:"#e2fa00",.6:"#33f900",.3:"#0349df",0:"#fff"}),this.colorStops||(this.colorStops=i);let r=document.createElement("canvas");r.width=n,r.height=10,r.style.position="absolute",r.style.top="0",r.style.right="0";let s=r.getContext("2d"),a=s.createLinearGradient(0,0,n,0);for(const e in t.colorStops)a.addColorStop(e,t.colorStops[e]);s.fillStyle=a,s.fillRect(0,0,n,10);let o=new ti(r);return o.minFilter=le,o.needsUpdate=!0,o}getAlphaScaleMap(e,t,i){let n=this,r=document.createElement("canvas");r.width=e,r.height=t;let s=r.getContext("2d");for(let e=0;e<i.length;e++){let t=i[e].weight;n.drawCircular(s,{x:i[e].x,y:i[e].y,radius:2,weight:t})}return s}drawCircular(e,t){let{x:i,y:n,radius:r,weight:s}=t;r=parseInt(r*s);let a=e.createRadialGradient(i,n,0,i,n,r);a.addColorStop(0,"rgba(255, 0, 0, 1)"),a.addColorStop(1,"rgba(0, 255, 0, 0)"),e.fillStyle=a,e.globalAlpha=s,e.beginPath(),e.arc(i,n,r,0,2*Math.PI),e.closePath(),e.fill()}setPaletteMap(e){this.colorStops=e}customRender1(e){this.orgIsLoopRender||(this.orgIsLoopRender=this.simuViewer.isLoopRender),this.simuViewer.enableLoopRender(!0);this.clear();let t=e.data,i=e.xLength,n=e.yLength,r=e.zLength,s=new Float32Array(i*n*r);for(let e=0;e<r;e++)for(let r=0;r<i;r++)for(let a=0;a<n;a++){let o=e*(i*n)+r*i+a;s[o]=t[4*o+3]}let a=e.matrix,o=new ki;a&&o.fromArray(a);let l=this.getPaletteMap({colorStops:e.colorStops,width:i});const c=new si(s,i,n,r);c.format=Pe,c.type=Me,c.minFilter=c.magFilter=ce,c.unpackAlignment=1,c.needsUpdate=!0;const h=VolumeShader1,d=or.clone(h.uniforms);d.densityTexture.value=c,d.platteTexture.value=l,d.uInvTransform.value=o.elements,d.uAlphaCorrection.value=.09,d.cameraPos.value=new oi;let p=new lr({transparent:!0,uniforms:d,vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,side:u});const m=new rr(i,n,r),f=new ir(m,p);m.translate(i/2-.5,n/2-.5,r/2-.5),a||o.makeTranslation(i/2-.5,n/2-.5,r/2-.5),f.applyMatrix4(o),f.frustumCulled=!1,f.updateMatrix(),f.updateMatrixWorld(),this.simuViewer.zoomNode(f),this.simuViewer.setCameraView(14),this.volumeRenderGroup.add(f),this.simuViewer.render()}customRender(e){this.orgIsLoopRender||(this.orgIsLoopRender=this.simuViewer.isLoopRender),this.simuViewer.enableLoopRender(!0);this.clear();let t=e.data,i=null==e.type?0:e.type,n=null==e.threshold?.15:e.threshold,r=e.xLength,s=e.yLength,a=e.zLength,o=new Float32Array(r*s*a);for(let e=0;e<a;e++)for(let i=0;i<r;i++)for(let n=0;n<s;n++){let a=e*(r*s)+i*r+n;o[a]=t[4*a+3]}let l=e.matrix,c=new ki;l&&c.fromArray(l);let h=this.getPaletteMap({colorStops:e.colorStops,width:r});const d=new si(o,r,s,a);d.format=Pe,d.type=Me,d.minFilter=d.magFilter=ce,d.unpackAlignment=1,d.needsUpdate=!0;const p=wu,m=or.clone(p.uniforms);m.u_data.value=d,m.u_size.value.set(r,s,a),m.u_clim.value.set(0,1),m.u_cmdata.value=h,m.u_renderstyle.value=i,m.u_renderthreshold.value=n;let f=new lr({transparent:!0,uniforms:m,vertexShader:p.vertexShader,fragmentShader:p.fragmentShader,side:u});const g=new rr(r,s,a),y=new ir(g,f);g.translate(r/2-.5,s/2-.5,a/2-.5),l||c.makeTranslation(r/2-.5,s/2-.5,a/2-.5),y.applyMatrix4(c),y.updateMatrix(),y.updateMatrixWorld(),this.simuViewer.zoomNode(y),this.simuViewer.setCameraView(14),this.volumeRenderGroup.add(y),this.simuViewer.render()}heatMapRender(e){this.orgIsLoopRender||(this.orgIsLoopRender=this.simuViewer.isLoopRender),this.simuViewer.enableLoopRender(!0);let t=this;t.clear();let i=e.data,n=e.xLength,r=e.yLength,s=e.zLength,a=new Float32Array(n*r*s),o=[];for(let e=0;e<s;e++){let s=[];for(let t=0;t<n;t++)for(let a=0;a<r;a++){let o={x:t,y:a,weight:i[4*(e*(n*r)+t*n+a)+3]};s.push(o)}let a=t.getAlphaScaleMap(n,r,s);o.push(a)}for(let e=0;e<s;e++){let t=o[e];for(let i=0;i<n;i++)for(let s=0;s<r;s++){let o=t.getImageData(i,s,1,1).data;a[e*n*r+i*n+s]=o[3]/255}}let l=e.matrix,c=new ki;l&&c.fromArray(l);let h=t.getPaletteMap({colorStops:e.colorStops,width:n});const d=new si(a,n,r,s);d.format=Pe,d.type=Me,d.minFilter=d.magFilter=ce,d.unpackAlignment=1,d.needsUpdate=!0;const u=wu,m=or.clone(u.uniforms);m.u_data.value=d,m.u_size.value.set(n,r,s),m.u_clim.value.set(0,1),m.u_renderstyle.value="mip",m.u_cmdata.value=h;let f=new lr({transparent:!0,uniforms:m,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,side:p});const g=new rr(n,r,s),y=new ir(g,f);g.translate(n/2-.5,r/2-.5,s/2-.5),l||c.makeTranslation(n/2-.5,r/2-.5,s/2-.5);const v=new ir(g,new An({wireframe:!0}));y.applyMatrix4(c),v.applyMatrix4(c),y.frustumCulled=!1,y.updateMatrix(),y.updateMatrixWorld(),v.updateMatrix(),v.updateMatrixWorld(),this.simuViewer.render(),this.simuViewer.render(),this.simuViewer.zoomNode(y),this.volumeRenderGroup.add(y),this.volumeRenderGroup.add(v)}isosurfaceRender(){var e=new fc({side:p}),t=1.5,i=new IsosurfaceGeometry([16,16,16],(function(e){return e.length()-1}),[[-t,-t,-t],[t,t,t]]),n=new ir(i,e);this.volumeRenderGroup.add(n)}clear(){this.volumeRenderGroup.clear(),this.volumeRenderGroup.updateMatrix(),this.volumeRenderGroup.updateMatrixWorld(),this.simuViewer.render(),null!=this.orgIsLoopRender&&this.simuViewer.enableLoopRender(this.orgIsLoopRender)}}class bu{constructor(e,t){this.containerID=e,this.container=document.getElementById(e),this.renderer=new no({antialias:!0,preserveDrawingBuffer:!0}),this.renderer.smallFeaturePixel=1,this.renderer.setPixelRatio(this.container.devicePixelRatio),this.renderer.setSize(this.container.offsetWidth,this.container.offsetHeight),this.renderer.localClippingEnabled=!0,this.container.appendChild(this.renderer.domElement),null!=t?this.camera=t:(this.camera=new hr(45,this.container.offsetWidth/this.container.offsetHeight,1,5e7),this.camera.position.set(0,0,200),this.camera.updateProjectionMatrix()),this.scene=new ro,this.scene.background=new Kt(12303291),this.scene.autoUpdate=!0,this.scene.updateMatrix(),this.scene.updateMatrixWorld(),this.modelRoot=new Qa,this.scene.add(this.modelRoot),this.axesHelper=new zh(50),this.axesHelper.position.copy(new oi),this.scene.add(this.axesHelper),this.globalPlanes=[],this.isLoopRender=!1,this.isCullbackface=!0,this.bSelectTrans=!1,this.StatsBool=!1,this.sceneBoundingSphere=new Ri(new oi(0,0,0),100),this.cameraTarget=new oi,this.clock=new hh,this.showLayers=new Ki,this.hiddenLayers=new Ki,this.hiddenLayers.set(2),this.stats=new Gh,this.stats.domElement.style.position="absolute",this.stats.domElement.style.left="250px",this.stats.domElement.style.top="0px",this.ModelMaterial=new pc({vertexColors:!0,side:d,transparent:!0,clippingPlanes:[]}),this.SelectMaterial=new pc({vertexColors:!1,side:d,transparent:!0,opacity:.5,color:16711680,clippingPlanes:[]}),this.SelectMaterial.isSelect=!0,this.selectedColor=new ii(1,0,0,1),this.clipModelMaterial=new pc({vertexColors:!0,side:d,transparent:!0,clippingPlanes:[]}),this.clipModelMaterial.isClip=!0,this.clipSelectMaterial=new pc({vertexColors:!1,side:d,color:16711680,clippingPlanes:[]}),this.clipSelectMaterial.isClip=!0,this.clipSelectMaterial.isSelect=!0,this.raycaster=new Th,this.INTERSECTED=null,this.initEvent(),this.controls=new rd(this.camera,this.renderer.domElement),this._render=this.render.bind(this),this.controls.addEventListener("change",this._render),yd.setCSS2DRender(this),this.simu_ParseDataUtils=new xu(this),this.cubeAxis=new ed(this),this.simuSection=new vd(this),this.simuExplode=new xd(this),this.modelOperation=new fu(this),this.lightUtils=new yu(this),this.simu_AnimationManager=new Mu(this),this.simu_VolumeRenderUtil=new Su(this),this.labelManager=new Td(this),this._animate=this.animate.bind(this),this.render()}initScene(){}initEvent(){this._onSelectEvent=this.onSelectEvent.bind(this),this.renderer.domElement.addEventListener("click",this._onSelectEvent),this._rightClickEvent=this.rightClickEvent.bind(this),this.renderer.domElement.addEventListener("contextmenu",this._rightClickEvent),this._onZoomEvent=this.onZoomEvent.bind(this),this.renderer.domElement.addEventListener("dblclick",this._onZoomEvent),this._ctrlDown=this.ctrlDown.bind(this),window.addEventListener("keydown",this._ctrlDown),this._ctrlUp=this.ctrlUp.bind(this),window.addEventListener("keyup",this._ctrlUp),this._onWindowResizeEvent=this.onWindowResizeEvent.bind(this),window.addEventListener("resize",this._onWindowResizeEvent,!1)}render(){let e=this,t=this.clock.getDelta();this.stats.update(),this.css2DRenderer&&this.css2DRenderer.render(this.scene,this.camera),this.labelManager&&this.labelManager.render(),this.cubeAxis&&this.cubeAxis.render(),this.firstPersonControls&&(this.camera.updateMatrix(),this.camera.updateMatrixWorld(),this.firstPersonControls.update(t)),this.flyControl&&(this.camera.updateMatrix(),this.camera.updateMatrixWorld(),this.flyControl.update(t)),this.pathRoamUtils&&this.pathRoamUtils.update(),this.pathRoamEvt&&this.pathRoamEvt(),this.simu_AnimationManager&&this.simu_AnimationManager.animationMixer&&this.simu_AnimationManager.animationMixer.update(t),this.simu_VolumeRenderUtil&&this.simu_VolumeRenderUtil.volumeRenderGroup&&this.simu_VolumeRenderUtil.volumeRenderGroup.traverse((function(t){t.isMesh&&t.material.uniforms.cameraPos&&t.material.uniforms.cameraPos.value.copy(e.camera.position)})),this.renderer.render(this.scene,this.camera)}animate(){let e=this;e.isLoopRender&&(window.requestAnimationFrame(e._animate),$h(),this.render())}enableLoopRender(e){this.isLoopRender=e,this.animate()}enableStats(e){e?this.container.appendChild(this.stats.domElement):this.container.removeChild(this.stats.domElement)}getModelFileIds(){let e=this.modelRoot.children,t=[];for(let i=0,n=e.length;i<n;i++){let n=e[i].name;t.push(n)}return t}addModelByLst(e,t=!1){this.simu_ParseDataUtils.parseModelFileFromLst(e,t)}removeModel(e){yd.removeModel(this,e)}emptyScene(){yd.emptyScene(this)}initTree(e,t,i){this.simu_ParseDataUtils.parseModelTree(e,t,i)}onWindowResizeEvent(){if(this.camera.aspect=this.container.offsetWidth/this.container.offsetHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.container.offsetWidth,this.container.offsetHeight),this.cubeAxis.onWindowResize(this.container.offsetLeft,this.container.offsetTop,this.container.offsetWidth,this.container.offsetHeight),this.css2DRenderer&&this.css2DRenderer.setSize(this.container.offsetWidth,this.container.offsetHeight),this.bgWidth&&this.bgHeight){var e=this.camera.aspect/(this.bgWidth/this.bgHeight);this.bgTexture||void 0===this.bgTexture||0==this.bgTexture||(this.bgTexture.repeat=new qt(Math.max(e,1),Math.max(1/e,1)),this.bgTexture.offset=new qt(-Math.max(e-1,0)/2,-Math.max(1/e-1,0)/2))}this.render()}onSelectEvent(e){let t=e.clientX-this.renderer.domElement.getBoundingClientRect().left,i=e.clientY-this.renderer.domElement.getBoundingClientRect().top;const n=new qt(t/this.container.offsetWidth*2-1,-i/this.container.offsetHeight*2+1);this.raycaster.setFromCamera(n,this.camera);const r=this.raycaster.intersectObject(this.modelRoot,!0);if(0==this.unSelectedIsolated&&this.cancelIsolate(),this.ctrlBool||this.removeAllFromSelectArray(),r.length>0){let t=r[0].object.parent;this.INTERSECTED!=t&&t.visible&&0!=t.isolated?(this.selectNode(t,e,r[0]),this.INTERSECTED=t):(this.INTERSECTED&&this.unSelectNode(this.INTERSECTED),this.INTERSECTED=null)}else this.INTERSECTED?(this.unSelectNode(this.INTERSECTED),this.INTERSECTED=null):null!=this.mouseUnselectedCallBack&&this.mouseUnselectedCallBack();this.render()}rightClickEvent(e){let t=e.clientX-this.renderer.domElement.getBoundingClientRect().left,i=e.clientY-this.renderer.domElement.getBoundingClientRect().top;const n=new qt(t/this.container.offsetWidth*2-1,-i/this.container.offsetHeight*2+1);this.raycaster.setFromCamera(n,this.camera);const r=this.raycaster.intersectObject(this.modelRoot,!0);let s={event:e,id:void 0,target:void 0};if(r.length>0){let e=r[0].object.parent;s.id=e.name,s.target=e}null!=this.rightCallBack&&this.rightCallBack(s),this.render()}ctrlDown(e){e.ctrlKey?this.ctrlBool=!0:e.altKey&&"h"==e.key&&(this.StatsBool?(this.enableStats(!1),this.StatsBool=!1):(this.enableStats(!0),this.StatsBool=!0))}ctrlUp(e){"Control"==e.key&&(this.ctrlBool=!1)}onZoomEvent(e){let t=e.clientX-this.renderer.domElement.getBoundingClientRect().left,i=e.clientY-this.renderer.domElement.getBoundingClientRect().top;const n=new qt(t/this.container.offsetWidth*2-1,-i/this.container.offsetHeight*2+1);this.raycaster.setFromCamera(n,this.camera);const r=this.raycaster.intersectObjects(this.scene.children,!0);if(r.length>0){let e=r[0].object.parent;e.isTransformControls||this.centerNode(e)}}selectNode(e,t,i){this.selectedSimuNodes||(this.selectedSimuNodes=[]),this.selectedSimuNodes.push(e),this.updateNodeMaterial(e),null!=this.mouseSelectedCallBack&&this.mouseSelectedCallBack([e],t,i)}updateNodeMaterial(e,t=!0){let i=this.ModelMaterial;if(e.isGroup||e.isLOD||e.isLight);else if(e.isMesh||e.isLine||e.isPoints||e.isSprite)if(e.material.map)e.material.color=t?this.SelectMaterial.color.clone():new Kt(1,1,1);else if(e.material.isUpdateMaterial)t?(e.material.orgcolor=e.material.color.clone(),e.material.color=this.SelectMaterial.color.clone()):e.material.color=e.material.orgcolor;else{i=e.material.isClip?t?this.clipSelectMaterial:this.clipModelMaterial:t?this.SelectMaterial:this.ModelMaterial,e.material=i,e.updateMatrix(),e.updateMatrixWorld()}const n=e.children;for(let e=0,i=n.length;e<i;e++)this.updateNodeMaterial(n[e],t)}unSelectNode(e){this.updateNodeMaterial(e,!1);let t=this.selectedSimuNodes.indexOf(e);-1!=t&&this.selectedSimuNodes.splice(t,1),null!=this.mouseUnselectedCallBack&&this.mouseUnselectedCallBack()}zoomNode(e,t=3){let i=this.getBoundingSphere(e,this.camera);this.sceneBoundingSphere=i,this.cameraTarget||(this.cameraTarget=new oi),this.cameraTarget.copy(i.center),this.controls.target.copy(i.center),this.controls.distance=i.radius*t,this.controls.update()}zoomNodes(e){let t;for(let i=0,n=e.length;i<n;i++){let n=e[i];if(t){let e=this.getBoundingSphere(n,this.camera);e&&t&&t.union(e)}else t=this.getBoundingSphere(n,this.camera)}t&&(this.controls.target.copy(t.center),this.controls.distance=3*t.radius,this.controls.update())}centerNode(e,t=!1){let i=this.getBoundingSphere(e,this.camera);this.controls.target.copy(i.center),t&&(this.controls.distance=2.5*i.radius),this.controls.update()}visibleNode(e,t){1==t?this.setNodeLayers(e,this.showLayers):this.setNodeLayers(e,this.hiddenLayers),this.render()}setNodeLayers(e,t){e.layers=t;const i=e.children;for(let e=0,n=i.length;e<n;e++)this.setNodeLayers(i[e],t)}getBoundingSphere(e,t){let i;if(!1===e.visible)return i;if(e.layers.test(t.layers))if(e.isGroup||e.isLOD||e.isLight);else if(e.isMesh||e.isLine||e.isPoints||e.isSprite){const t=e.geometry;t.boundingSphere||t.computeBoundingSphere(),i=t.boundingSphere?t.boundingSphere.clone().applyMatrix4(e.matrixWorld):void 0,t.boundingSphere}const n=e.children;for(let e=0,r=n.length;e<r;e++){let r=this.getBoundingSphere(n[e],t);null==i&&(i=r),void 0!==r&&i.union(r)}return i}getBoundingBox(e,t){let i;if(!1===e.visible)return i;if(e.layers.test(t.layers))if(e.isGroup||e.isLOD||e.isLight);else if(e.isMesh||e.isLine||e.isPoints||e.isSprite){const t=e.geometry;t.boundingBox||t.computeBoundingBox(),i=t.boundingBox?t.boundingBox.clone().applyMatrix4(e.matrixWorld):void 0,t.boundingBox}const n=e.children;for(let e=0,r=n.length;e<r;e++){let r=this.getBoundingBox(n[e],t);null==i&&(i=r),void 0!==r&&i.union(r)}return i}getNodeBySid(e){return this.modelRoot.getObjectByName(e)}setEffectCullBackFace(e){yd.setEffectCullBackFace(this,e)}setSelectedShortColor(e){let t,i,n,r;if(-1!=cssColorCp.indexOf("rgba")){let s=cd.getRGBA(e);t=parseFloat(s[0])/255,i=parseFloat(s[1])/255,n=parseFloat(s[2])/255,r=parseFloat(s[3])}else{let s=new Kt(e);t=s.r,i=s.g,n=s.b,r=1}this.selectedColor.set(t/255,i/255,n/255,r);for(let e=0;e<this.selectedSimuNodes.length;++e){let s=this.selectedSimuNodes[e];yd.updateNodeColor(s,t,i,n,r)}this.render()}setEffectAntialias(e){yd.setEffectAntialias(this,e)}setMouseSelectedCallback(e){yd.setMouseSelectedCallback(this,e)}setRightClickCallback(e){yd.setRightClickCallback(this,e)}setMouseUnSelectedCallback(e){yd.setMouseUnSelectedCallback(this,e)}addSelectArray(e){yd.addSelectArray(this,e)}removeFromSelectArray(e){yd.removeFromSelectArray(this,e)}removeAllFromSelectArray(){yd.removeAllFromSelectArray(this)}getSelectNum(){return yd.getSelectNum(this)}getSelectNodes(e){return yd.getSelectNodes(this,e)}getSelectObjectSIDByIndex(e){return yd.getSelectObjectSIDByIndex(this,e)}setSelectObjectBySID(e,t,i=!1){return yd.setSelectObjectBySID(this,e,t,i)}unselectObjectBySID(e){return yd.unselectObjectBySID(this,e)}unselectAllObject(){yd.unselectAllObject(this)}setObjectColorBySID(e,t){return yd.setObjectColorBySID(this,e,t)}getObjectColorBySID(e){return yd.getObjectColorBySID(this,e)}recoverObjectColorBySID(e){return yd.recoverObjectColorBySID(this,e)}recoverAllObjectColor(){return yd.recoverAllObjectColor(this)}setAllObjectAlpha(e){return yd.setAllObjectAlpha(this,e)}setObjectAlphaBySID(e,t){return yd.setObjectAlphaBySID(this,e,t)}getObjectAlphaBySID(e){return yd.getObjectAlphaBySID(this,e)}recoverObjectAlphaBySID(e){return yd.recoverObjectAlphaBySID(this,e)}recoverAllObjectAlpha(){yd.recoverAllObjectAlpha(this)}setMaterialColorBySID(e,t){yd.setMaterialColorBySID(this,e,t)}getMaterialColorBySID(e){return yd.getMaterialColorBySID(this,e)}setMaterialAlphaBySID(e,t){yd.setMaterialAlphaBySID(this,e,t)}getMaterialAlphaBySID(e){return yd.getMaterialAlphaBySID(this,e)}setAllObjectVisibility(e){yd.setAllObjectVisibility(this,e)}setObjectVisibilityBySID(e,t){return yd.setObjectVisibilityBySID(this,e,t)}getObjectVisibilityBySID(e){return yd.getObjectVisibilityBySID(this,e)}_tweenCamera(e,t){return yd._tweenCamera(this,e,t)}setCameraView(e){return yd.setCameraView(this,e)}zoomToHome(){yd.setCameraView(this,14)}zoomToScene(){yd.zoomToScene(this)}zoomToSceneTween(){yd.zoomToSceneTween(this)}zoomToSID(e){return yd.zoomToSID(this,e)}zoomToSelectedObject(){yd.zoomToSelectedObject(this)}saveCamera(){return yd.saveCamera(this)}setCamera(e){yd.setCamera(this,e)}getViewerCamera(){return this.camera}setBorderMode(e){yd.setBorderMode(this,e)}setWireframeMode(e){yd.setWireframeMode(this,e)}setColorMode(){yd.setColorMode(this)}setTextureMode(e,t){yd.setTextureMode(this,e,t)}hideSelectMesh(){yd.hideSelectMesh(this)}hideUnSelectMesh(){yd.hideUnSelectMesh(this)}showHidedMesh(){yd.showHidedMesh(this)}explodeModel(e){this.simuExplode.globeExpodeModel(e)}cancelExplode(){this.simuExplode.cancelGlobeExplode()}localExplodeModel(e){this.simuExplode.localExplodeModel(e)}cancelLocalExplode(e){this.simuExplode.cancelLocalExplode(e)}isolateModel(e=!0){this.unSelectedIsolated=e,this.modelRoot.traverse((function(t){t.isMesh&&(t.material.isSelect||(e&&(t.parent.isolated=!1),null==t.material.orgOpacity&&(t.material.orgOpacity=t.material.opacity),t.material.opacity=.2))})),this.render()}cancelIsolate(){this.unSelectedIsolated=void 0,this.modelRoot.traverse((function(e){e.isMesh&&(e.material.isSelect||(e.parent.isolated=void 0,e.material.orgOpacity&&(e.material.opacity=e.material.orgOpacity)))})),this.render()}measure(e){let t=this;this.simuMeasure||(this.simuMeasure=new Md(t)),this.simuMeasure.activate(e)}setFirstPersonControls(){Nd.setFirstPersonControls(this)}setFlyControl(){Nd.setFlyControl(this)}setPathRoam(e){Nd.setPathRoam(this,e)}pathRoamSetPath(e){Nd.pathRoamSetPath(this,e)}defaultCtrl(){Nd.defaultCtrl(this)}setAssembleTransform(e){this.simuAssembleManager||(this.simuAssembleManager=new gu(this)),this.simuAssembleManager.activate(e)}cancleTransform(){this.simuAssembleManager||(this.simuAssembleManager=new gu(this)),this.simuAssembleManager.cancleTransform()}setAssembledCallback(e){this.simuAssembleManager||(this.simuAssembleManager=new gu(this)),this.simuAssembleManager.setAssembledCallback(e)}setTransformOperatingMode(e){this.simuAssembleManager||(this.simuAssembleManager=new gu(this)),this.simuAssembleManager.setOperatingMode(e)}setTextureEncoding(e){this.lightUtils.setTextureEncoding(e)}setEnvironment(){this.lightUtils.setEnvironment()}setExposure(e){this.lightUtils.setExposure(e)}addLights(){this.lightUtils.addLights()}removeLights(){this.lightUtils.removeLights()}setAmbientIntensity(e){this.lightUtils.setAmbientIntensity(e)}setAmbientColor(e){this.lightUtils.setAmbientColor(e)}setDirectIntensity(e){this.lightUtils.setDirectIntensity(e)}setDirectColor(e){this.lightUtils.setDirectColor(e)}setPointIntensity(e){this.lightUtils.setPointIntensity(e)}setPointColor(e){this.lightUtils.setPointColor(e)}setSpotIntensity(e){this.lightUtils.setSpotIntensity(e)}setSpotColor(e){this.lightUtils.setSpotColor(e)}setHemisphereIntensity(e){this.lightUtils.setHemisphereIntensity(e)}setSkyColor(e){this.lightUtils.setSkyColor(e)}setGroundColor(e){this.lightUtils.setGroundColor(e)}updateEnvironment(e){this.lightUtils.updateEnvironment(e)}editMaterial(e){yd.editMaterial(this,e)}updateMaterial(e){yd.updateMaterial(this,e)}addAnimation(e){this.simu_AnimationManager.addAnimation(e)}setAnimationSpeed(e){this.simu_AnimationManager.setSpeed(e)}setAnimationPlayMode(e){this.simu_AnimationManager.setPlayMode(e)}setAnimationPlayTime(e){this.simu_AnimationManager.setPlayTime(e)}setAnimationStart(){this.simu_AnimationManager.play()}setAnimationPause(){this.simu_AnimationManager.pause()}setAnimationStop(){this.simu_AnimationManager.stop()}customVolumeRender(e){this.simu_VolumeRenderUtil.customRender(e)}heatMapVolumeRender(e){this.simu_VolumeRenderUtil.heatMapRender(e)}isosurfaceRender(e){this.simu_VolumeRenderUtil.customRender(e)}clearRender(){this.simu_VolumeRenderUtil.clear()}}return class{constructor(e,t){try{this.simuViewer=new bu(e,t)}catch(e){throw console.log(e),e}}enableLoopRender(e){try{this.simuViewer.enableLoopRender(e)}catch(e){throw console.log(e),e}}setEffectCullBackFace(e){try{return this.isCullbackface=e,this.simuViewer.setEffectCullBackFace(e)}catch(e){throw console.log(e),e}}enableStats(e){try{this.simuViewer.enableStats(e)}catch(e){throw console.log(e),e}}addModelByLst(e,t=!1){this.simuViewer.addModelByLst(e,t)}removeModel(e){try{return this.simuViewer.removeModel(e)}catch(e){throw console.log(e),e}}initTree(e,t,i){try{this.simuViewer.initTree(e,t,i)}catch(e){throw console.log(e),e}}emptyScene(){try{this.simuViewer.emptyScene()}catch(e){throw console.log(e),e}}saveImage(){try{var e=this.simuViewer.renderer.domElement,t=document.createElement("a");t.href=e.toDataURL("image/png"),t.download="threejs.png",t.click()}catch(e){throw console.log(e),e}}setMouseSelectedCallback(e){try{let t=0;return"function"!=typeof e?(t=-2,t):(this.simuViewer.setMouseSelectedCallback(e),t)}catch(e){throw console.log(e),e}}setMouseUnSelectedCallback(e){try{let t=0;return"function"!=typeof e?(t=-2,t):(this.simuViewer.setMouseUnSelectedCallback(e),t)}catch(e){throw console.log(e),e}}setRightClickCallback(e){try{let t=0;return"function"!=typeof e?(t=-2,t):(this.simuViewer.setRightClickCallback(e),t)}catch(e){throw console.log(e),e}}getSelectNum(){try{return this.simuViewer.getSelectNum()}catch(e){throw console.log(e),e}}getSelectNodes(e){try{return this.simuViewer.getSelectNodes(e)}catch(e){throw console.log(e),e}}getSelectObjectSIDByIndex(e){try{return this.simuViewer.getSelectObjectSIDByIndex(e)}catch(e){throw console.log(e),e}}setSelectObjectBySID(e,t=!0){try{return this.simuViewer.setSelectObjectBySID(e,t)}catch(e){throw console.log(e),e}}unselectObjectBySID(e){try{return this.simuViewer.unselectObjectBySID(e)}catch(e){throw console.log(e),e}}unselectAllObject(){try{this.simuViewer.unselectAllObject()}catch(e){throw console.log(e),e}}setObjectColorBySID(e,t){try{return this.simuViewer.setObjectColorBySID(e,t)}catch(e){throw console.log(e),e}}getObjectColorBySID(e){try{let t=this.simuViewer.getObjectColorBySID(e),i=[];return i.push(t.x),i.push(t.y),i.push(t.z),i.push(t.w),i}catch(e){throw console.log(e),e}}setAllObjectAlpha(e){try{e>1&&(e=1),e<0&&(e=0),this.simuViewer.setAllObjectAlpha(e)}catch(e){throw console.log(e),e}}setObjectAlphaBySID(e,t){try{return t>1&&(t=1),t<0&&(t=0),this.simuViewer.setObjectAlphaBySID(e,t)}catch(e){throw console.log(e),e}}getObjectAlphaBySID(e){try{return this.simuViewer.getObjectAlphaBySID(e)}catch(e){throw console.log(e),e}}setMaterialColorBySID(e,t){try{this.simuViewer.setMaterialColorBySID(e,t)}catch(e){throw console.log(e),e}}getMaterialColorBySID(e){try{let t=this.simuViewer.getMaterialColorBySID(e),i=[];return i.push(t.x),i.push(t.y),i.push(t.z),i.push(t.w),i}catch(e){throw console.log(e),e}}setMaterialAlphaBySID(e,t){try{this.simuViewer.setMaterialAlphaBySID(e,t)}catch(e){throw console.log(e),e}}getMaterialAlphaBySID(e){try{return this.simuViewer.getMaterialAlphaBySID(e)}catch(e){throw console.log(e),e}}recoverObjectColorBySID(e){try{return this.simuViewer.recoverObjectColorBySID(e)}catch(e){throw console.log(e),e}}recoverAllObjectColor(){try{this.simuViewer.recoverAllObjectColor()}catch(e){throw console.log(e),e}}recoverObjectAlphaBySID(e){try{return this.simuViewer.recoverObjectAlphaBySID(e)}catch(e){throw console.log(e),e}}recoverAllObjectAlpha(){try{this.simuViewer.recoverAllObjectAlpha()}catch(e){throw console.log(e),e}}editMaterial(e){try{this.simuViewer.editMaterial(e)}catch(e){throw console.log(e),e}}updateMaterial(e){try{this.simuViewer.updateMaterial(e)}catch(e){throw console.log(e),e}}setAllObjectVisibility(e){try{this.simuViewer.setAllObjectVisibility(e)}catch(e){throw console.log(e),e}}setObjectVisibilityBySID(e,t){try{return this.simuViewer.setObjectVisibilityBySID(e,t)}catch(e){throw console.log(e),e}}getObjectVisibilityBySID(e){try{return this.simuViewer.getObjectVisibilityBySID(e)}catch(e){throw console.log(e),e}}zoomToHome(){try{this.simuViewer.zoomToHome()}catch(e){throw console.log(e),e}}zoomFitAll(){try{this.simuViewer.zoomToSceneTween()}catch(e){throw console.log(e),e}}zoomFitActor(e){try{return this.simuViewer.zoomToSID(e)}catch(e){throw console.log(e),e}}zoomToSelectedObject(){try{this.simuViewer.zoomToSelectedObject()}catch(e){throw console.log(e),e}}saveCamera(){try{return this.simuViewer.saveCamera()}catch(e){throw console.log(e),e}}setCamera(e){try{this.simuViewer.setCamera(e)}catch(e){throw console.log(e),e}}getViewerCamera(){try{return this.simuViewer.getViewerCamera()}catch(e){throw console.log(e),e}}setStandardView(e){try{return this.simuViewer.setCameraView(e)}catch(e){throw console.log(e),e}}statMesh(){try{return this.simuViewer.statMesh()}catch(e){throw console.log(e),e}}setSectionView(e,t){try{let i=0;switch(this.simuViewer.simuSection.deactive(),t||(t={}),e){case 0:t.type="XY",this.simuViewer.simuSection.setSectionView(t);break;case 1:t.type="XZ",this.simuViewer.simuSection.setSectionView(t);break;case 2:t.type="YZ",this.simuViewer.simuSection.setSectionView(t);break;case 3:t.type="THREEPTS",this.simuViewer.simuSection.setSectionView(t);break;case 4:t.type="PICKFACE",this.simuViewer.simuSection.setSectionView(t);break;case 5:t.type="FREESECTION",this.simuViewer.simuSection.setSectionView(t);break;default:i=-2}return i}catch(e){throw console.log(e),e}}clearSectionView(){try{this.simuViewer.simuSection.clearSectionView()}catch(e){throw console.log(e),e}}getModelFileIds(){try{return this.simuViewer.getModelFileIds()}catch(e){throw console.log(e),e}}setEffectRenderMode(e,t,i){try{let n=0;return 0==e?this.simuViewer.setColorMode():1==e?this.simuViewer.setBorderMode(!this.simuViewer.borderMode):2==e?this.simuViewer.setWireframeMode(!this.simuViewer.wireframeMode):3==e?this.simuViewer.setTextureMode(t,i):n=-2,n}catch(e){throw console.log(e),e}}hideSelectMesh(){try{this.simuViewer.hideSelectMesh()}catch(e){throw console.log(e),e}}hideUnSelectMesh(){try{this.simuViewer.hideUnSelectMesh()}catch(e){throw console.log(e),e}}showHidedMesh(){try{this.simuViewer.showHidedMesh()}catch(e){throw console.log(e),e}}explodeModel(e){try{this.simuViewer.explodeModel(e)}catch(e){throw console.log(e),e}}cancelExplode(){try{this.simuViewer.cancelExplode()}catch(e){throw console.log(e),e}}localExplodeModel(e){try{this.simuViewer.localExplodeModel(e)}catch(e){throw console.log(e),e}}cancelLocalExplode(e){try{this.simuViewer.cancelLocalExplode(e)}catch(e){throw console.log(e),e}}isolateModel(){try{this.simuViewer.isolateModel()}catch(e){throw console.log(e),e}}cancelIsolate(){try{this.simuViewer.cancelIsolate()}catch(e){throw console.log(e),e}}measure(e){try{let t={0:"Coordinate",1:"Distance",2:"Area",3:"Angle",4:"DistOfPt2Line",5:"DistOfPt2Face",6:"DistOf2Lines",7:"DistOf2Objects",8:"LineLen",9:"LinesAngle",10:"MeasureRadius",11:"PlanePerimeter",12:"PlaneArea",13:"SurfaceArea",14:"Volume",15:"SlopeRatio"},i=0;return t[e]?(this.simuViewer.measure(t[e]),i):(i=-2,i)}catch(e){throw console.log(e),e}}measureClear(){try{this.simuViewer.simuMeasure&&this.simuViewer.simuMeasure.clear()}catch(e){throw console.log(e),e}}modelTransform(e){try{let t=0;return 0!=e&&1!=e&&2!=e&&(t=-2),this.simuViewer.modelOperation.active(e),t}catch(e){throw console.log(e),e}}stopTransform(){try{this.simuViewer.modelOperation.deactive()}catch(e){throw console.log(e),e}}modelRestore(){try{this.simuViewer.modelOperation.modelRestore()}catch(e){throw console.log(e),e}}addLabel(e){try{let t=0,i="TEXT";switch(e){case 0:i="TEXT";break;case 1:i="IMG";break;case 2:i="CIRCLE";break;case 3:i="RECT";break;case 4:i="REDLINE";break;case 5:i="TEXTEDIT";break;default:t=-2}return this.simuViewer.labelManager.activate(i),t}catch(e){throw console.log(e),e}}setImgLabelDefaultImg(e){try{this.simuViewer.labelManager.setDefaultImg(e)}catch(e){throw console.log(e),e}}createLabelByParam(e){try{this.simuViewer.labelManager.createLabelByParam(e)}catch(e){throw console.log(e),e}}setLabelClickCallback(e){try{this.simuViewer.labelManager.setLabelClickCallback(e)}catch(e){throw console.log(e),e}}setTxtLabelSaveCallback(e){try{this.simuViewer.labelManager.setTxtLabelSaveCallback(e)}catch(e){throw console.log(e),e}}setImgLabelSaveCallback(e){try{this.simuViewer.labelManager.setImgLabelSaveCallback(e)}catch(e){throw console.log(e),e}}setGeoAnnotationSaveCallback(e){try{this.simuViewer.labelManager.setGeoAnnotationSaveCallback(e)}catch(e){throw console.log(e),e}}clearLabel(){try{this.simuViewer.labelManager.clearLabel()}catch(e){throw console.log(e),e}}firstPersonCtrl(){try{this.simuViewer.setFirstPersonControls()}catch(e){throw console.log(e),e}}flyCtrl(){try{this.simuViewer.setFlyControl()}catch(e){throw console.log(e),e}}pathRoam(e){try{this.simuViewer.setPathRoam(e)}catch(e){throw console.log(e),e}}pathRoamSetPath(e){try{this.simuViewer.pathRoamSetPath(e)}catch(e){throw console.log(e),e}}defaultCtrl(){try{this.simuViewer.defaultCtrl()}catch(e){throw console.log(e),e}}updateEnvironment(e){try{this.simuViewer.updateEnvironment(e)}catch(e){throw console.log(e),e}}setTextureEncoding(e){try{this.simuViewer.setTextureEncoding(e)}catch(e){throw console.log(e),e}}setExposure(e){try{this.simuViewer.setExposure(e)}catch(e){throw console.log(e),e}}addLights(){try{this.simuViewer.addLights()}catch(e){throw console.log(e),e}}removeLights(){try{this.simuViewer.removeLights()}catch(e){throw console.log(e),e}}setAmbientIntensity(e){try{this.simuViewer.setAmbientIntensity(e)}catch(e){throw console.log(e),e}}setAmbientColor(e){try{this.simuViewer.setAmbientColor(e)}catch(e){throw console.log(e),e}}setDirectIntensity(e){try{this.simuViewer.setDirectIntensity(e)}catch(e){throw console.log(e),e}}setDirectColor(e){try{this.simuViewer.setDirectColor(e)}catch(e){throw console.log(e),e}}setPointIntensity(e){this.simuViewer.setPointIntensity(e)}setPointColor(e){this.simuViewer.setPointColor(e)}setSpotIntensity(e){this.simuViewer.setSpotIntensity(e)}setSpotColor(e){this.simuViewer.setSpotColor(e)}setHemisphereIntensity(e){this.simuViewer.setHemisphereIntensity(e)}setSkyColor(e){this.simuViewer.setSkyColor(e)}setGroundColor(e){this.simuViewer.setGroundColor(e)}setAssembleTransform(e){try{this.simuViewer.setAssembleTransform(e)}catch(e){throw console.log(e),e}}cancleTransform(){try{this.simuViewer.cancleTransform()}catch(e){throw console.log(e),e}}setAssembledCallback(e){try{this.simuViewer.setAssembledCallback(e)}catch(e){throw console.log(e),e}}setTransformOperatingMode(e){try{this.simuViewer.setTransformOperatingMode(e)}catch(e){throw console.log(e),e}}addAnimation(e){try{this.simuViewer.addAnimation(e)}catch(e){throw console.log(e),e}}setAnimationSpeed(e){try{this.simuViewer.setAnimationSpeed(e)}catch(e){throw console.log(e),e}}setAnimationPlayMode(e){try{this.simuViewer.setAnimationPlayMode(e)}catch(e){throw console.log(e),e}}setAnimationPlayTime(e){try{this.simuViewer.setAnimationPlayTime(e)}catch(e){throw console.log(e),e}}setAnimationStart(){try{this.simuViewer.setAnimationStart()}catch(e){throw console.log(e),e}}setAnimationPause(){try{this.simuViewer.setAnimationPause()}catch(e){throw console.log(e),e}}setAnimationStop(){try{this.simuViewer.setAnimationStop()}catch(e){throw console.log(e),e}}customVolumeRender(e){try{this.simuViewer.customVolumeRender(e)}catch(e){throw console.log(e),e}}heatMapVolumeRender(e){try{this.simuViewer.heatMapVolumeRender(e)}catch(e){throw console.log(e),e}}isosurfaceRender(e){try{this.simuViewer.isosurfaceRender(e)}catch(e){throw console.log(e),e}}clearRender(){try{this.simuViewer.clearRender()}catch(e){throw console.log(e),e}}add3DHeatMap(){try{this.simuViewer.add3DHeatMap()}catch(e){throw console.log(e),e}}clear3DHeatMap(){try{this.simuViewer.clear3DHeatMap()}catch(e){throw console.log(e),e}}collisionDetection(){try{this.simuViewer.collisionDetection()}catch(e){throw console.log(e),e}}collisionDectClear(){try{this.simuViewer.collisionDectClear()}catch(e){throw console.log(e),e}}gammaOutput(e){try{this.simuViewer.gammaOutput(e)}catch(e){throw console.log(e),e}}setEnvironment(){try{this.simuViewer.setEnvironment()}catch(e){throw console.log(e),e}}}}));
